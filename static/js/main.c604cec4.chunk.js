(this["webpackJsonpfisicartivo-beta"]=this["webpackJsonpfisicartivo-beta"]||[]).push([[0],{132:function(e){e.exports=JSON.parse('{"title":"Evaluaci\xf3n pedag\xf3gica de actividades (dirigida a maestros)","description":"Por favor, denos su opicion acerca de los siguientes puntos","pages":[{"name":"page1","elements":[{"type":"comment","name":"question_1","title":"1. En que curso(s) es factible usar las herramientas:","isRequired":true,"requiredErrorText":"Esta pregunta es obligatoria","placeHolder":"Escribe aqui los cursos adecuados para usar esta herramienta"},{"type":"radiogroup","name":"question_2","title":"2. \xbfQu\xe9 edades tienen los estudiantes en esos cursos? ","isRequired":true,"requiredErrorText":"Esta pregunta es obligatoria","choices":[{"value":"14_a\xf1os","text":"14 a\xf1os"},{"value":"15_a\xf1os","text":"15 a\xf1os"},{"value":"16_a\xf1os","text":"16 a\xf1os"}],"hasOther":true,"otherPlaceHolder":"Escribe aqui","otherText":"Otra edad (escriba)"},{"type":"comment","name":"question_3","title":"3. \xbfque conocimientos previos tienen los estudiantes de estos cursos?","isRequired":true,"requiredErrorText":"Esta pregunta es obligatoria","placeHolder":"Describir temas y conocimientos previos necesarios para realizar dicho(s) curso(s)"},{"type":"comment","name":"question_4","title":"4. \xbfQue nivel de motivaci\xf3n tienen estos estudiantes al realizar estos cursos en clase? ","isRequired":true,"requiredErrorText":"Esta pregunta es obligatoria","placeHolder":"Describir nivel de aburrimiento, entusiasmo e interes del alumnado."},{"type":"comment","name":"question_5","title":"5. \xbfQu\xe9 tipo de problemas ha detectado en la ense\xf1anza de enlaces en este curso?","isRequired":true,"requiredErrorText":"Esta pregunta es obligatoria","placeHolder":"Por ejemplo, qu\xe9 temas les resulta m\xe1s dif\xedcil de entender a estos estudiantes, por qu\xe9 cree que se produce el problema. "},{"type":"radiogroup","name":"question_6","title":"6. \xbfCree que las herramientas mostradas ayudar\xedan a resolver esos problemas? ","isRequired":true,"requiredErrorText":"Esta pregunta es obligatoria","choices":[{"value":"case_yes","text":"Si"},{"value":"case_no","text":"No"}]},{"type":"comment","name":"question_6_case_yes","visible":false,"visibleIf":"{question_6} = \'case_yes\'","title":"\xbfQu\xe9 contenidos y/o habilidades cree que las herramientas pueden ayudar a adquirir y/o mejorar?","isRequired":true,"requiredErrorText":"Esta pregunta es obligatoria"},{"type":"comment","name":"question_6_case_no","visible":false,"visibleIf":"{question_6} = \'case_no\'","title":"\xbfQu\xe9 problemas detecta?, \xbfPuede sugerir cambios que permitiesen mejorar las actividades mostradas?","isRequired":true,"requiredErrorText":"Esta pregunta es obligatoria"},{"type":"comment","name":"question_7","title":"7. C\xf3mo integrar\xeda una o varias de estas actividades en sus cursos (dentro o fuera del aula de clase / como actividades ordinarias o extraordinarias en su curso).","isRequired":true,"requiredErrorText":"Esta pregunta es obligatoria"},{"type":"comment","name":"question_8","title":"8. \xbfCu\xe1nto tiempo le dedicar\xeda a este tipo de actividad? \\n \\n","isRequired":true,"requiredErrorText":"Esta pregunta es obligatoria"},{"type":"comment","name":"question_9","title":"9. \xbfCu\xe1ntas repeticiones de cada actividad cree que ser\xeda necesario que sus alumnos hicieran? ","isRequired":true,"requiredErrorText":"Esta pregunta es obligatoria"},{"type":"radiogroup","name":"question_10","title":"10. \xbfLe parece conveniente que luego de la actividad utilizando la tecnolog\xeda de RA los estudiantes utilizaran un periodo de reflexi\xf3n para comentar lo que aprendieron?","isRequired":true,"requiredErrorText":"Esta pregunta es obligatoria","choices":[{"value":"case_yes","text":"Si"},{"value":"case_no","text":"No"}]},{"type":"matrix","name":"question_11","title":"11. Evaluaci\xf3n de usabilidad de la aplicaci\xf3n:","description":"Respecto a la usabilidad, responda los siguientes puntos.","columns":[{"value":"likert_1","text":"Totalmente en desacuerdo"},{"value":"likert_2","text":"Algo en desacuerdo"},{"value":"likert_3","text":"Ni en acuerdo ni en desacuerdo"},{"value":"likert_4","text":"Algo de acuerdo"},{"value":"likert_5","text":"Totalmente de acuerdo"}],"rows":[{"value":"Row_1","text":"Es f\xe1cil de usar"},{"value":"Row_2","text":"Le result\xf3 atractiva"},{"value":"Row_3","text":"Le parecio \xfatil"},{"value":"Row_4","text":"Le gustar\xeda usarlo en cursos"}]},{"type":"comment","name":"question_12","title":"\xbfAlg\xfan comentario o sugerencia que desee agregar?"}]}],"showQuestionNumbers":"off"}')},155:function(e,t,n){},156:function(e,t,n){},174:function(e){e.exports=JSON.parse("{}")},181:function(e,t){},182:function(e,t){},183:function(e,t){},185:function(e,t,n){"use strict";n.r(t);var a=n(1),o=n.n(a),i=n(22),r=n.n(i),s=(n(155),n.p,n(156),n(23)),c=n(29),l=n(24),d=n(87),u=n(25),p=n(124),h=(n(157),n(160),n(162),p.a.initializeApp({apiKey:"AIzaSyD_e5N5EKFYSlN0Ey58xNXoSf8TGHdn8QA",authDomain:"fisicartivo-beta.firebaseapp.com",projectId:"fisicartivo-beta",storageBucket:"fisicartivo-beta.appspot.com",messagingSenderId:"113809138833",appId:"1:113809138833:web:59b87864705f796f8a4b30"})),m=h.auth(),f=h.firestore(),b=n(2),g=o.a.createContext();function x(){return Object(a.useContext)(g)}function v(e){var t=e.children,n=Object(a.useState)(),o=Object(u.a)(n,2),i=o[0],r=o[1],s=Object(a.useState)(!0),c=Object(u.a)(s,2),l=c[0],d=c[1];Object(a.useEffect)((function(){return m.onAuthStateChanged((function(e){r(e),d(!1)}))}),[]);var p={currentUser:i,signup:function(e,t,n,a,o,i){return m.createUserWithEmailAndPassword(e,t).then((function(e){f.collection("users").doc(e.user.uid).set({email:e.user.email,uid:e.user.uid,fname:n,lname:a,birthday:o,sex:i})}))},login:function(e,t){return m.signInWithEmailAndPassword(e,t)},logout:function(){return m.signOut()},resetPassword:function(e){return m.sendPasswordResetEmail(e)},updateEmail:function(e){return i.updateEmail(e)},updatePassword:function(e){return i.updatePassword(e)}};return Object(b.jsx)(g.Provider,{value:p,children:!l&&t})}var y=["component"];function w(e){var t=e.component,n=Object(d.a)(e,y),a=x().currentUser;return Object(b.jsx)(c.b,Object(l.a)(Object(l.a)({},n),{},{render:function(e){return a?Object(b.jsx)(t,Object(l.a)({},e)):Object(b.jsx)(c.a,{to:"/login"})}}))}var M=["component"];function O(e){var t=e.component,n=Object(d.a)(e,M),a=x().currentUser;return Object(b.jsx)(c.b,Object(l.a)(Object(l.a)({},n),{},{render:function(e){return a?Object(b.jsx)(c.a,{to:"/excercises"}):Object(b.jsx)(t,Object(l.a)({},e))}}))}var P=n(67),C=n(223),I=n(225),j=n(228),A=n(227),S=n(226),B=n(222),k=n(220),T=n(224),E=n(130),R=n.n(E),N=n(56),V=n(218),_=n(219),D=n(221),F=n(240);function L(){return Object(b.jsxs)(N.a,{variant:"body2",color:"textSecondary",align:"center",children:["Proyecto FisicARtivo",Object(b.jsx)("br",{}),Object(b.jsx)(V.a,{color:"inherit",href:"https://www.culiacan.tecnm.mx/",children:"Tecnol\xf3gico Nacional De M\xe9xico Campus Culic\xe1n"}),Object(b.jsx)("br",{}),"\n",Object(b.jsx)(V.a,{color:"inherit",href:"https://conacyt.mx/",children:"CONACYT 2021"})]})}var z=Object(_.a)((function(e){return{"@global":{ul:{margin:0,padding:0,listStyle:"none"}},appBar:{borderBottom:"1px solid ".concat(e.palette.divider)},toolbar:{flexWrap:"wrap"},toolbarTitle:{flexGrow:1},link:{margin:e.spacing(1,1.5)},heroContent:{padding:e.spacing(8,0,6)},startButtonContent:{margin:e.spacing(1)},cardHeader:{backgroundColor:"light"===e.palette.type?e.palette.grey[200]:e.palette.grey[700]},cardImage:{display:"flex",justifyContent:"center",alignItems:"baseline",marginBottom:e.spacing(2)},footer:Object(P.a)({borderTop:"1px solid ".concat(e.palette.divider),marginTop:e.spacing(8),paddingTop:e.spacing(3),paddingBottom:e.spacing(3)},e.breakpoints.up("sm"),{paddingTop:e.spacing(6),paddingBottom:e.spacing(6)}),marginAutoContainer:{width:500,height:80,display:"flex"},marginAutoItem:{margin:e.spacing(1)},alignItemsAndJustifyContent:{width:500,height:80,display:"flex",alignItems:"center",justifyContent:"center"}}})),U=[{title:"Paso 1",description:["Selecciona uno de los diversos ejercicios para aprender fisica"],buttonText:"Sign up for free",buttonVariant:"outlined"},{title:"Paso 2",description:["Activa el modo AR de tu dispositivo m\xf3vil Android","(Solo es compatible usando navegador Chrome y Android 8 en adelante)"],buttonText:"Lista de compatibilidad",buttonVariant:"contained",hasButton:!0,buttonURl:"https://developers.google.com/ar/discover/supported-devices#google_play_devices"},{title:"Paso 3",description:["Interactua con los objetos virtuales en tu alrededor y responde las preguntas!"],buttonText:"Contact us",buttonVariant:"outlined"}];function X(){var e=z();return Object(b.jsxs)(o.a.Fragment,{children:[Object(b.jsx)(k.a,{}),Object(b.jsxs)(D.a,{maxWidth:"sm",component:"main",className:e.heroContent,children:[Object(b.jsx)(F.a,{m:1,align:"center",maxWidth:"xs",children:Object(b.jsx)("img",{src:"/images/logopage.png",style:{width:"59%",height:"50%",flex:1,display:"flex"}})}),Object(b.jsxs)(F.a,{m:2,children:[Object(b.jsx)(N.a,{component:"h1",variant:"h2",align:"center",color:"textPrimary",gutterBottom:!0,children:"FisicARtivo"}),Object(b.jsx)(N.a,{variant:"h5",align:"center",color:"textSecondary",component:"p",children:"\xa1Aprende f\xedsica en Realidad Aumentada!"})]}),Object(b.jsx)(F.a,{children:Object(b.jsx)(B.a,{component:"video",className:e.media,src:"/videos/intro.mp4",controls:!0})}),Object(b.jsx)(D.a,{align:"center",maxWidth:"xs"}),Object(b.jsx)(F.a,{p:2,textAlign:"center",maxWidth:"sm",component:"div",children:Object(b.jsx)(C.a,{onClick:function(){return window.location="/login"},className:e.marginAutoItem,size:"medium",variant:"contained",color:"primary",children:Object(b.jsx)(N.a,{variant:"h4",children:"Inicia aqu\xed"})})})]}),Object(b.jsx)(D.a,{maxWidth:"md",component:"main",children:Object(b.jsx)(T.a,{container:!0,spacing:5,alignItems:"flex-start",children:U.map((function(t){return Object(b.jsx)(T.a,{item:!0,xs:12,sm:"Enterprise"===t.title?12:6,md:4,children:Object(b.jsxs)(I.a,{children:[Object(b.jsx)(S.a,{title:t.title,subheader:t.subheader,titleTypographyProps:{align:"center"},subheaderTypographyProps:{align:"center"},action:"Pro"===t.title?Object(b.jsx)(R.a,{}):null,className:e.cardHeader}),Object(b.jsxs)(A.a,{children:[Object(b.jsx)("div",{className:e.cardImage}),Object(b.jsx)("ul",{children:t.description.map((function(e){return Object(b.jsx)(N.a,{component:"li",variant:"subtitle1",align:"center",children:e},e)}))})]}),Object(b.jsx)(j.a,{children:1==t.hasButton?Object(b.jsx)(C.a,{href:t.buttonURl,fullWidth:!0,variant:t.buttonVariant,color:"primary",children:t.buttonText}):null})]})},t.title)}))})}),Object(b.jsxs)(D.a,{maxWidth:"md",component:"footer",className:e.footer,children:[Object(b.jsx)(N.a,{variant:"h6",children:"Proyecto presentado por: "}),Object(b.jsx)(N.a,{children:Object(b.jsx)("strong",{children:"Investigador principal: "})}),Object(b.jsx)(N.a,{children:"M.C. Brandon Antonio C\xe1rdenas Sainz "}),Object(b.jsx)(N.a,{children:Object(b.jsx)("strong",{children:"Investigadores asociados: "})}),Object(b.jsx)(N.a,{children:"Dr. Ram\xf3n Zatarain Cabada "}),Object(b.jsx)(N.a,{children:"Dra. Luc\xeda Barr\xf3n Estrada "}),Object(b.jsx)(F.a,{mt:5,children:Object(b.jsx)(L,{})})]})]})}var q=n(8),G=n.n(q),W=n(11),Q=n(245),H=n(239),Z=n(232),K=n(243),Y=n(69),J=n.n(Y),$=n(229),ee=n(230),te=n(49),ne=n.n(te),ae=n(241),oe=o.a.forwardRef((function(e,t){return Object(b.jsx)(s.b,Object(l.a)({innerRef:t},e))}));function ie(){return Object(b.jsxs)(N.a,{variant:"body2",color:"textSecondary",align:"center",children:["Proyecto FisicARctivo",Object(b.jsx)("br",{}),Object(b.jsx)(V.a,{color:"inherit",href:"https://www.culiacan.tecnm.mx/",children:"Tecnol\xf3gico Nacional De Mexico Campus Culic\xe1n"}),Object(b.jsx)("br",{}),"\n",Object(b.jsx)(V.a,{color:"inherit",href:"https://conacyt.mx/",children:"CONACYT 2021"})]})}var re=Object(_.a)((function(e){return{"@global":{body:{backgroundColor:e.palette.common.white}},toolbarButtons:{marginLeft:"auto",marginRight:5},paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}}));function se(){var e=re(),t=Object(a.useRef)(),n=Object(a.useRef)(),o=x().login,i=Object(a.useState)(""),r=Object(u.a)(i,2),s=r[0],l=r[1],d=Object(a.useState)(!1),p=Object(u.a)(d,2),h=p[0],m=p[1];Object(c.g)();function f(){return(f=Object(W.a)(G.a.mark((function e(a){return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),e.prev=1,l(""),m(!0),e.next=6,o(t.current.value,n.current.value);case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),l("Falla al intentar ingresar a la pagina");case 11:m(!1);case 12:case"end":return e.stop()}}),e,null,[[1,8]])})))).apply(this,arguments)}return Object(b.jsxs)(D.a,{component:"main",maxWidth:"xs",children:[Object(b.jsx)(k.a,{}),Object(b.jsx)($.a,{position:"fixed",children:Object(b.jsx)(ee.a,{className:e.toolbarButtons,color:"inherit","aria-label":"Back to home",onClick:function(){return window.location="/"},children:Object(b.jsx)(ne.a,{})})}),Object(b.jsxs)("div",{className:e.paper,children:[Object(b.jsx)(Q.a,{className:e.avatar,children:Object(b.jsx)(J.a,{})}),Object(b.jsx)(N.a,{component:"h1",variant:"h5",children:"Ingresar a FisicARtivo"}),s&&Object(b.jsx)(ae.a,{severity:"error",children:s}),Object(b.jsxs)("form",{className:e.form,onSubmit:function(e){return f.apply(this,arguments)},children:[Object(b.jsx)(H.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"email",label:"Correo electronico",name:"email",autoComplete:"email",autoFocus:!0,inputRef:t}),Object(b.jsx)(H.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Contrase\xf1a",type:"password",id:"password",autoComplete:"current-password",inputRef:n}),Object(b.jsx)(Z.a,{control:Object(b.jsx)(K.a,{value:"remember",color:"primary"}),label:"Recuerdame"}),Object(b.jsx)(C.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:e.submit,disabled:h,children:"Ingresar"}),Object(b.jsxs)(T.a,{container:!0,children:[Object(b.jsx)(T.a,{item:!0,xs:!0,children:Object(b.jsx)(V.a,{to:"/forgot-password",component:oe,variant:"body2",children:"Olvide mi contrase\xf1a"})}),Object(b.jsx)(T.a,{item:!0,children:Object(b.jsx)(V.a,{to:"/signUp",component:oe,variant:"body2",children:"No tienes una cuenta? Registrate"})})]})]})]}),Object(b.jsx)(F.a,{mt:5,children:Object(b.jsx)(ie,{})})]})}var ce=n(233),le=o.a.forwardRef((function(e,t){return Object(b.jsx)(s.b,Object(l.a)({innerRef:t},e))}));function de(){return Object(b.jsxs)(N.a,{variant:"body2",color:"textSecondary",align:"center",children:["Copyright \xa9 ",Object(b.jsx)(V.a,{color:"inherit",href:"https://material-ui.com/",children:"Your Website"})," ",(new Date).getFullYear(),"."]})}var ue=Object(_.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},toolbarButtons:{marginLeft:"auto",marginRight:5},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)}}}));function pe(){var e=ue(),t=Object(a.useRef)(),n=Object(a.useRef)(),o=Object(a.useRef)(),i=Object(a.useRef)(),r=Object(a.useRef)(),s=Object(a.useRef)(),c=Object(a.useRef)(),l=Object(a.useState)(""),d=Object(u.a)(l,2),p=(d[0],d[1],x().signup),h=Object(a.useState)(""),m=Object(u.a)(h,2),f=m[0],g=m[1],v=Object(a.useState)(!1),y=Object(u.a)(v,2),w=y[0],M=y[1];function O(){return(O=Object(W.a)(G.a.mark((function e(a){return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.preventDefault(),n.current.value===o.current.value){e.next=3;break}return e.abrupt("return",g("Las contrase\xf1as no coinciden"));case 3:return e.prev=3,g(""),M(!0),e.next=8,p(t.current.value,n.current.value,i.current.value,r.current.value,s.current.value,c.current.value);case 8:e.next=13;break;case 10:e.prev=10,e.t0=e.catch(3),g("Falla al crear la cuenta");case 13:M(!1);case 14:case"end":return e.stop()}}),e,null,[[3,10]])})))).apply(this,arguments)}return Object(b.jsxs)(D.a,{component:"main",maxWidth:"xs",children:[Object(b.jsx)(k.a,{}),Object(b.jsx)($.a,{position:"fixed",children:Object(b.jsx)(ee.a,{className:e.toolbarButtons,color:"inherit","aria-label":"Back to home",onClick:function(){return window.location="/"},children:Object(b.jsx)(ne.a,{})})}),Object(b.jsxs)("div",{className:e.paper,children:[Object(b.jsx)(Q.a,{className:e.avatar,children:Object(b.jsx)(J.a,{})}),Object(b.jsx)(N.a,{component:"h1",variant:"h5",children:"Registrate"}),f&&Object(b.jsx)(ae.a,{severity:"error",children:f}),Object(b.jsxs)("form",{onSubmit:function(e){return O.apply(this,arguments)},className:e.form,children:[Object(b.jsxs)(T.a,{container:!0,spacing:2,children:[Object(b.jsx)(T.a,{item:!0,xs:12,sm:6,children:Object(b.jsx)(H.a,{autoComplete:"fname",name:"firstName",variant:"outlined",required:!0,fullWidth:!0,id:"firstName",label:"Nombre",autoFocus:!0,inputRef:i})}),Object(b.jsx)(T.a,{item:!0,xs:12,sm:6,children:Object(b.jsx)(H.a,{variant:"outlined",required:!0,fullWidth:!0,id:"lastName",label:"Apellidos",name:"lastName",autoComplete:"lname",inputRef:r})}),Object(b.jsx)(T.a,{item:!0,xs:12,children:Object(b.jsx)(H.a,{variant:"outlined",required:!0,fullWidth:!0,id:"date",label:"fecha de nacimiento (DD/MM/AAAA)",type:"date",name:"date",InputLabelProps:{shrink:!0},inputRef:s})}),Object(b.jsx)(T.a,{item:!0,xs:12,children:Object(b.jsxs)(H.a,{id:"Sex",select:!0,required:!0,fullWidth:!0,label:"Sexo",variant:"outlined",inputRef:c,children:[Object(b.jsx)(ce.a,{value:"Masculino",children:"Masculino"}),Object(b.jsx)(ce.a,{value:"Femenino",children:"Femenino"})]})}),Object(b.jsx)(T.a,{item:!0,xs:12,children:Object(b.jsx)(H.a,{variant:"outlined",required:!0,fullWidth:!0,id:"email",label:"Correo electronico",type:"email",name:"email",autoComplete:"email",inputRef:t})}),Object(b.jsx)(T.a,{item:!0,xs:12,children:Object(b.jsx)(H.a,{variant:"outlined",required:!0,fullWidth:!0,name:"password",label:"Contrase\xf1a",type:"password",id:"password",autoComplete:"current-password",inputRef:n})}),Object(b.jsx)(T.a,{item:!0,xs:12,children:Object(b.jsx)(H.a,{variant:"outlined",required:!0,fullWidth:!0,name:"confirmpassword",label:"Comfirma contrase\xf1a",type:"password",id:"confirmpassword",inputRef:o})})]}),Object(b.jsx)(C.a,{disabled:w,type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:e.submit,children:"Registrate"}),Object(b.jsx)(T.a,{container:!0,justify:"flex-end",children:Object(b.jsx)(T.a,{item:!0,children:Object(b.jsx)(V.a,{to:"/login",component:le,variant:"body2",children:"Ya tienes una cuenta? Accede."})})})]})]}),Object(b.jsx)(F.a,{mt:5,children:Object(b.jsx)(de,{})})]})}var he=o.a.forwardRef((function(e,t){return Object(b.jsx)(s.b,Object(l.a)({innerRef:t},e))}));function me(){return Object(b.jsxs)(N.a,{variant:"body2",color:"textSecondary",align:"center",children:["InterArctivo ",Object(b.jsx)(V.a,{color:"inherit",href:"https://material-ui.com/",children:"CONACYT 2021"})]})}var fe=Object(_.a)((function(e){return{"@global":{body:{backgroundColor:e.palette.common.white}},toolbarButtons:{marginLeft:"auto",marginRight:5},paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}}));function be(){var e=fe(),t=Object(a.useRef)(),n=x().resetPassword,o=Object(a.useState)(""),i=Object(u.a)(o,2),r=i[0],s=i[1],c=Object(a.useState)(""),l=Object(u.a)(c,2),d=l[0],p=l[1],h=Object(a.useState)(!1),m=Object(u.a)(h,2),f=m[0],g=m[1];function v(){return(v=Object(W.a)(G.a.mark((function e(a){return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),e.prev=1,s(""),g(!0),e.next=6,n(t.current.value);case 6:p("La solicitud se realiz\xf3 exitosamente. Checa el inbox de tu correo."),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),s("Falla al intentar resetear la contrase\xf1a");case 12:g(!1);case 13:case"end":return e.stop()}}),e,null,[[1,9]])})))).apply(this,arguments)}return Object(b.jsxs)(D.a,{component:"main",maxWidth:"xs",children:[Object(b.jsx)(k.a,{}),Object(b.jsx)($.a,{position:"fixed",children:Object(b.jsx)(ee.a,{className:e.toolbarButtons,color:"inherit","aria-label":"Back to home",onClick:function(){return window.location="/"},children:Object(b.jsx)(ne.a,{})})}),Object(b.jsxs)("div",{className:e.paper,children:[Object(b.jsx)(Q.a,{className:e.avatar,children:Object(b.jsx)(J.a,{})}),Object(b.jsx)(N.a,{component:"h1",variant:"h5",children:"Resetear contrase\xf1a"}),r&&Object(b.jsx)(ae.a,{severity:"error",children:r}),d&&Object(b.jsx)(ae.a,{severity:"success",children:d}),Object(b.jsxs)("form",{className:e.form,onSubmit:function(e){return v.apply(this,arguments)},children:[Object(b.jsx)(H.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"email",label:"Correo electronico",name:"email",autoComplete:"email",autoFocus:!0,inputRef:t}),Object(b.jsx)(C.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:e.submit,disabled:f,children:"enviar correo"}),Object(b.jsxs)(T.a,{container:!0,children:[Object(b.jsx)(T.a,{item:!0,xs:!0}),Object(b.jsx)(T.a,{item:!0,children:Object(b.jsx)(V.a,{to:"/signUp",component:he,variant:"body2",children:"No tienes una cuenta? Registrate"})})]})]})]}),Object(b.jsx)(F.a,{mt:5,children:Object(b.jsx)(me,{})})]})}function ge(){return Object(b.jsxs)(N.a,{variant:"body2",color:"textSecondary",align:"center",children:["Division de estudios de ",Object(b.jsx)(V.a,{color:"inherit",href:"https://material-ui.com/",children:"posgrado"})," e investigacion.",(new Date).getFullYear(),"."]})}var xe=Object(_.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)}}}));function ve(){var e=xe(),t=Object(a.useRef)(),n=Object(a.useRef)(),o=Object(a.useRef)(),i=Object(a.useRef)(),r=Object(a.useRef)(),d=Object(a.useRef)(),p=Object(a.useRef)(),h=x(),m=h.currentUser,g=h.updatePassword,v=h.updateEmail,y=Object(a.useState)(""),w=Object(u.a)(y,2),M=w[0],O=w[1],I=Object(a.useState)(!1),j=Object(u.a)(I,2),A=j[0],S=j[1],B=Object(a.useState)({email:"",fname:"",lname:"",sex:"",birthday:""}),E=Object(u.a)(B,2),R=E[0],V=E[1],_=Object(c.g)(),L=function(e){V(Object(l.a)(Object(l.a)({},R),{},Object(P.a)({},e.target.name,e.target.value)))};return Object(a.useEffect)((function(){m&&f.collection("users").doc(m.uid).get().then((function(e){V(e.data())}),(function(e){console.log(e.message)}))}),[]),Object(b.jsxs)(D.a,{component:"main",maxWidth:"xs",children:[Object(b.jsx)(k.a,{}),Object(b.jsxs)("div",{className:e.paper,children:[Object(b.jsx)(Q.a,{className:e.avatar,children:Object(b.jsx)(J.a,{})}),Object(b.jsx)(N.a,{component:"h1",variant:"h5",children:"Editar Cuenta"}),M&&Object(b.jsx)(ae.a,{severity:"error",children:M}),Object(b.jsxs)("form",{onSubmit:function(e){if(e.preventDefault(),n.current.value!==o.current.value)return O("Las contrase\xf1as no coinciden");var a=[];S(!0),O(""),t.current.value!==m.email&&(a.push(v(t.current.value)),a.push(f.collection("users").doc(m.uid).update({email:t.current.value}))),n.current.value&&a.push(g(n.current.value)),a.push(f.collection("users").doc(m.uid).update({fname:i.current.value,lname:r.current.value,sex:p.current.value,birthday:d.current.value})),Promise.all(a).then((function(){_.push("/excercises")})).catch((function(){O("la actualizacion del perfil de usuario ha fallado")})).finally((function(){S(!1)}))},className:e.form,children:[Object(b.jsxs)(T.a,{container:!0,spacing:2,children:[Object(b.jsx)(T.a,{item:!0,xs:12,sm:6,children:Object(b.jsx)(H.a,{autoComplete:"fname",name:"fname",variant:"outlined",fullWidth:!0,id:"fname",label:"fname",autoFocus:!0,inputRef:i,value:R.fname,onChange:L,disabled:!0})}),Object(b.jsx)(T.a,{item:!0,xs:12,sm:6,children:Object(b.jsx)(H.a,{variant:"outlined",fullWidth:!0,id:"lname",label:"Apellidos",name:"lname",autoComplete:"lname",inputRef:r,value:R.lname,onChange:L,disabled:!0})}),Object(b.jsx)(T.a,{item:!0,xs:12,children:Object(b.jsx)(H.a,{variant:"outlined",required:!0,fullWidth:!0,id:"email",label:"Correo electronico",type:"email",name:"email",autoComplete:"email",inputRef:t,value:R.email,onChange:L,disabled:!1})}),Object(b.jsx)(T.a,{item:!0,xs:12,children:Object(b.jsx)(H.a,{variant:"outlined",required:!0,fullWidth:!0,id:"date",label:"fecha de nacimiento (DD/MM/AAAA)",type:"date",name:"birthday",InputLabelProps:{shrink:!0},inputRef:d,value:R.birthday,onChange:L,disabled:!0})}),Object(b.jsx)(T.a,{item:!0,xs:12,children:Object(b.jsxs)(H.a,{id:"Sex",select:!0,required:!0,fullWidth:!0,label:"Sexo",name:"sex",variant:"outlined",inputRef:p,value:R.sex,onChange:L,disabled:!0,children:[Object(b.jsx)(ce.a,{value:"Masculino",children:"Masculino"}),Object(b.jsx)(ce.a,{value:"Femenino",children:"Femenino"})]})}),Object(b.jsx)(T.a,{item:!0,xs:12,children:Object(b.jsx)(H.a,{variant:"outlined",fullWidth:!0,name:"password",label:"Contrase\xf1a",type:"password",id:"password",autoComplete:"current-password",inputRef:n,placeholder:"Dejar en blanco para mantener contrase\xf1a."})}),Object(b.jsx)(T.a,{item:!0,xs:12,children:Object(b.jsx)(H.a,{variant:"outlined",fullWidth:!0,name:"confirmpassword",label:"Comfirma contrase\xf1a",type:"password",id:"confirmpassword",inputRef:o,placeholder:"Dejar en blanco para mantener contrase\xf1a."})})]}),Object(b.jsx)(C.a,{disabled:A,type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:e.submit,children:"Aplicar cambios"}),Object(b.jsx)(C.a,{fullWidth:!0,variant:"contained",color:"primary",component:s.b,to:"/excercises",children:"Cancelar"})]})]}),Object(b.jsx)(F.a,{mt:5,children:Object(b.jsx)(ge,{})})]})}var ye=n(86),we=n.n(ye),Me=n(97),Oe=n.n(Me),Pe=n(131),Ce=n.n(Pe),Ie=n(235),je=n(234),Ae=n.p+"static/media/velo.afd31f21.jpg",Se=n.p+"static/media/mru.890686f6.jpg",Be=n.p+"static/media/mrua.b37e10af.jpg",ke=n.p+"static/media/caida.dbb4d406.png",Te=n.p+"static/media/dinamica.36e78a47.png",Ee=n.p+"static/media/reposo.469fc369.PNG",Re=n.p+"static/media/segunda.a87aecb9.jpg",Ne=n.p+"static/media/terceraley.e4aa0f6d.jpg";function Ve(){return Object(b.jsxs)(N.a,{variant:"body2",color:"textSecondary",align:"center",children:[Object(b.jsx)(V.a,{color:"inherit",href:"https://material-ui.com/",children:"Divisi\xf3n de estudios de posgrado"})," e investigacion ",(new Date).getFullYear(),"."]})}var _e=Object(_.a)((function(e){return{icon:{marginRight:e.spacing(2)},title:{flexGrow:1},toolbarButtons:{marginLeft:"auto",marginRight:-12},introSection:{backgroundColor:e.palette.background.paper,padding:e.spacing(3,0,0)},heroButtons:{marginTop:e.spacing(4)},cardGrid:{paddingTop:e.spacing(3),paddingBottom:e.spacing(3)},card:{height:"100%",display:"flex",flexDirection:"column"},cardMedia:{paddingBottom:"56.25%"},cardContent:{flexGrow:1},cardactionarea:{height:"100%"},cardFooter:{backgroundColor:"light"===e.palette.type?e.palette.grey[200]:e.palette.grey[700],textAlign:"center"},footer:{backgroundColor:e.palette.background.paper,padding:e.spacing(6)},marginAutoContainer:{width:500,height:80,display:"flex"},marginAutoItem:{margin:e.spacing(1)},alignItemsAndJustifyContent:{width:500,height:80,display:"flex",alignItems:"center",justifyContent:"center"}}})),De=[{title:"Tema 1-1",description:["Concepto de velocidad"],dificulty:"Baja",exerciselink:"/1_1",buttonVariant:"outlined",image:Ae},{title:"Tema 1-2",description:[" Movimiento rectil\xedneo uniforme"],dificulty:"Media",exerciselink:"/1_2",buttonVariant:"contained",hasButton:!0,image:Se},{title:"Tema 1-3",description:["Movimiento rectil\xedneo uniforme variado."],dificulty:"media",exerciselink:"/1_3",buttonVariant:"outlined",image:Be},{title:"Tema 1-4",description:["Movimiento vertical de ca\xedda libre"],dificulty:"media",exerciselink:"/1_4",buttonVariant:"outlined",image:ke}],Fe=[{title:"Tema 2-1",description:["Introducci\xf3n a la din\xe1mica"],dificulty:"media",exerciselink:"/2_1",buttonVariant:"outlined",image:Te},{title:"Tema 2-2",description:["Primera ley de Newton (Ley de inercia)"],dificulty:"baja",exerciselink:"/2_2",buttonVariant:"outlined",image:Ee},{title:"Tema 2-3",description:["Segunda ley de Newton (principio fundamental)."],dificulty:"Alta",exerciselink:"/2_3",buttonVariant:"outlined",image:Re},{title:"Tema 2-4",description:["Tercera ley de Newton (principio de acci\xf3n y reacci\xf3n)."],dificulty:"baja",exerciselink:"/2_4",buttonVariant:"outlined",image:Ne}];function Le(){var e=_e(),t=Object(a.useState)(""),n=Object(u.a)(t,2),i=n[0],r=n[1],l=x(),d=l.currentUser,p=l.logout,h=Object(a.useState)({email:"",fname:"",lname:"",sex:"",birthday:""}),m=Object(u.a)(h,2),g=m[0],v=m[1];Object(c.g)();function y(){return(y=Object(W.a)(G.a.mark((function e(){return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r(""),e.prev=1,e.next=4,p();case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(1),r("Ocurrio una falla al intentar salir");case 9:case"end":return e.stop()}}),e,null,[[1,6]])})))).apply(this,arguments)}return Object(a.useEffect)((function(){d&&f.collection("users").doc(d.uid).get().then((function(e){v(e.data())}),(function(e){console.log(e.message)}))}),[]),Object(b.jsxs)(o.a.Fragment,{children:[Object(b.jsx)(k.a,{}),Object(b.jsx)($.a,{position:"relative",children:Object(b.jsxs)(je.a,{children:[Object(b.jsx)(we.a,{className:e.icon}),Object(b.jsx)(N.a,{className:e.title,variant:"h6",color:"inherit",noWrap:!0,children:"Area de ejercicios"}),Object(b.jsxs)(ee.a,{className:e.toolbarButtons,color:"inherit","aria-label":"Back to home",component:s.b,to:"/userprofile",children:[Object(b.jsx)(Ce.a,{}),Object(b.jsx)(N.a,{variant:"h6",color:"inherit",noWrap:!0,children:"Perfil"})]}),Object(b.jsxs)(ee.a,{className:e.toolbarButtons,color:"inherit","aria-label":"Back to home",onClick:function(){return y.apply(this,arguments)},children:[Object(b.jsx)(Oe.a,{}),Object(b.jsx)(N.a,{variant:"h6",color:"inherit",noWrap:!0,children:"Salir"})]})]})}),Object(b.jsxs)("main",{children:[Object(b.jsx)("div",{className:e.introSection,children:Object(b.jsxs)(D.a,{maxWidth:"sm",children:[i&&Object(b.jsx)(ae.a,{variant:"danger",children:i}),Object(b.jsx)(N.a,{component:"h1",variant:"h2",align:"center",color:"textPrimary",gutterBottom:!0,children:"Ejercicios de fisica en AR"}),Object(b.jsxs)(N.a,{variant:"h5",align:"center",color:"textSecondary",paragraph:!0,children:["Hola ",Object(b.jsx)("strong",{children:g.fname}),", bienvenid@ a FisicARtivo!  ","\n"," Selecciona una variedad de subtemas para aprender fundamentos y propiedades b\xe1sicas de f\xedsica. Recuerda que puedes activar el modo de realidad aumentada (AR) para mejorar tu experiencia."]})]})}),Object(b.jsx)(D.a,{className:e.cardGrid,maxWidth:"md",children:Object(b.jsxs)(F.a,{component:"span",display:"block",p:1,m:1,opacity:.5,bgcolor:"#D8D8D8",children:[Object(b.jsx)(N.a,{variant:"h4",style:{paddingBottom:"20px"},color:"textPrimary",align:"center",children:"Temas de cinem\xe1tica"}),Object(b.jsx)(T.a,{container:!0,spacing:4,children:De.map((function(t){return Object(b.jsx)(T.a,{item:!0,xs:6,sm:6,md:3,children:Object(b.jsx)(Ie.a,{onClick:function(){return window.location=t.exerciselink},className:e.cardactionarea,children:Object(b.jsxs)(I.a,{className:e.card,children:[Object(b.jsx)(B.a,{className:e.cardMedia,image:t.image,title:"Image title"}),Object(b.jsxs)(A.a,{className:e.cardContent,children:[Object(b.jsx)(N.a,{gutterBottom:!0,variant:"h5",component:"h2",children:t.title}),Object(b.jsx)(N.a,{align:"center",children:t.description})]})]})})},t.title)}))})]})}),Object(b.jsx)(D.a,{className:e.cardGrid,maxWidth:"md",children:Object(b.jsxs)(F.a,{component:"span",display:"block",p:1,m:1,bgcolor:"#D8D8D8",children:[Object(b.jsx)(N.a,{variant:"h4",style:{paddingBottom:"20px"},color:"textPrimary",align:"center",children:"Temas de din\xe1mica"}),Object(b.jsx)(T.a,{container:!0,spacing:4,children:Fe.map((function(t){return Object(b.jsx)(T.a,{item:!0,xs:6,sm:6,md:3,children:Object(b.jsx)(Ie.a,{onClick:function(){return window.location=t.exerciselink},className:e.cardactionarea,children:Object(b.jsxs)(I.a,{className:e.card,children:[Object(b.jsx)(B.a,{className:e.cardMedia,image:t.image,title:"Image title"}),Object(b.jsxs)(A.a,{className:e.cardContent,children:[Object(b.jsx)(N.a,{gutterBottom:!0,variant:"h5",component:"h2",children:t.title}),Object(b.jsx)(N.a,{align:"center",children:t.description})]})]})})},t.title)}))})]})}),Object(b.jsx)("div",{className:e.introSection,children:Object(b.jsxs)(D.a,{maxWidth:"sm",children:[Object(b.jsx)(N.a,{variant:"h5",align:"center",color:"textSecondary",paragraph:!0,children:"Tambien te invitamos a que nos ofrezcas sugerencias y observaciones de tu experiencia. Nos ayudaria mucho."}),Object(b.jsx)(F.a,{textAlign:"center",maxWidth:"sm",component:"main",children:Object(b.jsx)(C.a,{onClick:function(){return window.location="/survey-student"},className:e.marginAutoItem,size:"medium",variant:"contained",color:"primary",children:Object(b.jsx)(N.a,{variant:"h6",children:"Encuesta para estudiantes"})})})]})})]}),Object(b.jsxs)("footer",{className:e.footer,children:[Object(b.jsx)(N.a,{variant:"h6",align:"center",gutterBottom:!0,children:"Proyecto FisicARtivo"}),Object(b.jsx)(N.a,{variant:"subtitle1",align:"center",color:"textSecondary",component:"p",children:"Instituto Nacional De Mexico Campus Culiacan."}),Object(b.jsx)(Ve,{})]})]})}var ze=n(53),Ue=(n(123),n(132)),Xe=Object(_.a)((function(e){return{icon:{marginRight:e.spacing(2)},title:{flexGrow:1},toolbarButtons:{marginLeft:"auto",marginRight:-12},heroContent:{backgroundColor:e.palette.background.paper,padding:e.spacing(8,0,6)},heroButtons:{marginTop:e.spacing(4)},cardGrid:{paddingTop:e.spacing(8),paddingBottom:e.spacing(8)},card:{height:"100%",display:"flex",flexDirection:"column"},cardMedia:{paddingBottom:"56.25%"},cardContent:{flexGrow:1},cardactionarea:{height:"100%"},cardFooter:{backgroundColor:"light"===e.palette.type?e.palette.grey[200]:e.palette.grey[700],textAlign:"center"},footer:{backgroundColor:e.palette.background.paper,padding:e.spacing(6)}}})),qe=ze.StylesManager.ThemeColors.default;function Ge(){var e=Xe(),t=x().currentUser;ze.StylesManager.applyTheme("default");var n=new ze.Model(Ue);return Object(b.jsxs)(o.a.Fragment,{children:[Object(b.jsx)($.a,{position:"relative",children:Object(b.jsxs)(je.a,{children:[Object(b.jsx)(we.a,{className:e.icon}),Object(b.jsx)(N.a,{className:e.title,variant:"h6",color:"inherit",noWrap:!0,children:"Encuesta de experiencia"})]})}),Object(b.jsxs)(D.a,{className:e.heroContent,children:[Object(b.jsx)(N.a,{variant:"h5",align:"center",color:"textSecondary",children:" Por favor ayudanos respondiendo esta corta encuesta."}),Object(b.jsx)(ze.Survey,{model:n,onComplete:function(){n.onComplete.add((function(e){if(t){var n=new Date,a=n.getUTCMonth()+1,o=n.getUTCDate(),i=("survey_pedagogico_maestros-"+n.getUTCFullYear()+"-"+a+"-"+o+" "+n.getUTCHours()+":"+n.getUTCMinutes()).toString();f.collection("users").doc(t.uid).collection("surveys").doc(i).set(e.data)}}))}})]})]})}qe["$main-color"]="#5475ec",qe["$main-hover-color"]="#2c5bdd",qe["$text-color"]="#4a4a4a",qe["$header-color"]="#5475ec",qe["$header-background-color"]="#4a4a4a",qe["$body-container-background-color"]="#f8f8f8";n(174);var We=Object(_.a)((function(e){return{icon:{marginRight:e.spacing(2)},title:{flexGrow:1},toolbarButtons:{marginLeft:"auto",marginRight:-12},heroContent:{backgroundColor:e.palette.background.paper,padding:e.spacing(8,0,6)},heroButtons:{marginTop:e.spacing(4)},cardGrid:{paddingTop:e.spacing(8),paddingBottom:e.spacing(8)},card:{height:"100%",display:"flex",flexDirection:"column"},cardMedia:{paddingBottom:"56.25%"},cardContent:{flexGrow:1},cardactionarea:{height:"100%"},cardFooter:{backgroundColor:"light"===e.palette.type?e.palette.grey[200]:e.palette.grey[700],textAlign:"center"},footer:{backgroundColor:e.palette.background.paper,padding:e.spacing(6)}}})),Qe={completedHtml:"<h3>Gracias por darnos tu comentarios.</h3> <h4>Tus opiniones e ideas nos ayudaran a mejorar, Gracias!</h4>",completedHtmlOnCondition:[{expression:"{experience_score} > 8",html:"<h3>Gracias por darnos tu comentarios.</h3> <h4>Nos alegra que te haya gustado tu experiencia en FisicaArtivo!</h4>"},{expression:"{experience_score} < 7",html:"<h3>Gracias por darnos tu comentarios.</h3> <h4> Nos esforzaremos en mejorar tu experiencia y cumplir con tus expectativas!</h4><br/>"}],pages:[{name:"page1",elements:[{type:"rating",name:"experience_score",title:"En la escala del y al 10 como calificas tu experiencia en FisicaARtivo?",isRequired:!0,rateMin:0,rateMax:10,minRateDescription:"(No me gust\xf3)",maxRateDescription:"(Me gust\xf3 mucho)"},{type:"checkbox",name:"experience_features",visible:!1,visibleIf:"{experience_score} >= 9",title:"Que caracteristicas consideras como las mas importantes en tu experiencia?",isRequired:!0,validators:[{type:"answercount",text:"Por favor selecciona 2 caracteristicas maximo",maxCount:2}],choices:["Facilidad de uso","Estabilidad","Material de aprendizaje","Capacidades de interaccion"],hasOther:!0,otherText:"Otra:",colCount:2},{type:"comment",name:"experience_reason",visible:!1,isRequired:!0,visibleIf:"{experience_score} > 6  and {experience_score} < 9",title:"Cual es la razon de tu calificacion?"},{type:"comment",name:"experience_sugestions",visible:!1,visibleIf:"{experience_score} notempty",title:"Nos puedes dar algun comentario o sugerencia sobre tu experiencia?"}]}],showQuestionNumbers:"off"},He=ze.StylesManager.ThemeColors.default;function Ze(){var e=We(),t=x().currentUser;ze.StylesManager.applyTheme("default");var n=new ze.Model(Qe);return Object(b.jsxs)(o.a.Fragment,{children:[Object(b.jsx)($.a,{position:"relative",children:Object(b.jsxs)(je.a,{children:[Object(b.jsx)(we.a,{className:e.icon}),Object(b.jsx)(N.a,{className:e.title,variant:"h6",color:"inherit",noWrap:!0,children:"Encuesta de experiencia"})]})}),Object(b.jsxs)(D.a,{className:e.heroContent,children:[Object(b.jsx)(N.a,{variant:"h5",align:"center",color:"textSecondary",children:" Por favor ayudanos respondiendo esta corta encuesta."}),Object(b.jsx)(ze.Survey,{model:n,onComplete:function(){n.onComplete.add((function(e){if(t){var n=new Date,a=n.getUTCMonth()+1,o=n.getUTCDate(),i=("survey_retro_students-"+n.getUTCFullYear()+"-"+a+"-"+o+" "+n.getUTCHours()+":"+n.getUTCMinutes()).toString();f.collection("users").doc(t.uid).collection("surveys").doc(i).set(e.data)}}))}})]})]})}He["$main-color"]="#5475ec",He["$main-hover-color"]="#2c5bdd",He["$text-color"]="#4a4a4a",He["$header-color"]="#5475ec",He["$header-background-color"]="#4a4a4a",He["$body-container-background-color"]="#f8f8f8";var Ke=n(79),Ye=n(18),Je=n(19),$e=n(27),et=n(26),tt=n(10),nt=n(244),at=n(135),ot=n.n(at),it=n(12),rt=n(231),st=n(187),ct=n(236),lt=n(237),dt=n(133),ut=n.n(dt),pt=n(134),ht=n.n(pt),mt=n(238);var ft=function(e){Object($e.a)(n,e);var t=Object(et.a)(n);function n(e){var a;return Object(Ye.a)(this,n),(a=t.call(this,e)).handleClick=function(e){a.setState(Object(P.a)({},e,!a.state[e]))},a.handleClickLink=function(e){window.location=e},a.state={2:!0,7:!0},a}return Object(Je.a)(n,[{key:"render",value:function(){var e=this,t={list:[{id:0,title:"Templates",items:[{id:1,name:"Menu principal",url:"excercises"},{id:2,name:"Temas Cinematica",subitems:[{id:3,name:"Tema 1-1",url:"1_1"},{id:4,name:"Tema 1-2",url:"1_2"},{id:5,name:"Tema 1-3",url:"1_3"},{id:6,name:"Tema 1-4",url:"1_4"}]},{id:7,name:"Temas de Dinamica",subitems:[{id:8,name:"Tema 2-1",url:"2_1"},{id:9,name:"Tema 2-2",url:"2_2"},{id:10,name:"Tema 2-3",url:"2_3"},{id:11,name:"Tema 2-4",url:"2_4"}]}]}]},n=this.props.classes;return Object(b.jsx)("div",{children:t.list.map((function(t){return Object(b.jsxs)(rt.a,{className:n.root,children:[t.items.map((function(a){return Object(b.jsx)("div",{children:null!=a.subitems?Object(b.jsxs)("div",{children:[Object(b.jsxs)(st.a,{button:!0,onClick:function(){return e.handleClick(a.id)},children:[Object(b.jsx)(ct.a,{primary:a.name}),e.state[a.id]?Object(b.jsx)(ut.a,{}):Object(b.jsx)(ht.a,{})]},a.id),Object(b.jsx)(lt.a,{component:"li",in:e.state[a.id],timeout:"auto",unmountOnExit:!0,children:Object(b.jsx)(rt.a,{disablePadding:!0,children:a.subitems.map((function(t){return Object(b.jsx)(st.a,{selected:t.url===e.props.location.pathname,button:!0,className:n.nested,onClick:function(){return e.handleClickLink(t.url)},children:Object(b.jsx)(ct.a,{primary:t.name},t.id)},t.id)}))})},t.items.id)," "]},a.id):Object(b.jsx)(st.a,{button:!0,onClick:function(){return e.handleClickLink(a.url)},children:Object(b.jsx)(ct.a,{primary:a.name})},a.id)},a.id)})),Object(b.jsx)(mt.a,{absolute:!0},t.id)]},t.id)}))})}}]),n}(o.a.Component),bt=Object(c.h)(Object(it.a)((function(e){return{root:{width:"100%",maxWidth:360,background:e.palette.background.paper},nested:{paddingLeft:e.spacing(4)},selectedItem:{background:"blue"}}}))(ft)),gt=Object(_.a)((function(e){return{root:{display:"flex"},appBar:{zIndex:e.zIndex.drawer+1},toolbarButtons:{marginLeft:"auto",marginRight:-12},hide:{display:"none"},drawer:{width:200,flexShrink:0},drawerPaper:{width:200},drawerHeader:Object(l.a)(Object(l.a)({display:"flex",alignItems:"center",padding:"0 8px"},e.mixins.toolbar),{},{justifyContent:"flex-end"}),content:{flexGrow:1,padding:e.spacing(3),transition:e.transitions.create("margin",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),marginLeft:-200},contentShift:{transition:e.transitions.create("margin",{easing:e.transitions.easing.easeOut,duration:e.transitions.duration.enteringScreen}),marginLeft:0},linked:{textDecoration:"none",color:"white"},toolbar:e.mixins.toolbar}}));function xt(e){var t=e.data,n=gt(),a=o.a.useState(),i=Object(u.a)(a,2),r=i[0],s=void 0!==r&&r,c=i[1];return Object(b.jsxs)("div",{className:n.root,children:[Object(b.jsx)(k.a,{}),Object(b.jsx)($.a,{position:"absolute",className:n.appBar,children:Object(b.jsxs)(je.a,{children:[Object(b.jsx)(ee.a,{edge:"start",className:n.menuButton,color:"inherit","aria-label":"Open drawer",onClick:!0===s?function(){c(!1)}:function(){c(!0)},children:Object(b.jsx)(ot.a,{})}),Object(b.jsx)(N.a,{variant:"h6",noWrap:!0,children:"FisicARtivo"}),Object(b.jsx)(ee.a,{className:n.toolbarButtons,color:"inherit","aria-label":"Back to home",onClick:function(){return window.location="/excercises"},children:Object(b.jsx)(ne.a,{})})]})}),Object(b.jsxs)(nt.a,{className:n.drawer,variant:"persistent",anchor:"left",open:s,classes:{paper:n.drawerPaper},children:[Object(b.jsx)("div",{className:n.toolbar}),Object(b.jsx)(bt,{})]}),Object(b.jsxs)("main",{className:Object(tt.a)(n.content),children:[Object(b.jsx)("div",{className:n.drawerHeader}),t()]})]})}var vt=n(0),yt=["width","height"],wt=function(e){Object($e.a)(n,e);var t=Object(et.a)(n);function n(){var e;Object(Ye.a)(this,n);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).onResizeWindow=function(){e.engine&&(e.engine.resize(),e.forceUpdate())},e.onCanvasLoaded=function(t){null!==t&&(e.canvas=t)},e}return Object(Je.a)(n,[{key:"componentDidMount",value:function(){this.engine=new vt.Engine(this.canvas,!0,this.props.engineOptions,this.props.adaptToDeviceRatio);var e=new vt.Scene(this.engine);this.scene=e,"function"===typeof this.props.onSceneMount?this.props.onSceneMount({scene:e,engine:this.engine,canvas:this.canvas}):console.error("onSceneMount function not available"),window.addEventListener("resize",this.onResizeWindow)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.onResizeWindow)}},{key:"render",value:function(){var e=this.props,t=e.width,n=e.height,a=(Object(d.a)(e,yt),{});return void 0!==t&&void 0!==n&&(a.width=t,a.height=n),Object(b.jsx)("canvas",Object(l.a)(Object(l.a)({style:{width:"100%",height:"100%",flex:1,display:"flex"}},a),{},{ref:this.onCanvasLoaded}))}}]),n}(a.Component),Mt=n(3),Ot=(n(48),n(21));function Pt(e){var t=new vt.StandardMaterial("ground1",e);t.diffuseTexture=new vt.Texture("textures/grass.jpg",e),t.diffuseTexture.uScale=15,t.diffuseTexture.vScale=15,t.specularColor=new vt.Color3(0,0,0);var n=vt.MeshBuilder.CreateBox("ground2",{height:3,width:100,depth:100},e);n.position.set(0,-1.5,0),n.visibility=1,n.physicsImpostor=new vt.PhysicsImpostor(n,vt.PhysicsImpostor.BoxImpostor,{mass:0,restitution:.5}),n.material=t;var a=vt.MeshBuilder.CreateBox("frontwall",{height:50,width:100,depth:.33},e);a.position.set(0,25,50),a.visibility=.1,a.physicsImpostor=new vt.PhysicsImpostor(a,vt.PhysicsImpostor.BoxImpostor,{mass:0,restitution:.5}),a.checkCollisions=!0;var o=vt.MeshBuilder.CreateBox("backwall",{height:50,width:100,depth:.33},e);o.position.set(0,25,-50),o.visibility=.1,o.physicsImpostor=new vt.PhysicsImpostor(o,vt.PhysicsImpostor.BoxImpostor,{mass:0,restitution:.5}),o.checkCollisions=!0;var i=vt.MeshBuilder.CreateBox("rightwall",{height:50,width:.33,depth:100},e);i.position.set(50,25,0),i.visibility=.1,i.physicsImpostor=new vt.PhysicsImpostor(i,vt.PhysicsImpostor.BoxImpostor,{mass:0,restitution:.5}),i.checkCollisions=!0;var r=vt.MeshBuilder.CreateBox("leftwall",{height:50,width:.33,depth:100},e);return r.position.set(-50,25,0),r.visibility=.1,r.physicsImpostor=new vt.PhysicsImpostor(r,vt.PhysicsImpostor.BoxImpostor,{mass:0,restitution:.5}),r.checkCollisions=!0,n.addChild(a),n.addChild(o),n.addChild(i),n.addChild(r),n}function Ct(e,t){if(null==e||null==t)return console.log("Gizmo manager needs BABYLON import and a scene"),null;var n=new e.GizmoManager(t);return n.usePointerToAttachGizmos=!1,n.clearGizmoOnEmptyPointerEvent=!0,n.rotationSphereSize=.04,n.scaleBoxSize=.08,n.selectMode=function(e){switch(n.positionGizmoEnabled=!1,n.rotationGizmoEnabled=!1,n.scaleGizmoEnabled=!1,n.boundingBoxGizmoEnabled=!1,e){case 0:n.boundingBoxGizmoEnabled=!0,n.gizmos.boundingBoxGizmo.setEnabledScaling(!1);break;case 1:n.positionGizmoEnabled=!0;break;case 2:n.rotationGizmoEnabled=!0;break;case 3:n.scaleGizmoEnabled=!0}},n}var It=new Ot.Timer,jt=(new Ot.Timer,{}),At={};function St(e){jt=e}function Bt(e){At=e}function kt(){return At}function Tt(e){jt&&f.collection("users").doc(jt.uid).collection("exercises").doc(e).get().then((function(e){e.exists&&Bt(e.data())}),(function(e){console.log(e.message)}))}function Et(e){!function(){for(var e=0,t=Object.entries(At.quizes),n=0,a=t;n<a.length;n++){var o=Object(u.a)(a[n],1)[0];1==At.quizes[o].isCompleted&&e++}e==t.length?At.isCompleted=!0:At.isCompleted=!1}(),At.isCompleted?It.stop():At.generalTime=It.getTimeValues().toString(),f.collection("users").doc(jt.uid).collection("exercises").doc(e).set(At)}function Rt(e){for(var t=0,n=Object.entries(At.quizes);t<n.length;t++){var a=Object(u.a)(n[t],1)[0];if(At.quizes[a].id==e)return At.quizes[a]}}function Nt(e,t){Rt(e).isCompleted||(Rt(e).time=t)}function Vt(e){Rt(e).isCompleted||(Rt(e).errors+=1)}function _t(e){Rt(e).isCompleted||(At.totalErrors+=1)}function Dt(e,t){var n=new vt.MeshBuilder.CreatePlane("displayPlaneinfo",{width:1.9*t,height:.9*t},e);n.nonXREditable=!0,n.XRPickable=!0;var a=new vt.Vector3(1,1,0);n.position=a,n.rotation.y=Math.PI/180*90;var o=new Mt.AdvancedDynamicTexture.CreateForMesh(n);o.scaleTo(1600,900);var i=new Mt.Grid("mainStructure");i.addColumnDefinition(.1),i.addColumnDefinition(.8),i.addColumnDefinition(.1),i.addRowDefinition(1),o.addControl(i);var r=[],s=0;function c(){return r[s]}var l=Mt.Button.CreateImageOnlyButton("but_prev","images/left.png");l.height=.8,l.color="white",l.fontSize=20,l.background="#1388AF",l.image.paddingBottomInPixels=100,l.image.paddingTopInPixels=100,l.image.paddingLeftInPixels=10,l.image.paddingRightInPixels=10,i.addControl(l,0,0),l.onPointerUpObservable.add((function(){!function(){if(r.length>0){var e=s,t=r[s];if(--s<=0&&(s=0),e!=s){var n=r[s];i.removeControl(t.info_image_container),i.addControl(n.info_image_container,0,1);var a=c();p.LoadStuff(a),p.Start()}}}()}));var d=Mt.Button.CreateImageOnlyButton("but_pos","images/right.png");d.height=.8,d.color="white",d.fontSize=20,d.background="#1388AF",d.image.paddingBottomInPixels=100,d.image.paddingTopInPixels=100,d.image.paddingLeftInPixels=10,d.image.paddingRightInPixels=10,i.addControl(d,0,2),d.onPointerUpObservable.add((function(){!function(){if(r.length>0){var e=s,t=r[s];if(++s>=r.length&&(s=r.length-1),e!=s){var n=r[s];i.removeControl(t.info_image_container),i.addControl(n.info_image_container,0,1);var a=c();p.LoadStuff(a),p.Start()}}}()}));var u=[];var p=function(e){var t={},n=[],a=[],o=[];function i(){t.Load_Models?t.Load_Models().then((function(e){r(),n=e,t.Load_Logic&&t.Load_Logic()})):t.Load_Logic&&t.Load_Logic()}function r(){a.length>0&&(a.forEach((function(t){e.onBeforeRenderObservable.remove(t)})),a=[]),n.length>0&&(n.forEach((function(e){Array.isArray(e)?e.forEach((function(e){e.dispose&&e.dispose()})):e.dispose&&e.dispose()})),n=[]),o.length>0&&(o.forEach((function(e){Array.isArray(e)?e.forEach((function(e){e.dispose&&e.dispose()})):e.dispose&&e.dispose()})),o=[])}return{LoadStuff:function(e){t=e},AddDisposableStuff:function(e){n.push(e)},AddObservables:function(e){a.push(e)},AddTemporalGUI:function(e){o.push(e)},Start:i,ClearAll:r,Reset:function(){i()},ReloadModels:function(){n.length>0&&(n.forEach((function(e){Array.isArray(e)?e.forEach((function(e){e.dispose&&e.dispose()})):e.dispose&&e.dispose()})),n=[]),t.Load_Models&&t.Load_Models().then((function(e){n=e}))},ReloadLogic:function(){a.length>0&&a.forEach((function(t){e.onBeforeRenderObservable.remove(t)})),o.length>0&&(o.forEach((function(e){Array.isArray(e)?e.forEach((function(e){e.dispose&&e.dispose()})):e.dispose&&e.dispose()})),o=[]),t.Load_Logic&&t.Load_Logic()}}}(e);return{displayPlane:n,container:o,button_previous:l,button_next:d,logicManager:p,addCard:function(e){r.push(e)},Start:function(e){if(r.length>0){s=e,i.addControl(r[e].info_image_container,0,1);var t=c();p.LoadStuff(t),p.Start()}},getCurrentCard:c,isLimitList:function(){console.log(s),console.log(r.length);var e=s-1;return s+1>r.length||e<0},open:function(){var t=[];t.push({frame:0,value:0}),t.push({frame:10,value:1});var n=new vt.Animation("scaleAnimationOpen","scaleX",30,vt.Animation.ANIMATIONTYPE_FLOAT,vt.Animation.ANIMATIONLOOPMODE_CONSTANT);n.setKeys(t);var a=new vt.BounceEase(1,4);a.setEasingMode(vt.EasingFunction.EASINGMODE_EASEOUT),n.setEasingFunction(a),e.beginDirectAnimation(o,[n],0,100,!1,1)},close:function(){var t=[];t.push({frame:0,value:1}),t.push({frame:10,value:0});var n=new vt.Animation("scaleAnimation","scaleX",10,vt.Animation.ANIMATIONTYPE_FLOAT,vt.Animation.ANIMATIONLOOPMODE_CONSTANT);n.setKeys(t);var a=new vt.ExponentialEase(9.7);a.setEasingMode(vt.EasingFunction.EASINGMODE_EASEINOUT),n.setEasingFunction(a),e.beginDirectAnimation(o,[n],0,100,!1,1)},addObserver:function(e){u.push(e)},removeObserver:function(e){},clearObservers:function(){},clearItems:function(){}}}function Ft(e,t,n){var a=new vt.MeshBuilder.CreatePlane("windown_plane",{width:1.6*t,height:.15*t,sideOrientation:vt.Mesh.DOUBLESIDE},e);a.XRPickable=n,a.nonXREditable=!0;var o=new Mt.AdvancedDynamicTexture.CreateForMesh(a);o.scaleTo(800,100);var i=new Mt.Rectangle("container");i.width=1,i.height=1,i.thickness=0,i.background="#00000066";var r=new Mt.Grid("win_grid");r.addRowDefinition(1),r.addColumnDefinition(.7),r.addColumnDefinition(.15),r.addColumnDefinition(.15),r.paddingLeftInPixels=5;var s=new Mt.TextBlock("win_text_name");s.fontFamily="Helvetica",s.text="Secci\xf3n de preguntas",s.color="white",s.fontSize=40,s.textHorizontalAlignment=Mt.Control.HORIZONTAL_ALIGNMENT_LEFT,r.addControl(s,0,0),i.addControl(r),o.addControl(i);var c=new vt.MeshBuilder.CreatePlane("displayPlaneinfo",{width:1.6*t,height:.9*t},e),l=new vt.Vector3(-.7,.5,0);a.position=l,a.rotation.y=Math.PI/180*90;var d=c.getBoundingInfo().boundingBox.maximum.y+a.getBoundingInfo().boundingBox.maximum.y,u=new vt.Vector3(0,-d,0);c.parent=a,c.position=u;var p=new Mt.AdvancedDynamicTexture.CreateForMesh(c);p.scaleTo(800,450),p.idealHeight=620;var h=new Mt.Grid("main_grid");h.addRowDefinition(15,!0),h.addRowDefinition(170,!0),h.addRowDefinition(230,!0),h.addRowDefinition(100,!0),h.addRowDefinition(105,!0),h.addColumnDefinition(1);var m="sin pregunta cargada... ",f=[],b=" ",g=[],x=new Mt.Rectangle("container");x.width=1,x.height=1,x.thickness=0,x.background="green",p.addControl(x),x.addControl(h);var v=new Mt.TextBlock("dataText","pues no hay pregunta todavia...");v.textWrapping=!0,v.text=m,v.color="black",v.fontSize=35,v.textHorizontalAlignment=Mt.Control.HORIZONTAL_ALIGNMENT_LEFT,v.textVerticalAlignment=Mt.Control.VERTICAL_ALIGNMENT_TOP,v.paddingLeft="25px",v.paddingRight="25px",h.addControl(v,1,0);var y=new Mt.Grid("buttonsGrid");function w(e){var t=new Mt.Button.CreateSimpleButton("button_"+e,e);return t.fontSize=45,t.fontFamily="Arial",t.cornerRadius=5,t.background="#6c757d",t}function M(e){g=e}y.paddingLeft="25px",y.paddingRight="25px",y.verticalAlignment=Mt.Control.VERTICAL_ALIGNMENT_TOP,y.addRowDefinition(.45),y.addRowDefinition(.1),y.addRowDefinition(.45),y.addColumnDefinition(.45),y.addColumnDefinition(.1),y.addColumnDefinition(.45);var O=w(f[0]);O.onPointerClickObservable.add((function(e){e&&M(f[0])}));var P=w(f[1]);P.onPointerClickObservable.add((function(e){e&&M(f[1])}));var C=w(f[2]);C.onPointerClickObservable.add((function(e){e&&M(f[2])}));var I=w(f[3]);I.onPointerClickObservable.add((function(e){e&&M(f[3])})),O.onPointerUpObservable.add((function(){O.background="#c91a1a",P.background="#6c757d",C.background="#6c757d",I.background="#6c757d"})),P.onPointerUpObservable.add((function(){P.background="#c91a1a",O.background="#6c757d",C.background="#6c757d",I.background="#6c757d"})),C.onPointerUpObservable.add((function(){C.background="#c91a1a",O.background="#6c757d",P.background="#6c757d",I.background="#6c757d"})),I.onPointerUpObservable.add((function(){I.background="#c91a1a",P.background="#6c757d",C.background="#6c757d",O.background="#6c757d"})),y.addControl(O,0,0),y.addControl(P,2,0),y.addControl(C,0,2),y.addControl(I,2,2),h.addControl(y,2,0);var j=new Mt.Grid("controlGrid");j.addRowDefinition(1),j.addColumnDefinition(.2),j.addColumnDefinition(.4),j.addColumnDefinition(.2),j.height=1,j.paddingTop="15px",j.paddingLeft="25px",j.paddingRight="25px",j.paddingBottom="25px";var A=Mt.Button.CreateSimpleButton("leftarrow","Anterior");A.paddingRightInPixels=10,A.fontSize=35,A.onPointerClickObservable.add((function(){P.background="#6c757d",O.background="#6c757d",C.background="#6c757d",I.background="#6c757d"}));var S=Mt.Button.CreateSimpleButton("rightarrow","Siguiente");S.paddingLeftInPixels=10,S.fontSize=35,S.onPointerClickObservable.add((function(){P.background="#6c757d",O.background="#6c757d",C.background="#6c757d",I.background="#6c757d"}));var B=Mt.Button.CreateSimpleButton("final_answer","Responder");function k(e,t,n){var a=new Mt.Rectangle("container_result");a.width=1,a.height=.99,a.thickness=0,a.background="green",a.scaleX=0,x.addControl(a);var o=new Mt.Grid;o.background="white",o.addRowDefinition(.2),o.addRowDefinition(.5),o.addRowDefinition(.2),o.addRowDefinition(.1),a.addControl(o);var i=new Mt.Button.CreateSimpleButton("button_Aceptar","Aceptar");i.color="white",i.fontSize=35,i.fontFamily="Arial",i.width=.5,i.height="75px",i.cornerRadius=10,i.background="#6c757d",i.onPointerClickObservable.add((function(){l()}));var r=new Mt.TextBlock;r.text=t,r.color="black",r.fontSize=45,r.fontStyle="bold",r.textHorizontalAlignment=Mt.Control.HORIZONTAL_ALIGNMENT_CENTER,r.height="80px",r.paddingTop="25px";var s=new Mt.Image("but",n);s.width="200px",s.height="200px",o.addControl(i,2,0),o.addControl(r,0,0),o.addControl(s,1,0);var c={};function l(){e.onBeforeRenderObservable.remove(c);var t=[];t.push({frame:0,value:1}),t.push({frame:10,value:0});var n=new vt.Animation("scaleAnimation","scaleX",10,vt.Animation.ANIMATIONTYPE_FLOAT,vt.Animation.ANIMATIONLOOPMODE_CONSTANT);n.setKeys(t);var o=new vt.ExponentialEase(9.7);o.setEasingMode(vt.EasingFunction.EASINGMODE_EASEINOUT),n.setEasingFunction(o),e.beginDirectAnimation(a,[n],0,100,!1,1)}var d={};return d.headerText=r,d.show=function(){c=e.onBeforeRenderObservable.add((function(){}));var t=[];t.push({frame:0,value:0}),t.push({frame:10,value:1});var n=new vt.Animation("scaleAnimationOpen","scaleX",30,vt.Animation.ANIMATIONTYPE_FLOAT,vt.Animation.ANIMATIONLOOPMODE_CONSTANT);n.setKeys(t);var o=new vt.BounceEase(1,4);o.setEasingMode(vt.EasingFunction.EASINGMODE_EASEOUT),n.setEasingFunction(o),e.beginDirectAnimation(a,[n],0,100,!1,1)},d.hide=l,d}B.fontSize=35;var T=k(e,"Respuesta correcta!","/images/correct.png"),E=k(e,"Respuesta incorrecta!","/images/incorrect.png"),R=function(e,t,n){var a=new Mt.Rectangle("container_result");a.width=1,a.height=.99,a.thickness=0,a.background="green",a.scaleX=0,x.addControl(a);var o=new Mt.Grid;o.background="white",o.addRowDefinition(.2),o.addRowDefinition(.5),o.addRowDefinition(.2),o.addRowDefinition(.1),a.addControl(o);var i=new Mt.Button.CreateSimpleButton("button_Aceptar","Aceptar");i.color="white",i.fontSize=35,i.fontFamily="Arial",i.width=.5,i.height="75px",i.cornerRadius=10,i.background="#6c757d",i.onPointerClickObservable.add((function(){l()}));var r=new Mt.TextBlock;r.text=t,r.color="black",r.fontSize=40,r.fontStyle="bold",r.textHorizontalAlignment=Mt.Control.HORIZONTAL_ALIGNMENT_CENTER,r.height="80px",r.paddingTop="25px";var s=new Mt.Image("but",n);s.width="550px",s.height="300px",o.addControl(i,2,0),o.addControl(r,0,0),o.addControl(s,1,0);var c={};function l(){e.onBeforeRenderObservable.remove(c);var t=[];t.push({frame:0,value:1}),t.push({frame:10,value:0});var n=new vt.Animation("scaleAnimation","scaleX",10,vt.Animation.ANIMATIONTYPE_FLOAT,vt.Animation.ANIMATIONLOOPMODE_CONSTANT);n.setKeys(t);var o=new vt.ExponentialEase(9.7);o.setEasingMode(vt.EasingFunction.EASINGMODE_EASEINOUT),n.setEasingFunction(o),e.beginDirectAnimation(a,[n],0,100,!1,1)}var d={};return d.headerText=r,d.show=function(){c=e.onBeforeRenderObservable.add((function(){}));var t=[];t.push({frame:0,value:0}),t.push({frame:10,value:1});var n=new vt.Animation("scaleAnimationOpen","scaleX",30,vt.Animation.ANIMATIONTYPE_FLOAT,vt.Animation.ANIMATIONLOOPMODE_CONSTANT);n.setKeys(t);var o=new vt.BounceEase(1,4);o.setEasingMode(vt.EasingFunction.EASINGMODE_EASEOUT),n.setEasingFunction(o),e.beginDirectAnimation(a,[n],0,100,!1,1)},d.hide=l,d}(e,"Todas las preguntas fueron respondidas correctamente!","/images/complete.png"),N=!1;function V(){return(V=Object(W.a)(G.a.mark((function e(){return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:N=g===b;case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}B.onPointerUpObservable.add((function(){!function(){V.apply(this,arguments)}()})),j.addControl(A,0,0),j.addControl(B,0,1),j.addControl(S,0,2),h.addControl(j,3,0);var _=new Mt.Grid("buttonsGrid");_.paddingLeft="25px",_.paddingRight="25px",_.verticalAlignment=Mt.Control.VERTICAL_ALIGNMENT_TOP,_.addRowDefinition(1),_.addColumnDefinition(.33),_.addColumnDefinition(.33),_.addColumnDefinition(.33);var D=new Mt.TextBlock("question_number","Pregunta: 0/0");D.textWrapping=!0,D.color="black",D.fontSize=30,D.textHorizontalAlignment=Mt.Control.HORIZONTAL_ALIGNMENT_CENTER,D.textVerticalAlignment=Mt.Control.VERTICAL_ALIGNMENT_TOP,D.paddingLeft="25px",D.paddingRight="25px";var F=new Mt.TextBlock("time_number","Tiempo: 00:00");F.textWrapping=!0,F.color="black",F.fontSize=30,F.textHorizontalAlignment=Mt.Control.HORIZONTAL_ALIGNMENT_CENTER,F.textVerticalAlignment=Mt.Control.VERTICAL_ALIGNMENT_TOP,F.paddingLeft="25px",F.paddingRight="25px";var L=new Mt.TextBlock("time_number","  Errores: nunguno ");L.textWrapping=!0,L.color="black",L.fontSize=30,L.textHorizontalAlignment=Mt.Control.HORIZONTAL_ALIGNMENT_CENTER,L.textVerticalAlignment=Mt.Control.VERTICAL_ALIGNMENT_TOP,L.paddingLeft="25px",L.paddingRight="25px",_.addControl(D,0,0),_.addControl(F,0,1),_.addControl(L,0,2),h.addControl(_,4,0);var z={};return{displayPlane:a,container:x,open:function(){z=e.onBeforeRenderObservable.add((function(){}));var t=[];t.push({frame:0,value:0}),t.push({frame:10,value:1});var n=new vt.Animation("scaleAnimationOpen","scaleX",30,vt.Animation.ANIMATIONTYPE_FLOAT,vt.Animation.ANIMATIONLOOPMODE_CONSTANT);n.setKeys(t);var a=new vt.BounceEase(1,4);a.setEasingMode(vt.EasingFunction.EASINGMODE_EASEOUT),n.setEasingFunction(a),e.beginDirectAnimation(x,[n],0,100,!1,1)},close:function(){e.onBeforeRenderObservable.remove(z);var t=[];t.push({frame:0,value:1}),t.push({frame:10,value:0});var n=new vt.Animation("scaleAnimation","scaleX",10,vt.Animation.ANIMATIONTYPE_FLOAT,vt.Animation.ANIMATIONLOOPMODE_CONSTANT);n.setKeys(t);var a=new vt.ExponentialEase(9.7);a.setEasingMode(vt.EasingFunction.EASINGMODE_EASEINOUT),n.setEasingFunction(a),e.beginDirectAnimation(x,[n],0,100,!1,1)},loadquiz:function(e){m=e.question,f=e.answers,b=e.correctanswer,e.extradata,v.text=e.question,O.textBlock.text=f[0],P.textBlock.text=f[1],C.textBlock.text=f[2],I.textBlock.text=f[3]},leftarrow:A,rightarrow:S,finalanswerButton:B,time_number:F,error_number:L,question_number:D,setIscompleted:function(e){e},allcompletedPanel:R,correctPanel:T,incorrectPanel:E,getIsCorrect:function(){return N},setCorrectObs:function(e){e},setIncorrectObs:function(e){e}}}function Lt(e,t,n){var a=new vt.MeshBuilder.CreatePlane("windown_plane",{width:.8*t,height:.15*t,sideOrientation:vt.Mesh.DOUBLESIDE},e);a.XRPickable=n,a.nonXREditable=!0;var o=new Mt.AdvancedDynamicTexture.CreateForMesh(a);o.scaleTo(400,100);var i=new Mt.Rectangle("container");i.width=1,i.height=1,i.thickness=0,i.background="#00000066";var r=new Mt.Grid("win_grid");r.addRowDefinition(1),r.addColumnDefinition(.7),r.addColumnDefinition(.15),r.addColumnDefinition(.15),r.paddingLeftInPixels=5;var s=new Mt.TextBlock("win_text_name");s.fontFamily="Helvetica",s.text="Pantalla de resultados",s.color="white",s.fontSize=28,s.height="100px",s.textHorizontalAlignment=Mt.Control.HORIZONTAL_ALIGNMENT_LEFT,r.addControl(s,0,0),i.addControl(r),o.addControl(i);var c=new vt.MeshBuilder.CreatePlane("displayPlaneinfo",{width:.8*t,height:.6*t},e),l=new vt.Vector3(-.7,.5,0);a.position=l,a.rotation.y=Math.PI/180*90;var d=c.getBoundingInfo().boundingBox.maximum.y+a.getBoundingInfo().boundingBox.maximum.y,u=new vt.Vector3(0,-d,0);c.parent=a,c.position=u;var p=new Mt.AdvancedDynamicTexture.CreateForMesh(c);p.scaleTo(800,600);p.idealHeight=240;var h=new Mt.Rectangle("container");h.horizontalAlignment=Mt.Control.HORIZONTAL_ALIGNMENT_LEFT,h.verticalAlignment=Mt.Control.VERTICAL_ALIGNMENT_TOP,h.width=1,h.height="240px",h.thickness=0,h.background="white";var m=new Mt.Grid;m.addRowDefinition(.5),m.addRowDefinition(.5),h.addControl(m),p.addControl(h);var f=new Mt.TextBlock("dataText","Sin datos que mostar");f.textWrapping=!0,f.color="black",f.fontSize=20,f.textHorizontalAlignment=Mt.Control.HORIZONTAL_ALIGNMENT_LEFT,f.textVerticalAlignment=Mt.Control.VERTICAL_ALIGNMENT_TOP,f.paddingLeft="20px",f.paddingTop="20px",m.addControl(f,1,0);var b=0,g=" ";var x={};function v(){x=e.onBeforeRenderObservable.add((function(){e.deltaTime&&(b+=e.deltaTime),b>=100&&(f.text=g,b=0)}));var t=[];t.push({frame:0,value:0}),t.push({frame:10,value:1});var n=new vt.Animation("scaleAnimationOpen","scaleX",30,vt.Animation.ANIMATIONTYPE_FLOAT,vt.Animation.ANIMATIONLOOPMODE_CONSTANT);n.setKeys(t);var a=new vt.BounceEase(1,4);a.setEasingMode(vt.EasingFunction.EASINGMODE_EASEOUT),n.setEasingFunction(a),e.beginDirectAnimation(h,[n],0,100,!1,1)}return v(),{displayPlane:a,container:h,addFormulaImage:function(e){var t=new Mt.Image("equation",e);t.width=1,t.height="100px",t.paddingLeft="20px",t.paddingRight="20px",m.addControl(t,0,0)},setViewData:function(e){g=e},clearViewData:function(){g="sin datos"},open:v,close:function(){e.onBeforeRenderObservable.remove(x);var t=[];t.push({frame:0,value:1}),t.push({frame:10,value:0});var n=new vt.Animation("scaleAnimation","scaleX",10,vt.Animation.ANIMATIONTYPE_FLOAT,vt.Animation.ANIMATIONLOOPMODE_CONSTANT);n.setKeys(t);var a=new vt.ExponentialEase(9.7);a.setEasingMode(vt.EasingFunction.EASINGMODE_EASEINOUT),n.setEasingFunction(a),e.beginDirectAnimation(h,[n],0,100,!1,1)},dataText:f}}function zt(e,t,n){var a=new vt.MeshBuilder.CreatePlane("windown_plane",{width:.8*t,height:.15*t,sideOrientation:vt.Mesh.DOUBLESIDE},e);a.XRPickable=n,a.nonXREditable=!0;var o=new Mt.AdvancedDynamicTexture.CreateForMesh(a);o.scaleTo(400,100);var i=new Mt.Rectangle("container");i.width=1,i.height=1,i.thickness=0,i.background="#00000066";var r=new Mt.Grid("win_grid");r.addRowDefinition(1),r.addColumnDefinition(.7),r.addColumnDefinition(.15),r.addColumnDefinition(.15),r.paddingLeftInPixels=5;var s=new Mt.TextBlock("win_text_name");s.fontFamily="Helvetica",s.text="Pantalla de controles",s.color="white",s.fontSize=28,s.height="100px",s.textHorizontalAlignment=Mt.Control.HORIZONTAL_ALIGNMENT_LEFT,r.addControl(s,0,0),i.addControl(r),o.addControl(i);var c=new vt.MeshBuilder.CreatePlane("displayPlaneinfo",{width:.8*t,height:.8*t},e),l=new vt.Vector3(-.7,.5,0);a.position=l,a.rotation.y=Math.PI/180*90;var d=c.getBoundingInfo().boundingBox.maximum.y+a.getBoundingInfo().boundingBox.maximum.y,u=new vt.Vector3(0,-d,0);c.parent=a,c.position=u;var p=new Mt.AdvancedDynamicTexture.CreateForMesh(c);p.scaleTo(300,300);var h=new Mt.Rectangle("container");h.horizontalAlignment=Mt.Control.HORIZONTAL_ALIGNMENT_RIGHT,h.verticalAlignment=Mt.Control.VERTICAL_ALIGNMENT_TOP,h.width=1,h.thickness=0,p.addControl(h);var m=new Mt.StackPanel("panel");h.addControl(m),m.horizontalAlignment=Mt.Control.HORIZONTAL_ALIGNMENT_RIGHT,m.verticalAlignment=Mt.Control.VERTICAL_ALIGNMENT_TOP;var f=new Mt.SelectionPanel("spi");f.width=1,f.height="170px",f.background="#1388AF",f.thickness=0,f.fontSize=17,f.horizontalAlignment=Mt.Control.HORIZONTAL_ALIGNMENT_LEFT,f.verticalAlignment=Mt.Control.VERTICAL_ALIGNMENT_TOP,m.addControl(f);var b=Mt.Button.CreateSimpleButton("but","Ejecutar");b.height="40px",b.color="white",b.fontSize=20,b.background="#1388AF",m.addControl(b);var g=Mt.Button.CreateSimpleButton("but","Reiniciar");g.height="40px",g.color="white",g.fontSize=20,g.background="#1388AF",m.addControl(g);var x=[];return{displayPlane:a,container:h,button:b,button2:g,controlPanel:f,open:function(){var t=[];t.push({frame:0,value:0}),t.push({frame:10,value:1});var n=new vt.Animation("scaleAnimationOpen","scaleX",30,vt.Animation.ANIMATIONTYPE_FLOAT,vt.Animation.ANIMATIONLOOPMODE_CONSTANT);n.setKeys(t);var a=new vt.BounceEase(1,4);a.setEasingMode(vt.EasingFunction.EASINGMODE_EASEOUT),n.setEasingFunction(a),e.beginDirectAnimation(h,[n],0,100,!1,1)},close:function(){var t=[];t.push({frame:0,value:1}),t.push({frame:10,value:0});var n=new vt.Animation("scaleAnimation","scaleX",10,vt.Animation.ANIMATIONTYPE_FLOAT,vt.Animation.ANIMATIONLOOPMODE_CONSTANT);n.setKeys(t);var a=new vt.ExponentialEase(9.7);a.setEasingMode(vt.EasingFunction.EASINGMODE_EASEINOUT),n.setEasingFunction(a),e.beginDirectAnimation(h,[n],0,100,!1,1)},addObserver:function(e){x.push(e)},removeObserver:function(e){b.onPointerUpObservable.remove(x[e]),x.splice(e,1)},clearObservers:function(){b.onPointerUpObservable.clear(),x=[]},clearItems:function(){f.height="2px";for(var e=f.groups.length-1,t=0;t<=e;t++)f.removeGroup(t)}}}var Ut=function(){function e(t,n,a,o,i){Object(Ye.a)(this,e),this.observables_list=[],this.scene=i,this.displayPlane=new vt.MeshBuilder.CreatePlane("displayPlaneinfo",{width:t,height:n},this.scene),this.displayPlane.nonXREditable=o,this.displayPlane.XRPickable=a,this.container_texture=new Mt.AdvancedDynamicTexture.CreateForMesh(this.displayPlane);var r=new vt.Vector3(0,1.5,0);this.displayPlane.position=r,this.displayPlane.rotation.y=Math.PI/180*90;var s=new Mt.Rectangle("container");s.width=1,s.height=1,s.thickness=0,s.background="white",s.alpha=.05,s.zIndex=-1,this.container_texture.addControl(s)}return Object(Je.a)(e,[{key:"displayPlaneRPosition",value:function(e,t,n){var a=new vt.Vector3(e,t,n);this.displayPlane.position=a}},{key:"displayPlaneRotation",value:function(e){this.displayPlane.rotation.y=e*(Math.PI/180)}},{key:"setScaleToInPixels",value:function(e,t){this.container_texture.scaleTo(e,t)}},{key:"idealHeight",value:function(e){this.container_texture.idealHeight=e}},{key:"idealWidth",value:function(e){this.container_texture.idealWidth=e}},{key:"useSmallestIdeal",value:function(e){this.container_texture.useSmallestIdeal=e}},{key:"addControl",value:function(e){this.container_texture.addControl(e)}},{key:"open",value:function(){var e=[];e.push({frame:0,value:0}),e.push({frame:10,value:1});var t=new vt.Animation("scaleAnimationOpen","scaleX",30,vt.Animation.ANIMATIONTYPE_FLOAT,vt.Animation.ANIMATIONLOOPMODE_CONSTANT);t.setKeys(e);var n=new vt.BounceEase(1,4);n.setEasingMode(vt.EasingFunction.EASINGMODE_EASEOUT),t.setEasingFunction(n),this.scene.beginDirectAnimation(this.displayPlane,[t],0,100,!1,1)}},{key:"close",value:function(){var e=[];e.push({frame:0,value:1}),e.push({frame:10,value:0});var t=new vt.Animation("scaleAnimation","scaleX",10,vt.Animation.ANIMATIONTYPE_FLOAT,vt.Animation.ANIMATIONLOOPMODE_CONSTANT);t.setKeys(e);var n=new vt.ExponentialEase(9.7);n.setEasingMode(vt.EasingFunction.EASINGMODE_EASEINOUT),t.setEasingFunction(n),this.scene.beginDirectAnimation(this.displayPlane,[t],0,100,!1,1)}},{key:"addObserver",value:function(e){this.observables_list.push(e)}},{key:"removeObserver",value:function(e){this.observables_list.splice(e,1)}},{key:"clearObservers",value:function(){this.observables_list=[]}}]),e}(),Xt=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[""],a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[""];Object(Ye.a)(this,e),this.quiz={question:t,answers:n,correctanswer:n[a],extradata:o}}return Object(Je.a)(e,[{key:"addLogic",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){};this.Load_Logic=e}},{key:"addModels",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object(W.a)(G.a.mark((function e(){return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));this.Load_Models=e}}]),e}(),qt=(new Xt("actividad: Un automovilista viaja en una carretera recta a una velocidad constante de 90Km/h. Determinar la distancia que recorre en 5 minutos",["A) 7.5 km","B) 10.4 Km","C) 5400 m","D) 7200 m"],0),new Xt("1. En el transcurso de 3 segundos un auto de juguete viaj\xf3 a una rapidez de 3m/s. \xbfQue distancia recorri\xf3?",["A) 9.0 metros","B) 3.0 metros","C) 4.7 metros","D) 3.5 metros"],0,["Tiempo = 3 Segundos","velocidad = 3m/s","Distancia recorrida: ?"])),Gt=new Xt("2. Un auto de juguete se movio 7 metros durante 3.5 segundos. \xbfque velocidad obtuvo?",["A) 0.5 m/s","B) 4.0 m/s","C) 2.0 m/s","D) 3.0 m/s"],2,["Tiempo = 3 Segundos","velocidad = 3m/s","Distancia recorrida: ?"]),Wt=new Xt("3. Un auto de juguete Recorri\xf3 6.5 metros a una velocidad de 1.5 m/s. \xbfcuanto tiempo dur\xf3 su movimiento?",["A) 2.5 segs","B) 4.3 segs","C) 3.3 segs","D) 6.5 segs"],1,["Tiempo = 3 Segundos","velocidad = 3m/s","Distancia recorrida: ?"]),Qt=n.p+"static/media/help0.c3212ce6.png",Ht=n.p+"static/media/img1.713bf9ed.PNG",Zt=n.p+"static/media/img2.4025a0ce.PNG",Kt=n.p+"static/media/img3.9145ad0b.PNG",Yt=n.p+"static/media/img4.05bf6d66.PNG",Jt=n.p+"static/media/alert1.ce34ff4b.png",$t=n.p+"static/media/help1.93990bf3.png",en=n.p+"static/media/cardboard.ca4cc733.png",tn=function(){function e(t,n){Object(Ye.a)(this,e),this.name=t,this.src=n,this.Base_image=new Mt.Image(t,n),this.Base_image.zIndex=-1,this.info_image_container=new Mt.Container(t),this.info_image_container.addControl(this.Base_image)}return Object(Je.a)(e,[{key:"addLogic",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){};this.Load_Logic=e}},{key:"addModels",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object(W.a)(G.a.mark((function e(){return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));this.Load_Models=e}}]),e}(),nn=function(e){Object($e.a)(n,e);var t=Object(et.a)(n);function n(){return Object(Ye.a)(this,n),t.apply(this,arguments)}return Object(Je.a)(n,[{key:"render",value:function(){return Object(b.jsx)(xt,{data:on})}}]),n}(a.Component),an=Object(_.a)((function(e){return{imagebox:{height:"100%",width:"60%",display:"flex",flexDirection:"column"},card:{height:"100%",flexDirection:"column"},media:{height:400},babylonbuttons:{"& > *":{margin:e.spacing(1)}},image:{paddingTop:"10px",paddingBottom:"20px"}}}));function on(){var e=an(),t=x().currentUser,n={id:"exercise_1_1",generalTime:"00:00",totalErrors:0,isCompleted:!1,quizes:{quiz_1:{id:"quiz_1",time:"00:00",errors:0,isCompleted:!1},quiz_2:{id:"quiz_2",time:"00:00",errors:0,isCompleted:!1},quiz_3:{id:"quiz_3",time:"00:00",errors:0,isCompleted:!1}}};St(t),Bt(n),Tt(n.id),It.start();return Object(b.jsx)(o.a.Fragment,{children:Object(b.jsxs)(D.a,{maxWidth:"xl",children:[Object(b.jsx)(F.a,{width:"100%",p:1,my:.5,children:Object(b.jsx)(wt,{onSceneMount:function(e){var t=e.canvas,a=e.scene,o=e.engine;o.displayLoadingUI();var i=new Ot.Timer,r=new vt.Vector3(-3,1,0),s=new vt.Vector3(0,.5,0),c=new vt.UniversalCamera("camera1",r,a);c.setTarget(s),c.attachControl(t,!1),c.speed=.7,c.angularSensibility=1200,c.inertia=.5,new vt.HemisphericLight("light1",new vt.Vector3(0,1,0),a).intensity=.7;var l=vt.MeshBuilder.CreateBox("SkyBox",{size:1e3},a),d=new vt.StandardMaterial("skyBox",a);d.backFaceCulling=!1,d.reflectionTexture=new vt.HDRCubeTexture("textures/lilienstein_4k.hdr",a,512),d.reflectionTexture.coordinatesMode=vt.Texture.SKYBOX_MODE,d.diffuseColor=new vt.Color3(0,0,0),d.specularColor=new vt.Color3(0,0,0),d.disableLighting=!0,l.material=d,a.enablePhysics(new vt.Vector3(0,-9.81,0),new vt.AmmoJSPlugin);a.getPhysicsEngine();a.collisionsEnabled=!0,c.checkCollisions=!0,c.applyGravity=!0,c.ellipsoid=new vt.Vector3(1,.5,1);var u=Pt(a);u.checkCollisions=!0;var p={};function h(){return(h=Object(W.a)(G.a.mark((function e(){var t;return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.createDefaultXRExperienceAsync({disableDefaultUI:!0,uiOptions:{sessionMode:"immersive-ar",referenceSpaceType:"local-floor"},inputOptions:{doNotLoadControllerMeshes:!1}});case 2:p=e.sent,t=p.baseExperience.featuresManager,t.enableFeature(vt.WebXRBackgroundRemover.Name),p.baseExperience.onStateChangedObservable.add((function(e){e==vt.WebXRState.ENTERING_XR&&(u.visibility=0,l.isVisible=!1),e==vt.WebXRState.NOT_IN_XR&&(u.visibility=1,l.isVisible=!0)}));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){h.apply(this,arguments)}();var m=Ct(vt,a);m.selectMode(0);var f=null,b=null,g=null;a.onPointerObservable.addOnce((function(e){e.type===vt.PointerEventTypes.POINTERMOVE&&i.start()})),a.onPointerObservable.add((function(e){f=e.pickInfo.pickedMesh,e.type===vt.PointerEventTypes.POINTERDOWN&&(e.pickInfo.pickedMesh&&e.pickInfo.pickedMesh.XRPickable&&(a.constantlyUpdateMeshUnderPointer=!0,g=!0,b=f,m.attachToMesh(b)),e.pickInfo.pickedMesh&&e.pickInfo.pickedMesh.nonXREditable,!e.pickInfo.pickedMesh||e.pickInfo.pickedMesh.XRPickable||e.pickInfo.pickedMesh.nonXREditable||(b=null,m.attachToMesh(null))),e.type===vt.PointerEventTypes.POINTERUP&&(a.constantlyUpdateMeshUnderPointer=!1,e.pickInfo.pickedMesh&&e.pickInfo.pickedMesh.XRPickable&&f.physicsImpostor&&(g=!1,f=null))})),a.onBeforePhysicsObservable.add((function(){g&&f&&f.XRPickable&&f.physicsImpostor&&(f.physicsImpostor._physicsBody.setLinearVelocity(0,0,0),f.physicsImpostor._physicsBody.setAngularVelocity(0,0,0))})),a.registerBeforeRender((function(){}));var x=new tn("help0",Qt),v=new tn("card4",Yt),y=new tn("card1",Ht),w=new tn("card2",Zt),M=new tn("card3",Kt),O=new tn("card_alert",Jt),P=new tn("card5",$t);x.addLogic((function(){})),v.addLogic((function(){C.logicManager.ClearAll(),function(){var e=[],t=[],n=[],o=[],i=[],r=[];function s(e,t){e.rotationQuaternion=new vt.Quaternion.RotationAxis(new vt.Vector3(0,1,0),t*(Math.PI/180))}function c(e,t,n,o){var i=e[t].getHierarchyBoundingVectors(),r=i.max.subtract(i.min),s=i.max.add(i.min).scale(.5);n.scaling.copyFrom(r),n.XRPickable=!0,n.visibility=0,n.physicsImpostor=new vt.PhysicsImpostor(n,o,{mass:3},a),n.position=s,e[t].setParent(n)}function l(){return d.apply(this,arguments)}function d(){return(d=Object(W.a)(G.a.mark((function e(){var t,n,o;return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,vt.SceneLoader.ImportMeshAsync("","../3DModels/","bluecar.glb",a);case 2:t=e.sent,(n=t.meshes)[0].scaling.scaleInPlace(.15),n[0].position.set(-.5,0,0),o=vt.MeshBuilder.CreateBox("carBox1",{height:n[1].height,width:n[1].width,depth:n[1].depth},a),c(n,0,o,vt.PhysicsImpostor.BoxImpostor),s(o,180),r.push(n),r.push(o),C.logicManager.AddDisposableStuff(n),C.logicManager.AddDisposableStuff(o);case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var u,p=new vt.Vector3(0,0,1),h=(vt.Vector3.Zero(),15),m=3,f=1,b=0,g=0;function x(){l().then((function(){r[0],u=a.getMeshByName("carBox1")}))}function v(){try{w(u)}catch(e){console.log(e)}}x();var y=function(e,t){var n=new vt.Matrix;return e.rotationQuaternion.toRotationMatrix(n),vt.Vector3.TransformNormal(t,n)};function w(s){function c(i,s){var c=r[0][0].clone("bModel");c.setParent(null);var l,d=Object(Ke.a)(c.getChildMeshes());try{for(d.s();!(l=d.n()).done;){var u=l.value;u.material=new vt.StandardMaterial("mat"),u.material.alpha=.25}}catch(b){d.e(b)}finally{d.f()}c.setAbsolutePosition(i.position),c.position.y-=.1;var p=vt.MeshBuilder.CreateSphere("ghost_sphere",{segments:12,diameter:.05},a),h=new vt.StandardMaterial("mat");function m(){if(e.length>1){var t=e[e.length-2],o=e[e.length-1],i=new vt.Mesh.CreateLines("line",[t.getAbsolutePosition(),o.getAbsolutePosition()],a,!0);n.push(i),C.logicManager.AddDisposableStuff(i)}}function f(e){var t=vt.MeshBuilder.CreatePlane("planes",{height:.1,width:.25},a);t.setAbsolutePosition(e.position),t.billboardMode=vt.Mesh.BILLBOARDMODE_ALL,t.position.y=.5;var n=Mt.AdvancedDynamicTexture.CreateForMesh(t,400,160);C.logicManager.AddTemporalGUI(t),o.push(t);var i=Mt.Button.CreateSimpleButton("but1","Sin datos");i.width=1,i.height=1,i.color="white",i.fontStyle="bold",i.fontSize=50,i.background="#00000066",i.textBlock.text="Velocidad: \n"+s.obj_Velocity.toString()+" m/s";var r=1;i.onPointerUpObservable.add((function(){switch(r){case 1:r=2,i.textBlock.text="Tiempo: \n"+s.display_Time.toString()+" segs";break;case 2:r=3,i.textBlock.text="Distancia: \n"+s.display_Distance.toString()+" mts";break;case 3:r=1,i.textBlock.text="Velocidad: \n"+s.obj_Velocity.toString()+" m/s"}})),n.addControl(i)}h.diffuseColor=new vt.Color4(0,1,0,1),p.material=h,p.setAbsolutePosition(i.position),t.push(c),e.push(p),C.logicManager.AddDisposableStuff(c),C.logicManager.AddDisposableStuff(p),f(c),m()}function l(e,t){var n=0,o=Math.round(e/t),r=0,l=a.onBeforeRenderObservable.add((function(){if((n+=a.deltaTime)>=1e3*t){if(r<=o)n=0,b=(h*(r/o)).toFixed(2).toString(),g=(m*(r/o)).toFixed(2).toString(),c(s,{display_Distance:b,display_Time:g,obj_Velocity:f}),s.physicsImpostor&&s.physicsImpostor.setLinearVelocity(y(s,p.scale(f)));else r=0,n=0,s.physicsImpostor&&s.physicsImpostor.setLinearVelocity(new vt.Vector3(0,0,0)),a.onBeforeRenderObservable.remove(l);r++}}));i.push(l)}l(m,1)}function M(){r.length>0&&r.forEach((function(e){Array.isArray(e)?e.forEach((function(e){return e.dispose()})):e.dispose()})),r=[]}function O(){e&&(e.forEach((function(e){e.dispose()})),e=[]),n&&(n.forEach((function(e){e.dispose()})),n=[]),o&&(o.forEach((function(e){e.dispose()})),o=[]),t&&(t.forEach((function(e){e.dispose()})),t=[])}var P=Mt.Button.CreateImageOnlyButton("but","images/pressme.png");P.color="transparent";var I=new Ut(.5,.33,!0,!0,a);I.setScaleToInPixels(300,160),I.displayPlane.position.set(0,.25,.5),C.logicManager.AddTemporalGUI(I.displayPlane);var j=1;P.onPointerUpObservable.add((function(){switch(j){case 1:v(),j=2;break;case 2:O(),M(),x(),O(),j=1}})),I.addControl(P)}()})),O.addLogic((function(){C.logicManager.ClearAll()})),P.addLogic((function(){C.logicManager.ClearAll(),function(){var e=Ft(a,1,!0);e.displayPlane.position.copyFrom(C.displayPlane.position),e.displayPlane.position.x-=.3,e.displayPlane.position.y+=.3,e.displayPlane.position.z-=2.8;var t=Lt(a,1,!0);t.displayPlane.position.copyFrom(C.displayPlane.position),t.displayPlane.position.x-=.4,t.displayPlane.position.y-=.3,t.displayPlane.position.z+=2.2,t.addFormulaImage("/images/equ1-1.png");var o=zt(a,1,!0);o.displayPlane.position.copyFrom(C.displayPlane.position),o.displayPlane.position.x-=.3,o.displayPlane.position.y+=.6,o.displayPlane.position.z+=2.2,C.logicManager.AddTemporalGUI(e.displayPlane),C.logicManager.AddTemporalGUI(t.displayPlane),C.logicManager.AddTemporalGUI(o.displayPlane);var l=[],d=[],u=[],p=[];e.leftarrow.onPointerClickObservable.add((function(){--I<0&&I++,l[I]&&x.Start(I)})),e.rightarrow.onPointerClickObservable.add((function(){++I>l.length-1&&I--,l[I]&&x.Start(I)})),e.finalanswerButton.onPointerUpObservable.add((function(){var t;e.getIsCorrect()?(Nt(t="quiz_"+(I+1),i.getTimeValues().toString()),Rt(t).isCompleted=!0,Et(n.id),i.reset(),kt().isCompleted?(e.setIscompleted(!0),e.allcompletedPanel.show()):e.correctPanel.show()):(_t(t="quiz_"+(I+1)),Vt(t),Et(n.id),kt().isCompleted?(e.setIscompleted(!0),e.allcompletedPanel.show()):e.incorrectPanel.show())})),o.button2.onPointerUpObservable.add((function(){x.Reset(),c.position.set(-3,1,0),c.setTarget(s),i.reset()})),j.isRunning()||j.start();function h(){return Rt("quiz_"+(I+1)).isCompleted?" (Completada)":""}function m(){return Rt("quiz_"+(I+1)).errors}function f(){return kt().isCompleted?(j.pause(),b(j.getTimeValues().minutes)+":"+b(j.getTimeValues().seconds)+"\nSecci\xf3n de preguntas finalizada!"):b(j.getTimeValues().minutes)+":"+b(j.getTimeValues().seconds)}function b(e){return e<=9?"0"+e:e}a.onBeforeRenderObservable.add((function(){e.time_number.text="Tiempo: "+f(),e.error_number.text="Errores: "+m(),e.question_number.text="Pregunta: "+(I+1)+"/"+l.length+h()}));function g(){function n(e){d.push(e),l.push(e.quiz)}function h(t){e.loadquiz(l[t])}function m(e){I=e,d[e].Load_Models().then((function(t){b(),u=t,d[e].Load_Logic&&(d[e].Load_Logic(),h(e),i.reset())}))}function f(){m(I),c.position=r,c.setTarget(s)}function b(){o.clearObservers(),o.clearItems(),t.clearViewData(),console.log("reseteando"),void 0!=p&&p.forEach((function(e){a.onBeforeRenderObservable.remove(e)})),void 0!=u&&u.forEach((function(e){Array.isArray(e)?e.forEach((function(e){return e.dispose()})):e.dispose()}))}return o.button2.onPointerUpObservable.add((function(){f()})),{addExercise:n,LoadQuiz:h,Start:m,Reset:f,ClearStuff:b}}var x=g();function v(){return y.apply(this,arguments)}function y(){return(y=Object(W.a)(G.a.mark((function e(){var t,n,o,i,r,s;return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=function(e,t,n,o){var i=e[t].getHierarchyBoundingVectors(),r=i.max.subtract(i.min),s=i.max.add(i.min).scale(.5);n.scaling.copyFrom(r),n.XRPickable=!0,n.visibility=0,n.physicsImpostor=new vt.PhysicsImpostor(n,o,{mass:3},a),n.position=s,e[t].setParent(n)},t=function(e,t){e.rotationQuaternion=new vt.Quaternion.RotationAxis(new vt.Vector3(0,1,0),t*(Math.PI/180))},o=[],e.next=5,vt.SceneLoader.ImportMeshAsync("","../3DModels/","bluecar.glb",a);case 5:return i=e.sent,(r=i.meshes)[0].scaling.scaleInPlace(.15),r[0].position.set(-.5,0,0),s=vt.MeshBuilder.CreateBox("carBox1",{height:r[1].height,width:r[1].width,depth:r[1].depth},a),n(r,0,s,vt.PhysicsImpostor.BoxImpostor),t(s,180),o.push(r),o.push(s),C.logicManager.AddDisposableStuff(r),C.logicManager.AddDisposableStuff(s),e.abrupt("return",o);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function w(){return M.apply(this,arguments)}function M(){return(M=Object(W.a)(G.a.mark((function e(){var t,n,o,i,r,s;return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=function(e,t,n,o){var i=e[t].getHierarchyBoundingVectors(),r=i.max.subtract(i.min),s=i.max.add(i.min).scale(.5);n.scaling.copyFrom(r),n.XRPickable=!0,n.visibility=0,n.physicsImpostor=new vt.PhysicsImpostor(n,o,{mass:3},a),n.position=s,e[t].setParent(n)},t=function(e,t){e.rotationQuaternion=new vt.Quaternion.RotationAxis(new vt.Vector3(0,1,0),t*(Math.PI/180))},o=[],e.next=5,vt.SceneLoader.ImportMeshAsync("","../3DModels/","redcar.gltf",a);case 5:return i=e.sent,(r=i.meshes)[0].scaling.scaleInPlace(.15),r[0].position.set(-.5,0,0),s=vt.MeshBuilder.CreateBox("carBox1",{height:r[1].height,width:r[1].width,depth:r[1].depth},a),n(r,0,s,vt.PhysicsImpostor.BoxImpostor),t(s,180),o.push(r),o.push(s),C.logicManager.AddDisposableStuff(r),C.logicManager.AddDisposableStuff(s),e.abrupt("return",o);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function O(){return P.apply(this,arguments)}function P(){return(P=Object(W.a)(G.a.mark((function e(){var t,n,o,i,r,s;return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=function(e,t,n,o){var i=e[t].getHierarchyBoundingVectors(),r=i.max.subtract(i.min),s=i.max.add(i.min).scale(.5);n.scaling.copyFrom(r),n.XRPickable=!0,n.visibility=0,n.physicsImpostor=new vt.PhysicsImpostor(n,o,{mass:3},a),n.position=s,e[t].setParent(n)},t=function(e,t){e.rotationQuaternion=new vt.Quaternion.RotationAxis(new vt.Vector3(0,1,0),t*(Math.PI/180))},o=[],e.next=5,vt.SceneLoader.ImportMeshAsync("","../3DModels/","greencar.glb",a);case 5:return i=e.sent,(r=i.meshes)[0].scaling.scaleInPlace(.15),r[0].position.set(-.5,0,0),s=vt.MeshBuilder.CreateBox("carBox1",{height:r[1].height,width:r[1].width,depth:r[1].depth},a),n(r,0,s,vt.PhysicsImpostor.BoxImpostor),t(s,180),o.push(r),o.push(s),C.logicManager.AddDisposableStuff(r),C.logicManager.AddDisposableStuff(s),e.abrupt("return",o);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function A(){var e=a.getMeshByName("carBox1"),n=function(){function e(t,n){Object(Ye.a)(this,e),this.sphere1=vt.Mesh.CreateSphere("measure_sphere1",8,.05,n),this.sphere1.parent=t,this.sphere1.position=new vt.Vector3(0,0,0),this.buttonpress=!1,this.expandmeasurement=!1}return Object(Je.a)(e,[{key:"createMeasure",value:function(e,t){this.sphere2=vt.Mesh.CreateSphere("measure_sphere2",8,.05,t),this.sphere2.position=e.position,this.distance=vt.Vector3.Distance(this.sphere1.getAbsolutePosition(),this.sphere2.getAbsolutePosition());var n=Math.abs(this.sphere1.getAbsolutePosition().x-this.sphere2.getAbsolutePosition().x),a=Math.abs(this.sphere1.getAbsolutePosition().y-this.sphere2.getAbsolutePosition().y),o=Math.abs(this.sphere1.getAbsolutePosition().z-this.sphere2.getAbsolutePosition().z),i=Math.sqrt(Math.pow(n,2)+Math.pow(o,2));this.distances=[this.distance.toFixed(2),n.toFixed(2),a.toFixed(2),o.toFixed(2),i.toFixed(2)],this.line=new vt.Mesh.CreateLines("line",[this.sphere1.getAbsolutePosition(),this.sphere2.getAbsolutePosition()],t,!0);this.sphere1.getAbsolutePosition().x,this.sphere2.getAbsolutePosition().x,this.sphere1.getAbsolutePosition().y,this.sphere2.getAbsolutePosition().y,this.sphere1.getAbsolutePosition().z,this.sphere2.getAbsolutePosition().z}},{key:"disposeMeasurement",value:function(e){this.buttonpress=!0,this.sphere1.dispose(),this.sphere2.dispose(),this.line.dispose(),e.onBeforeRenderObservable.remove(this.measureObs)}},{key:"calculateMeasurement",value:function(e){var t=this;this.measureObs=e.onBeforeRenderObservable.add((function(){if(e.deltaTime,t.sphere1&&t.sphere2){t.distance=vt.Vector3.Distance(t.sphere1.getAbsolutePosition(),t.sphere2.getAbsolutePosition());var n=Math.abs(t.sphere1.getAbsolutePosition().x-t.sphere2.getAbsolutePosition().x),a=Math.abs(t.sphere1.getAbsolutePosition().y-t.sphere2.getAbsolutePosition().y),o=Math.abs(t.sphere1.getAbsolutePosition().z-t.sphere2.getAbsolutePosition().z),i=Math.sqrt(Math.pow(n,2)+Math.pow(o,2));t.distances=[t.distance.toFixed(2),n.toFixed(2),a.toFixed(2),o.toFixed(2),i.toFixed(2)];t.sphere1.getAbsolutePosition().x,t.sphere2.getAbsolutePosition().x,t.sphere1.getAbsolutePosition().y,t.sphere2.getAbsolutePosition().y,t.sphere1.getAbsolutePosition().z,t.sphere2.getAbsolutePosition().z;t.line=new vt.Mesh.CreateLines(null,[t.sphere1.getAbsolutePosition(),t.sphere2.getAbsolutePosition()],null,null,t.line)}}))}},{key:"getMeasurementData",value:function(){return this.distances}}]),e}(),i=new n(e);function r(){i.disposeMeasurement(a)}i.createMeasure(e,a);var s={dispose:r};u.push(s),C.logicManager.AddDisposableStuff(s),i.calculateMeasurement(a);var c=new vt.Vector3(0,0,1),l=(vt.Vector3.Zero(),1),d=1,h=1,m=0,f=0,b=0;var g=function(e,t){var n=new vt.Matrix;return e.rotationQuaternion.toRotationMatrix(n),vt.Vector3.TransformNormal(t,n)};function x(){i&&i.disposeMeasurement(a),(i=new n(e)).createMeasure(e,a),i.calculateMeasurement(a),v(e)}function v(e){function n(n,o){var i=0,r=Math.round(n/o),s=0,u=a.onBeforeRenderObservable.add((function(){(i+=a.deltaTime)>=1e3*o&&(++s<=r?(i=0,m=(l*(s/r)).toFixed(2).toString(),f=(d*(s/r)).toFixed(2).toString(),b=h,t.setViewData("\u2206r: "+m+" metros (m)\n\u2206t: "+f+" segs\nv: "+b+" m/s"),e.physicsImpostor&&e.physicsImpostor.setLinearVelocity(g(e,c.scale(h)))):(s=0,i=0,e.physicsImpostor&&e.physicsImpostor.setLinearVelocity(new vt.Vector3(0,0,0)),a.onBeforeRenderObservable.remove(u)))}));p.push(u)}n(d,.25)}function y(){l=(h*d).toFixed(2)}var w=function(e){d=Math.floor(10*e)/10,y()},M=function(e){h=Math.floor(10*e)/10,y()},O=function(e){return Math.floor(10*e)/10},P=new Mt.SliderGroup("Control de variables","S");P.addSlider("tiempo",w,"segundos",1,10,1,O),P.addSlider("Velocidad",M,"m/s",1,10,1,O),o.controlPanel.addGroup(P),o.controlPanel.heightInPixels=150;var I=o.button.onPointerUpObservable.add((function(){x()}));o.addObserver(I)}function S(){var e=a.getMeshByName("carBox1"),n=function(){function e(t,n){Object(Ye.a)(this,e),this.sphere1=vt.Mesh.CreateSphere("measure_sphere1",8,.05,n),this.sphere1.parent=t,this.sphere1.position=new vt.Vector3(0,0,0),this.buttonpress=!1,this.expandmeasurement=!1}return Object(Je.a)(e,[{key:"createMeasure",value:function(e,t){this.sphere2=vt.Mesh.CreateSphere("measure_sphere2",8,.05,t),this.sphere2.position=e.position,this.distance=vt.Vector3.Distance(this.sphere1.getAbsolutePosition(),this.sphere2.getAbsolutePosition());var n=Math.abs(this.sphere1.getAbsolutePosition().x-this.sphere2.getAbsolutePosition().x),a=Math.abs(this.sphere1.getAbsolutePosition().y-this.sphere2.getAbsolutePosition().y),o=Math.abs(this.sphere1.getAbsolutePosition().z-this.sphere2.getAbsolutePosition().z),i=Math.sqrt(Math.pow(n,2)+Math.pow(o,2));this.distances=[this.distance.toFixed(2),n.toFixed(2),a.toFixed(2),o.toFixed(2),i.toFixed(2)],this.line=new vt.Mesh.CreateLines("line",[this.sphere1.getAbsolutePosition(),this.sphere2.getAbsolutePosition()],t,!0);this.sphere1.getAbsolutePosition().x,this.sphere2.getAbsolutePosition().x,this.sphere1.getAbsolutePosition().y,this.sphere2.getAbsolutePosition().y,this.sphere1.getAbsolutePosition().z,this.sphere2.getAbsolutePosition().z}},{key:"disposeMeasurement",value:function(e){this.buttonpress=!0,this.sphere1.dispose(),this.sphere2.dispose(),this.line.dispose(),e.onBeforeRenderObservable.remove(this.measureObs)}},{key:"calculateMeasurement",value:function(e){var t=this;this.measureObs=e.onBeforeRenderObservable.add((function(){if(e.deltaTime,t.sphere1&&t.sphere2){t.distance=vt.Vector3.Distance(t.sphere1.getAbsolutePosition(),t.sphere2.getAbsolutePosition());var n=Math.abs(t.sphere1.getAbsolutePosition().x-t.sphere2.getAbsolutePosition().x),a=Math.abs(t.sphere1.getAbsolutePosition().y-t.sphere2.getAbsolutePosition().y),o=Math.abs(t.sphere1.getAbsolutePosition().z-t.sphere2.getAbsolutePosition().z),i=Math.sqrt(Math.pow(n,2)+Math.pow(o,2));t.distances=[t.distance.toFixed(2),n.toFixed(2),a.toFixed(2),o.toFixed(2),i.toFixed(2)];t.sphere1.getAbsolutePosition().x,t.sphere2.getAbsolutePosition().x,t.sphere1.getAbsolutePosition().y,t.sphere2.getAbsolutePosition().y,t.sphere1.getAbsolutePosition().z,t.sphere2.getAbsolutePosition().z;t.line=new vt.Mesh.CreateLines(null,[t.sphere1.getAbsolutePosition(),t.sphere2.getAbsolutePosition()],null,null,t.line)}}))}},{key:"getMeasurementData",value:function(){return this.distances}}]),e}(),i=new n(e);function r(){i.disposeMeasurement(a)}i.createMeasure(e,a);var s={dispose:r};u.push(s),C.logicManager.AddDisposableStuff(s),i.calculateMeasurement(a);var c=new vt.Vector3(0,0,1),l=(vt.Vector3.Zero(),1),d=1,h=1,m=0,f=0,b=0;var g=function(e,t){var n=new vt.Matrix;return e.rotationQuaternion.toRotationMatrix(n),vt.Vector3.TransformNormal(t,n)};function x(){i&&i.disposeMeasurement(a),(i=new n(e)).createMeasure(e,a),i.calculateMeasurement(a),v(e)}function v(e){function n(n,o){var i=0,r=Math.round(n/o),s=0,u=a.onBeforeRenderObservable.add((function(){(i+=a.deltaTime)>=1e3*o&&(++s<=r?(i=0,m=(l*(s/r)).toFixed(2).toString(),f=(d*(s/r)).toFixed(2).toString(),b=h,t.setViewData("r: "+m+" metros (m)\nt: "+f+" segs\nv: "+b+" m/s"),e.physicsImpostor&&e.physicsImpostor.setLinearVelocity(g(e,c.scale(h)))):(s=0,i=0,e.physicsImpostor&&e.physicsImpostor.setLinearVelocity(new vt.Vector3(0,0,0)),a.onBeforeRenderObservable.remove(u)))}));p.push(u)}n(d,.25)}function y(){h=(l/d).toFixed(2)}var w=function(e){l=Math.floor(10*e)/10,y()},M=function(e){d=Math.floor(10*e)/10,y()},O=function(e){return Math.floor(10*e)/10},P=new Mt.SliderGroup("Control de variables","S");P.addSlider("Desplazamiento",w,"metros",1,10,1,O),P.addSlider("tiempo",M,"segundos",1,10,1,O),o.controlPanel.addGroup(P),o.controlPanel.heightInPixels=150;var I=o.button.onPointerUpObservable.add((function(){x()}));o.addObserver(I)}function B(){var e=a.getMeshByName("carBox1"),n=function(){function e(t,n){Object(Ye.a)(this,e),this.sphere1=vt.Mesh.CreateSphere("measure_sphere1",8,.05,n),this.sphere1.parent=t,this.sphere1.position=new vt.Vector3(0,0,0),this.buttonpress=!1,this.expandmeasurement=!1}return Object(Je.a)(e,[{key:"createMeasure",value:function(e,t){this.sphere2=vt.Mesh.CreateSphere("measure_sphere2",8,.05,t),this.sphere2.position=e.position,this.distance=vt.Vector3.Distance(this.sphere1.getAbsolutePosition(),this.sphere2.getAbsolutePosition());var n=Math.abs(this.sphere1.getAbsolutePosition().x-this.sphere2.getAbsolutePosition().x),a=Math.abs(this.sphere1.getAbsolutePosition().y-this.sphere2.getAbsolutePosition().y),o=Math.abs(this.sphere1.getAbsolutePosition().z-this.sphere2.getAbsolutePosition().z),i=Math.sqrt(Math.pow(n,2)+Math.pow(o,2));this.distances=[this.distance.toFixed(2),n.toFixed(2),a.toFixed(2),o.toFixed(2),i.toFixed(2)],this.line=new vt.Mesh.CreateLines("line",[this.sphere1.getAbsolutePosition(),this.sphere2.getAbsolutePosition()],t,!0);this.sphere1.getAbsolutePosition().x,this.sphere2.getAbsolutePosition().x,this.sphere1.getAbsolutePosition().y,this.sphere2.getAbsolutePosition().y,this.sphere1.getAbsolutePosition().z,this.sphere2.getAbsolutePosition().z}},{key:"disposeMeasurement",value:function(e){this.buttonpress=!0,this.sphere1.dispose(),this.sphere2.dispose(),this.line.dispose(),e.onBeforeRenderObservable.remove(this.measureObs)}},{key:"calculateMeasurement",value:function(e){var t=this;this.measureObs=e.onBeforeRenderObservable.add((function(){if(e.deltaTime,t.sphere1&&t.sphere2){t.distance=vt.Vector3.Distance(t.sphere1.getAbsolutePosition(),t.sphere2.getAbsolutePosition());var n=Math.abs(t.sphere1.getAbsolutePosition().x-t.sphere2.getAbsolutePosition().x),a=Math.abs(t.sphere1.getAbsolutePosition().y-t.sphere2.getAbsolutePosition().y),o=Math.abs(t.sphere1.getAbsolutePosition().z-t.sphere2.getAbsolutePosition().z),i=Math.sqrt(Math.pow(n,2)+Math.pow(o,2));t.distances=[t.distance.toFixed(2),n.toFixed(2),a.toFixed(2),o.toFixed(2),i.toFixed(2)];t.sphere1.getAbsolutePosition().x,t.sphere2.getAbsolutePosition().x,t.sphere1.getAbsolutePosition().y,t.sphere2.getAbsolutePosition().y,t.sphere1.getAbsolutePosition().z,t.sphere2.getAbsolutePosition().z;t.line=new vt.Mesh.CreateLines(null,[t.sphere1.getAbsolutePosition(),t.sphere2.getAbsolutePosition()],null,null,t.line)}}))}},{key:"getMeasurementData",value:function(){return this.distances}}]),e}(),i=new n(e);function r(){i.disposeMeasurement(a)}i.createMeasure(e,a);var s={dispose:r};u.push(s),C.logicManager.AddDisposableStuff(s),i.calculateMeasurement(a);var c=new vt.Vector3(0,0,1),l=(vt.Vector3.Zero(),1),d=1,h=1,m=0,f=0,b=0;var g=function(e,t){var n=new vt.Matrix;return e.rotationQuaternion.toRotationMatrix(n),vt.Vector3.TransformNormal(t,n)};function x(){i&&i.disposeMeasurement(a),(i=new n(e)).createMeasure(e,a),i.calculateMeasurement(a),v(e)}function v(e){function n(n,o){var i=0,r=Math.round(n/o),s=0,u=a.onBeforeRenderObservable.add((function(){(i+=a.deltaTime)>=1e3*o&&(++s<=r?(i=0,m=(l*(s/r)).toFixed(2).toString(),f=(d*(s/r)).toFixed(2).toString(),b=h,t.setViewData("r: "+m+" metros (m)\nt: "+f+" segs\nv: "+b+" m/s"),e.physicsImpostor&&e.physicsImpostor.setLinearVelocity(g(e,c.scale(h)))):(s=0,i=0,e.physicsImpostor&&e.physicsImpostor.setLinearVelocity(new vt.Vector3(0,0,0)),a.onBeforeRenderObservable.remove(u)))}));p.push(u)}n(d,.25)}function y(){d=(l/h).toFixed(2)}var w=function(e){l=Math.floor(10*e)/10,y()},M=function(e){h=Math.floor(10*e)/10,y()},O=function(e){return Math.floor(10*e)/10},P=new Mt.SliderGroup("Control de variables","S");P.addSlider("Desplazamiento",w,"metros",1,10,1,O),P.addSlider("Velocidad",M,"m/s",1,10,1,O),o.controlPanel.addGroup(P),o.controlPanel.heightInPixels=150;var I=o.button.onPointerUpObservable.add((function(){x()}));o.addObserver(I)}var k=qt;k.addLogic(A),k.addModels(v);var T=Gt;T.addLogic(S),T.addModels(w);var E=Wt;E.addLogic(B),E.addModels(O),x.addExercise(k),x.addExercise(T),x.addExercise(E),x.Start(I)}()}));var C=Dt(a,2);C.addCard(x),C.addCard(v),C.addCard(y),C.addCard(w),C.addCard(M),C.addCard(O),C.addCard(P),C.Start(0);var I=0;var j=new Ot.Timer;var A=new vt.AssetsManager(a);A.onFinish=function(){o.runRenderLoop((function(){a&&(window.document.title=o.getFps().toFixed()+" fps",a.render())}))},a.executeWhenReady((function(){(o.hideLoadingUI(),document.getElementById("xr-button"))&&document.getElementById("xr-button").addEventListener("click",Object(W.a)(G.a.mark((function e(){return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(p.baseExperience.state!==vt.WebXRState.NOT_IN_XR){e.next=7;break}return p.input.xrCamera.position=new vt.Vector3(-3,1,0),p.input.xrCamera.setTarget(vt.Vector3.Zero()),e.next=5,p.baseExperience.enterXRAsync("immersive-ar","local-floor");case 5:e.next=10;break;case 7:if(p.baseExperience.state!==vt.WebXRState.IN_XR){e.next=10;break}return e.next=10,p.baseExperience.exitXRAsync();case 10:case"end":return e.stop()}}),e)}))));document.getElementById("fullscreen-button")&&document.getElementById("fullscreen-button").addEventListener("click",Object(W.a)(G.a.mark((function e(){return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o.switchFullscreen(!1);case 1:case"end":return e.stop()}}),e)}))))})),A.load()}})}),Object(b.jsxs)(D.a,{align:"center",maxWidth:"sm",className:e.babylonbuttons,children:[Object(b.jsx)(C.a,{id:"xr-button",size:"medium",variant:"contained",color:"primary",children:Object(b.jsx)(N.a,{variant:"h6",children:"Entrar a modo XR"})}),Object(b.jsx)(C.a,{id:"fullscreen-button",m:.5,size:"medium",variant:"contained",color:"secondary",children:Object(b.jsx)(N.a,{variant:"h6",children:"pantalla completa"})})]})]})})}var rn=nn,sn=n.p+"static/media/card1.cb170983.PNG",cn=n.p+"static/media/card2.eb07df05.PNG",ln=n.p+"static/media/card3.1d125d51.PNG",dn=n.p+"static/media/card4.41cbcb44.PNG",un=n.p+"static/media/alert2.2455318f.png",pn=n.p+"static/media/cardboard.ca4cc733.png",hn=function(e){Object($e.a)(n,e);var t=Object(et.a)(n);function n(){return Object(Ye.a)(this,n),t.apply(this,arguments)}return Object(Je.a)(n,[{key:"render",value:function(){return Object(b.jsx)(xt,{data:fn})}}]),n}(a.Component),mn=Object(_.a)((function(e){return{imagebox:{height:"100%",width:"60%",display:"flex",flexDirection:"column"},card:{height:"100%",flexDirection:"column"},media:{height:400},babylonbuttons:{"& > *":{margin:e.spacing(1)}}}}));function fn(){var e=mn(),t=x().currentUser,n={id:"exercise_1_2",generalTime:"00:00",totalErrors:0,isCompleted:!1,quizes:{quiz_1:{id:"quiz_1",time:"00:00",errors:0,isCompleted:!1},quiz_2:{id:"quiz_2",time:"00:00",errors:0,isCompleted:!1},quiz_3:{id:"quiz_3",time:"00:00",errors:0,isCompleted:!1}}};St(t),Bt(n),Tt(n.id),It.start();return Object(b.jsx)(o.a.Fragment,{children:Object(b.jsxs)(D.a,{maxWidth:"xl",children:[Object(b.jsx)(F.a,{width:"100%",p:1,my:.5,children:Object(b.jsx)(wt,{onSceneMount:function(e){var t=e.canvas,a=e.scene,o=e.engine;o.displayLoadingUI();var i=new Ot.Timer,r=new vt.Vector3(-4,1.5,0),s=new vt.Vector3(0,1,0),c=new vt.UniversalCamera("camera1",r,a);c.setTarget(s),c.attachControl(t,!1),c.speed=.7,c.angularSensibility=1200,c.inertia=.5,new vt.HemisphericLight("light1",new vt.Vector3(0,1,0),a).intensity=.7;var l=vt.MeshBuilder.CreateBox("SkyBox",{size:1e3},a),d=new vt.StandardMaterial("skyBox",a);d.backFaceCulling=!1,d.reflectionTexture=new vt.HDRCubeTexture("textures/lilienstein_4k.hdr",a,512),d.reflectionTexture.coordinatesMode=vt.Texture.SKYBOX_MODE,d.diffuseColor=new vt.Color3(0,0,0),d.specularColor=new vt.Color3(0,0,0),d.disableLighting=!0,l.material=d,a.enablePhysics(new vt.Vector3(0,-9.81,0),new vt.AmmoJSPlugin);a.getPhysicsEngine();a.collisionsEnabled=!0,c.checkCollisions=!0,c.applyGravity=!0,c.ellipsoid=new vt.Vector3(1,.8,1);var u=Pt(a);u.checkCollisions=!0;var p={};function h(){return(h=Object(W.a)(G.a.mark((function e(){return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.createDefaultXRExperienceAsync({disableDefaultUI:!0,uiOptions:{sessionMode:"immersive-ar",referenceSpaceType:"local-floor"},inputOptions:{doNotLoadControllerMeshes:!1}});case 2:(p=e.sent).baseExperience.onStateChangedObservable.add((function(e){e==vt.WebXRState.ENTERING_XR&&(u.visibility=0,l.isVisible=!1),e==vt.WebXRState.NOT_IN_XR&&(u.visibility=1,l.isVisible=!0)}));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){h.apply(this,arguments)}();var m=Ct(vt,a);m.selectMode(0);var f=null,b=null,g=null;a.onPointerObservable.addOnce((function(e){e.type===vt.PointerEventTypes.POINTERMOVE&&i.start()})),a.onPointerObservable.add((function(e){f=e.pickInfo.pickedMesh,e.type===vt.PointerEventTypes.POINTERDOWN&&(e.pickInfo.pickedMesh&&e.pickInfo.pickedMesh.XRPickable&&(a.constantlyUpdateMeshUnderPointer=!0,g=!0,b=f,m.attachToMesh(b)),e.pickInfo.pickedMesh&&e.pickInfo.pickedMesh.nonXREditable,!e.pickInfo.pickedMesh||e.pickInfo.pickedMesh.XRPickable||e.pickInfo.pickedMesh.nonXREditable||(b=null,m.attachToMesh(null))),e.type===vt.PointerEventTypes.POINTERUP&&(a.constantlyUpdateMeshUnderPointer=!1,e.pickInfo.pickedMesh&&e.pickInfo.pickedMesh.XRPickable&&f.physicsImpostor&&(g=!1,f=null))})),a.onBeforePhysicsObservable.add((function(){g&&f&&f.XRPickable&&f.physicsImpostor&&(f.physicsImpostor._physicsBody.setLinearVelocity(0,0,0),f.physicsImpostor._physicsBody.setAngularVelocity(0,0,0))})),a.registerBeforeRender((function(){}));var x=new tn("card1",sn),v=new tn("card2",cn),y=new tn("card3",ln),w=new tn("card4",dn),M=new tn("card4",un),O=new tn("card5",pn);x.addLogic((function(){P.logicManager.ClearAll()})),v.addLogic((function(){P.logicManager.ClearAll(),I()})),y.addLogic((function(){P.logicManager.ClearAll(),I()})),M.addLogic((function(){P.logicManager.ClearAll()})),O.addLogic((function(){P.logicManager.ClearAll(),function(){var e=[],t=[],o=[],r=[],s=Ft(a,1,!0);s.displayPlane.position.copyFrom(P.displayPlane.position),s.displayPlane.position.x-=.3,s.displayPlane.position.y+=.5;var c=Lt(a,1,!0);c.displayPlane.position.copyFrom(P.displayPlane.position),c.displayPlane.position.x-=.3,c.displayPlane.position.z-=2.4,c.displayPlane.position.y+=.4,c.addFormulaImage("/images/equ1-2.png");var l=zt(a,1,!0);l.displayPlane.position.copyFrom(P.displayPlane.position),l.displayPlane.position.x-=.3,l.displayPlane.position.z+=2.4,l.displayPlane.position.y+=.4,P.logicManager.AddTemporalGUI(s.displayPlane),P.logicManager.AddTemporalGUI(c.displayPlane),P.logicManager.AddTemporalGUI(l.displayPlane),s.leftarrow.onPointerClickObservable.add((function(){--C<0&&C++,e[C]&&f.Start(C)})),s.rightarrow.onPointerClickObservable.add((function(){++C>e.length-1&&C--,e[C]&&f.Start(C)})),s.finalanswerButton.onPointerUpObservable.add((function(){var e;s.getIsCorrect()?(Nt(e="quiz_"+(C+1),i.getTimeValues().toString()),Rt(e).isCompleted=!0,Et(n.id),i.reset(),kt().isCompleted?(s.setIscompleted(!0),s.allcompletedPanel.show()):s.correctPanel.show()):(_t(e="quiz_"+(C+1)),Vt(e),Et(n.id),kt().isCompleted?(s.setIscompleted(!0),s.allcompletedPanel.show()):s.incorrectPanel.show())})),l.button2.onPointerUpObservable.add((function(){f.Reset(),i.reset()})),j.isRunning()||j.start();function d(){return Rt("quiz_"+(C+1)).isCompleted?" (Completada)":""}function u(){return Rt("quiz_"+(C+1)).errors}function p(){return kt().isCompleted?(j.pause(),h(j.getTimeValues().minutes)+":"+h(j.getTimeValues().seconds)+"\nSecci\xf3n de preguntas finalizada!"):h(j.getTimeValues().minutes)+":"+h(j.getTimeValues().seconds)}function h(e){return e<=9?"0"+e:e}a.onBeforeRenderObservable.add((function(){s.time_number.text="Tiempo: "+p(),s.error_number.text="Errores: "+u(),s.question_number.text="Pregunta: "+(C+1)+"/"+e.length+d()}));function m(){function n(n){t.push(n),e.push(n.quiz)}function d(t){s.loadquiz(e[t])}function u(e){C=e,t[e].Load_Models().then((function(n){h(),o=n,t[e].Load_Logic&&(t[e].Load_Logic(),d(e),i.reset())}))}function p(){u(C)}function h(){l.clearObservers(),l.clearItems(),c.clearViewData(),console.log("reseteando"),void 0!=r&&r.forEach((function(e){a.onBeforeRenderObservable.remove(e)})),void 0!=o&&o.forEach((function(e){Array.isArray(e)?e.forEach((function(e){return e.dispose()})):e.dispose()}))}return l.button2.onPointerUpObservable.add((function(){p()})),{addExercise:n,LoadQuiz:d,Start:u,Reset:p,ClearStuff:h}}var f=m(),b=new Xt("1. \xbfQue distancia recorre la pelota si se mueve a una velocidad de 5 m/s durante 2 segs?",["A) 4 metros","B) 5 metros","C) 10 metros","D) 20 metros"],2,["Tiempo = 3 Segundos","velocidad = 3m/s","Distancia recorrida: ?"]),g=new Xt("2. \xbfque velocidad obtiene el auto si recorre 10 metros en 2.5 segundos?",["A) 25 m/s","B) 10 m/s","C) 5 m/s","D) 4 m/s"],3,["Tiempo = 3 Segundos","velocidad = 3m/s","Distancia recorrida: ?"]),x=new Xt("3. \xbfQue tanto tiempo tarda un autobus en recorrer 20 metros a una velocidad de 3.2 m/s?",["A) 6.5 segs","B) 8 segs","C) 3.2 segs","D) 20 segs"],0,["Tiempo = 3 Segundos","velocidad = 3m/s","Distancia recorrida: ?"]);function v(){return y.apply(this,arguments)}function y(){return(y=Object(W.a)(G.a.mark((function e(){var t,n;return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return function(e,t,n,o){var i=e[t].getHierarchyBoundingVectors(),r=i.max.subtract(i.min),s=i.max.add(i.min).scale(.5);n.scaling.copyFrom(r),n.XRPickable=!0,n.visibility=0,n.physicsImpostor=new vt.PhysicsImpostor(n,o,{mass:3},a),n.position=s,e[t].setParent(n)},function(e,t){e.rotationQuaternion=new vt.Quaternion.RotationAxis(new vt.Vector3(0,1,0),t*(Math.PI/180))},t=[],(n=vt.MeshBuilder.CreateSphere("bigsphere",{segments:12,diameter:.5},a)).position.set(0,1,1),n.physicsImpostor=new vt.PhysicsImpostor(n,vt.PhysicsImpostor.SphereImpostor,{mass:1},a),n.XRPickable=!0,t.push(n),P.logicManager.AddDisposableStuff(n),e.abrupt("return",t);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function w(){return M.apply(this,arguments)}function M(){return(M=Object(W.a)(G.a.mark((function e(){var t,n,o,i,r,s;return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=function(e,t,n,o){var i=e[t].getHierarchyBoundingVectors(),r=i.max.subtract(i.min),s=i.max.add(i.min).scale(.5);n.scaling.copyFrom(r),n.XRPickable=!0,n.visibility=0,n.physicsImpostor=new vt.PhysicsImpostor(n,o,{mass:3},a),n.position=s,e[t].setParent(n)},t=function(e,t){e.rotationQuaternion=new vt.Quaternion.RotationAxis(new vt.Vector3(0,1,0),t*(Math.PI/180))},o=[],e.next=5,vt.SceneLoader.ImportMeshAsync("","../3DModels/","greencar.glb",a);case 5:return i=e.sent,(r=i.meshes)[0].scaling.scaleInPlace(.1),r[0].position.set(-1.5,.33,0),s=vt.MeshBuilder.CreateBox("greencar",{height:r[1].height,width:r[1].width,depth:r[1].depth},a),n(r,0,s,vt.PhysicsImpostor.BoxImpostor),t(s,180),o.push(r),o.push(s),P.logicManager.AddDisposableStuff(r),P.logicManager.AddDisposableStuff(s),e.abrupt("return",o);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function O(){return I.apply(this,arguments)}function I(){return(I=Object(W.a)(G.a.mark((function e(){var t,n,o,i,r,s;return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=function(e,t,n,o){var i=e[t].getHierarchyBoundingVectors(),r=i.max.subtract(i.min),s=i.max.add(i.min).scale(.5);n.scaling.copyFrom(r),n.XRPickable=!0,n.visibility=0,n.physicsImpostor=new vt.PhysicsImpostor(n,o,{mass:3},a),n.position=s,e[t].setParent(n)},t=function(e,t){e.rotationQuaternion=new vt.Quaternion.RotationAxis(new vt.Vector3(0,1,0),t*(Math.PI/180))},o=[],e.next=5,vt.SceneLoader.ImportMeshAsync("","../3DModels/","bus.gltf",a);case 5:return i=e.sent,(r=i.meshes)[0].scaling.scaleInPlace(.1),r[0].position.set(-1.5,.33,0),s=vt.MeshBuilder.CreateBox("bus",{height:r[1].height,width:r[1].width,depth:r[1].depth},a),n(r,0,s,vt.PhysicsImpostor.BoxImpostor),t(s,180),o.push(r),o.push(s),P.logicManager.AddDisposableStuff(r),P.logicManager.AddDisposableStuff(s),e.abrupt("return",o);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function A(){var e=a.getMeshByName("cannon"),t=a.getMeshByName("bigsphere"),n=new vt.Vector3(0,0,-1),i=(vt.Vector3.Zero(),1),s=1,d=1,u=0,p=0,h=0,m=new vt.TransformNode("root");m.position.y=1,m.position.x=.3,m.parent=e;var f=[],b=[];function g(){f&&f.forEach((function(e){e.dispose()})),b&&b.forEach((function(e){e.dispose()})),x(t)}function x(e){function t(e,t){var n=vt.MeshBuilder.CreateSphere("ghost_sphere",{segments:6,diameter:.1},a);function i(){if(f.length>1){var e=f[f.length-2],t=f[f.length-1],n=new vt.Mesh.CreateLines("line",[e.getAbsolutePosition(),t.getAbsolutePosition()],a,!0);b.push(n),o.push(n),P.logicManager.AddDisposableStuff(n)}}function r(e){var n=vt.MeshBuilder.CreatePlane("plane",{height:.2,width:.5});n.parent=e,n.billboardMode=vt.Mesh.BILLBOARDMODE_ALL,n.position.y=.7;var a=Mt.AdvancedDynamicTexture.CreateForMesh(n,300,100),o=Mt.Button.CreateSimpleButton("but1","Sin datos");o.width=1,o.height=1,o.color="white",o.fontSize=50,o.fontStyle="bold",o.background="#00000066",o.textBlock.text=t.obj_Velocity.toString()+" m/s";var i=1;o.onPointerUpObservable.add((function(){switch(i){case 1:i=2,o.textBlock.text=t.display_Time.toString()+" segs";break;case 2:i=3,o.textBlock.text=t.display_Distance.toString()+" mts";break;case 3:i=1,o.textBlock.text=t.obj_Velocity.toString()+" m/s"}})),a.addControl(o)}n.visibility=.5,n.position=e.position,o.push(n),f.push(n),P.logicManager.AddDisposableStuff(n),r(n),i()}function l(o,l){var m=0,f=Math.round(o/l),b=0,g=a.onBeforeRenderObservable.add((function(){if((m+=a.deltaTime)>=1e3*l){if(b<=f)m=0,u=(i*(b/f)).toFixed(2).toString(),p=(s*(b/f)).toFixed(2).toString(),h=d,c.setViewData("d: "+u+" metros (m)\nt: "+p+" segs\nv: "+h+" m/s"),t(e,{display_Distance:u,display_Time:p,obj_Velocity:d}),e.physicsImpostor&&e.physicsImpostor.setLinearVelocity(n.scale(d));else b=0,m=0,e.physicsImpostor&&e.physicsImpostor.setLinearVelocity(new vt.Vector3(0,0,0)),a.onBeforeRenderObservable.remove(g);b++}}));r.push(g)}l(s,.25)}function v(){i=(d*s).toFixed(2)}var y=function(e){d=Math.floor(10*e)/10,v()},w=function(e){s=Math.floor(10*e)/10,v()},M=function(e){return Math.floor(10*e)/10},O=new Mt.SliderGroup("Control de variables","S");O.addSlider("Velocidad",y,"m/s",1,20,1,M),O.addSlider("Tiempo",w,"segs",1,5,1,M),l.controlPanel.addGroup(O),l.controlPanel.heightInPixels=150;var C=l.button.onPointerUpObservable.add((function(){g()}));l.addObserver(C)}function S(){var e=a.getMeshByName("greencar"),t=(new vt.Vector3(0,0,-1),vt.Vector3.Zero(),1),n=1,i=1,s=0,d=0,u=0,p=[],h=[];function m(){p&&p.forEach((function(e){e.dispose()})),h&&h.forEach((function(e){e.dispose()})),f(e)}function f(e){function l(e,t){var n=vt.MeshBuilder.CreateSphere("ghost_sphere",{segments:6,diameter:.1},a);function i(){if(p.length>1){var e=p[p.length-2],t=p[p.length-1],n=new vt.Mesh.CreateLines("line",[e.getAbsolutePosition(),t.getAbsolutePosition()],a,!0);h.push(n),o.push(n)}}function r(e){var n=vt.MeshBuilder.CreatePlane("plane",{height:.2,width:.5});n.parent=e,n.billboardMode=vt.Mesh.BILLBOARDMODE_ALL,n.position.y=.7;var a=Mt.AdvancedDynamicTexture.CreateForMesh(n,300,100),o=Mt.Button.CreateSimpleButton("but1","Sin datos");o.width=1,o.height=1,o.color="white",o.fontSize=50,o.fontStyle="bold",o.background="#00000066",o.textBlock.text=t.obj_Velocity.toString()+" m/s";var i=1;o.onPointerUpObservable.add((function(){switch(i){case 1:i=2,o.textBlock.text=t.display_Time.toString()+" segs";break;case 2:i=3,o.textBlock.text=t.display_Distance.toString()+" mts";break;case 3:i=1,o.textBlock.text=t.obj_Velocity.toString()+" m/s"}})),a.addControl(o)}n.visibility=.5,n.position=e.position,o.push(n),p.push(n),r(n),i()}function m(o,p){var h=0,m=Math.round(o/p),f=0,b=new vt.Vector3(0,0,1),g=function(e,t){var n=new vt.Matrix;return e.rotationQuaternion.toRotationMatrix(n),vt.Vector3.TransformNormal(t,n)},x=a.onBeforeRenderObservable.add((function(){if((h+=a.deltaTime)>=1e3*p){if(f<=m)h=0,s=(t*(f/m)).toFixed(2).toString(),d=(n*(f/m)).toFixed(2).toString(),u=i,c.setViewData("d: "+s+" metros (m)\nt: "+d+" segs\nv: "+u+" m/s"),l(e,{display_Distance:s,display_Time:d,obj_Velocity:i}),e.physicsImpostor&&e.physicsImpostor.setLinearVelocity(g(e,b.scale(i)));else f=0,h=0,e.physicsImpostor&&e.physicsImpostor.setLinearVelocity(new vt.Vector3(0,0,0)),a.onBeforeRenderObservable.remove(x);f++}}));r.push(x)}m(n,.25)}function b(){i=(t/n).toFixed(2)}var g=function(e){t=Math.floor(10*e)/10,b()},x=function(e){n=Math.floor(10*e)/10,b()},v=function(e){return Math.floor(10*e)/10},y=new Mt.SliderGroup("Control de variables","S");y.addSlider("Distancia",g,"m",1,20,1,v),y.addSlider("Tiempo",x,"segs",1,5,1,v),l.controlPanel.addGroup(y),l.controlPanel.heightInPixels=150;var w=l.button.onPointerUpObservable.add((function(){m()}));l.addObserver(w)}function B(){new vt.Vector3(0,0,-1),vt.Vector3.Zero();var e=1,t=1,n=e*t,i=0,s=0,d=0,u=[],p=[];function h(){var e=a.getMeshByName("bus");u&&u.forEach((function(e){e.dispose()})),p&&p.forEach((function(e){e.dispose()})),m(e)}function m(l){function h(e,t){var n=vt.MeshBuilder.CreateSphere("ghost_sphere",{segments:6,diameter:.1},a);function i(){if(u.length>1){var e=u[u.length-2],t=u[u.length-1],n=new vt.Mesh.CreateLines("line",[e.getAbsolutePosition(),t.getAbsolutePosition()],a,!0);p.push(n),o.push(n),P.logicManager.AddDisposableStuff(n)}}function r(e){var n=vt.MeshBuilder.CreatePlane("plane",{height:.2,width:.5});n.parent=e,n.billboardMode=vt.Mesh.BILLBOARDMODE_ALL,n.position.y=.7;var a=Mt.AdvancedDynamicTexture.CreateForMesh(n,300,100),o=Mt.Button.CreateSimpleButton("but1","Sin datos");o.width=1,o.height=1,o.color="white",o.fontSize=50,o.fontStyle="bold",o.background="#00000066",o.textBlock.text=t.obj_Velocity.toString()+" m/s";var i=1;o.onPointerUpObservable.add((function(){switch(i){case 1:i=2,o.textBlock.text=t.display_Time.toString()+" segs";break;case 2:i=3,o.textBlock.text=t.display_Distance.toString()+" mts";break;case 3:i=1,o.textBlock.text=t.obj_Velocity.toString()+" m/s"}})),a.addControl(o)}n.visibility=.5,n.position=e.position,o.push(n),u.push(n),P.logicManager.AddDisposableStuff(n),r(n),i()}function m(o,u){var p=0,m=Math.round(o/u),f=0,b=new vt.Vector3(0,0,1),g=function(e,t){var n=new vt.Matrix;return e.rotationQuaternion.toRotationMatrix(n),vt.Vector3.TransformNormal(t,n)},x=a.onBeforeRenderObservable.add((function(){if((p+=a.deltaTime)>=1e3*u){if(f<=m){p=0,i=(e*(f/m)).toFixed(2).toString(),s=(n*(f/m)).toFixed(2).toString(),d=t,c.setViewData("d: "+i+" metros (m)\nt: "+s+" segs\nv: "+d+" m/s");var o={display_Distance:i,display_Time:s,obj_Velocity:t};l.physicsImpostor&&(h(l,o),l.physicsImpostor.setLinearVelocity(g(l,b.scale(t))))}else f=0,p=0,l.physicsImpostor&&l.physicsImpostor.setLinearVelocity(new vt.Vector3(0,0,0)),a.onBeforeRenderObservable.remove(x);f++}}));r.push(x)}m(n,.25)}function f(){n=(e/t).toFixed(2)}var b=function(t){e=Math.floor(10*t)/10,f()},g=function(e){t=Math.floor(10*e)/10,f()},x=function(e){return Math.floor(10*e)/10},v=new Mt.SliderGroup("Control de variables","S");v.addSlider("Distancia",b,"m",1,20,1,x),v.addSlider("Velocidad",g,"m/s",1,5,1,x),l.controlPanel.addGroup(v),l.controlPanel.heightInPixels=150;var y=l.button.onPointerUpObservable.add((function(){h()}));l.addObserver(y)}b.addLogic(A),b.addModels(v),g.addLogic(S),g.addModels(w),x.addLogic(B),x.addModels(O),f.addExercise(b),f.addExercise(g),f.addExercise(x),f.Start(C)}()}));var P=Dt(a,2);P.addCard(x),P.addCard(v),P.addCard(y),P.addCard(w),P.addCard(M),P.addCard(O),P.Start(0);var C=0;function I(){var e=[],t=a.getMeshByName("cannon"),n=new vt.Vector3(0,0,-1),o=(vt.Vector3.Zero(),1),i=8,r=0,s=0,c=new vt.TransformNode("root");c.position.y=1,c.position.x=.3,c.parent=t;var l=[],d=[];function u(){!function(e){function t(e,t){var n=vt.MeshBuilder.CreateSphere("ghost_sphere",{segments:12,diameter:.5},a);function o(){if(l.length>1){var e=l[l.length-2],t=l[l.length-1],n=new vt.Mesh.CreateLines("line",[e.getAbsolutePosition(),t.getAbsolutePosition()],a,!0);d.push(n),P.logicManager.AddDisposableStuff(n)}}function i(e){var n=vt.MeshBuilder.CreatePlane("planes",{height:.2,width:.5},a);n.parent=e,n.billboardMode=vt.Mesh.BILLBOARDMODE_ALL,n.position.y=.6;var o=Mt.AdvancedDynamicTexture.CreateForMesh(n,300,100),i=Mt.Button.CreateSimpleButton("but1","Sin datos");i.width=1,i.height=1,i.color="white",i.fontSize=50,i.fontStyle="bold",i.background="#00000066",i.textBlock.text="3 m/s";var r=1;i.onPointerUpObservable.add((function(){switch(r){case 1:r=2,i.textBlock.text=t.display_Time.toString()+" segs";break;case 2:r=3,i.textBlock.text=t.display_Distance.toString()+" mts";break;case 3:r=1,i.textBlock.text=t.obj_Velocity.toString()+" m/s"}})),o.addControl(i)}n.visibility=.5,n.position=e.position,l.push(n),P.logicManager.AddDisposableStuff(n),i(n),o()}function c(c,l){var d=0,u=Math.round(c/l),p=0,h=a.onBeforeRenderObservable.add((function(){if((d+=a.deltaTime)>=1e3*l){if(p<=u)d=0,r=(o*(p/u)).toFixed(2).toString(),s=(p/u*1).toFixed(2).toString(),i,t(e,{display_Distance:r,display_Time:s,obj_Velocity:i}),e.physicsImpostor&&e.physicsImpostor.setLinearVelocity(n.scale(i));else p=0,d=0,e.physicsImpostor&&e.physicsImpostor.setLinearVelocity(new vt.Vector3(0,0,0)),a.onBeforeRenderObservable.remove(h);p++}}))}c(1,.33)}(e[0])}function p(){l&&(l.forEach((function(e){e.dispose()})),l=[]),d&&(d.forEach((function(e){e.dispose()})),d=[])}function h(){var t=vt.MeshBuilder.CreateSphere("bigsphereghost",{segments:12,diameter:.5},a);t.position.set(0,1,1),t.physicsImpostor=new vt.PhysicsImpostor(t,vt.PhysicsImpostor.SphereImpostor,{mass:1},a),t.XRPickable=!0,e.push(t),P.logicManager.AddDisposableStuff(t)}h();var m=Mt.Button.CreateImageOnlyButton("but","images/pressme.png");m.color="transparent";var f=new Ut(.5,.33,!0,!0,a);f.setScaleToInPixels(300,160),f.displayPlane.position.set(0,1,1.2),P.logicManager.AddTemporalGUI(f.displayPlane);var b=1;m.onPointerUpObservable.add((function(){switch(b){case 1:p(),u(),b=2;break;case 2:p(),e.length>0&&e.forEach((function(e){Array.isArray(e)?e.forEach((function(e){return e.dispose()})):e.dispose()})),e=[],h(),b=1}})),f.addControl(m)}var j=new Ot.Timer;var A=new vt.AssetsManager(a);A.onFinish=function(){o.runRenderLoop((function(){a&&(window.document.title=o.getFps().toFixed()+" fps",a.render())}))},a.executeWhenReady((function(){(o.hideLoadingUI(),document.getElementById("xr-button"))&&document.getElementById("xr-button").addEventListener("click",Object(W.a)(G.a.mark((function e(){return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(p.baseExperience.state!==vt.WebXRState.NOT_IN_XR){e.next=7;break}return p.input.xrCamera.position=new vt.Vector3(-3,1,0),p.input.xrCamera.setTarget(vt.Vector3.Zero()),e.next=5,p.baseExperience.enterXRAsync("immersive-ar","local-floor");case 5:e.next=10;break;case 7:if(p.baseExperience.state!==vt.WebXRState.IN_XR){e.next=10;break}return e.next=10,p.baseExperience.exitXRAsync();case 10:case"end":return e.stop()}}),e)}))));document.getElementById("fullscreen-button")&&document.getElementById("fullscreen-button").addEventListener("click",Object(W.a)(G.a.mark((function e(){return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o.switchFullscreen(!1);case 1:case"end":return e.stop()}}),e)}))))})),A.load()}})}),Object(b.jsxs)(D.a,{align:"center",maxWidth:"sm",className:e.babylonbuttons,children:[Object(b.jsx)(C.a,{id:"xr-button",size:"medium",variant:"contained",color:"primary",children:Object(b.jsx)(N.a,{variant:"h6",children:"Entrar a modo XR"})}),Object(b.jsx)(C.a,{id:"fullscreen-button",m:.5,size:"medium",variant:"contained",color:"secondary",children:Object(b.jsx)(N.a,{variant:"h6",children:"pantalla completa"})})]})]})})}var bn=hn,gn=n.p+"static/media/card1.4450b779.PNG",xn=n.p+"static/media/card2.7c2edc2c.PNG",vn=n.p+"static/media/card3.cb47dd66.PNG",yn=n.p+"static/media/card4.9adb7a2d.PNG",wn=(n.p,n.p+"static/media/alert2.2455318f.png"),Mn=n.p+"static/media/cardboard.ca4cc733.png",On=function(e){Object($e.a)(n,e);var t=Object(et.a)(n);function n(){return Object(Ye.a)(this,n),t.apply(this,arguments)}return Object(Je.a)(n,[{key:"render",value:function(){return Object(b.jsx)(xt,{data:Cn})}}]),n}(a.Component),Pn=Object(_.a)((function(e){return{imagebox:{height:"100%",width:"60%",display:"flex",flexDirection:"column"},card:{height:"100%",flexDirection:"column"},media:{height:400},babylonbuttons:{"& > *":{margin:e.spacing(1)}}}}));function Cn(){var e=Pn(),t=x().currentUser,n={id:"exercise_1_3",generalTime:"00:00",totalErrors:0,isCompleted:!1,quizes:{quiz_1:{id:"quiz_1",time:"00:00",errors:0,isCompleted:!1},quiz_2:{id:"quiz_2",time:"00:00",errors:0,isCompleted:!1},quiz_3:{id:"quiz_3",time:"00:00",errors:0,isCompleted:!1}}};St(t),Bt(n),Tt(n.id),It.start();return Object(b.jsx)(o.a.Fragment,{children:Object(b.jsxs)(D.a,{maxWidth:"xl",children:[Object(b.jsx)(F.a,{width:"100%",p:1,my:.5,children:Object(b.jsx)(wt,{onSceneMount:function(e){var t=e.canvas,a=e.scene,o=e.engine;o.displayLoadingUI();var i=new Ot.Timer,r=new vt.Vector3(-4,1.5,0),s=new vt.Vector3(0,1,0),c=new vt.UniversalCamera("camera1",r,a);c.setTarget(s),c.attachControl(t,!1),c.speed=.7,c.angularSensibility=1200,c.inertia=.5,new vt.HemisphericLight("light1",new vt.Vector3(0,1,0),a).intensity=.7;var l=vt.MeshBuilder.CreateBox("SkyBox",{size:1e3},a),d=new vt.StandardMaterial("skyBox",a);d.backFaceCulling=!1,d.reflectionTexture=new vt.HDRCubeTexture("textures/lilienstein_4k.hdr",a,512),d.reflectionTexture.coordinatesMode=vt.Texture.SKYBOX_MODE,d.diffuseColor=new vt.Color3(0,0,0),d.specularColor=new vt.Color3(0,0,0),d.disableLighting=!0,l.material=d,a.enablePhysics(new vt.Vector3(0,-9.81,0),new vt.AmmoJSPlugin);a.getPhysicsEngine();a.collisionsEnabled=!0,c.checkCollisions=!0,c.applyGravity=!0,c.ellipsoid=new vt.Vector3(1,.8,1);var u=Pt(a);u.checkCollisions=!0;var p={};function h(){return(h=Object(W.a)(G.a.mark((function e(){return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.createDefaultXRExperienceAsync({disableDefaultUI:!0,uiOptions:{sessionMode:"immersive-ar",referenceSpaceType:"local-floor"},inputOptions:{doNotLoadControllerMeshes:!1}});case 2:(p=e.sent).baseExperience.onStateChangedObservable.add((function(e){e==vt.WebXRState.ENTERING_XR&&(u.visibility=0,l.isVisible=!1),e==vt.WebXRState.NOT_IN_XR&&(u.visibility=1,l.isVisible=!0)}));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){h.apply(this,arguments)}();var m=Ct(vt,a);m.selectMode(0);var f=null,b=null,g=null;a.onPointerObservable.addOnce((function(e){e.type===vt.PointerEventTypes.POINTERMOVE&&i.start()})),a.onPointerObservable.add((function(e){f=e.pickInfo.pickedMesh,e.type===vt.PointerEventTypes.POINTERDOWN&&(e.pickInfo.pickedMesh&&e.pickInfo.pickedMesh.XRPickable&&(a.constantlyUpdateMeshUnderPointer=!0,g=!0,b=f,m.attachToMesh(b)),e.pickInfo.pickedMesh&&e.pickInfo.pickedMesh.nonXREditable,!e.pickInfo.pickedMesh||e.pickInfo.pickedMesh.XRPickable||e.pickInfo.pickedMesh.nonXREditable||(b=null,m.attachToMesh(null))),e.type===vt.PointerEventTypes.POINTERUP&&(a.constantlyUpdateMeshUnderPointer=!1,e.pickInfo.pickedMesh&&e.pickInfo.pickedMesh.XRPickable&&f.physicsImpostor&&(g=!1,f=null))})),a.onBeforePhysicsObservable.add((function(){g&&f&&f.XRPickable&&f.physicsImpostor&&(f.physicsImpostor._physicsBody.setLinearVelocity(0,0,0),f.physicsImpostor._physicsBody.setAngularVelocity(0,0,0))})),a.registerBeforeRender((function(){}));var x=new tn("card1",gn),v=new tn("card2",xn),y=new tn("card3",vn),w=new tn("card4",yn),M=new tn("alert",wn),O=new tn("card6",Mn);x.addLogic((function(){P.logicManager.ClearAll()})),v.addLogic((function(){P.logicManager.ClearAll(),I()})),y.addLogic((function(){P.logicManager.ClearAll(),I()})),M.addLogic((function(){P.logicManager.ClearAll()})),O.addLogic((function(){P.logicManager.ClearAll(),function(){var e=[],t=[],o=[],r=[],s=Ft(a,1,!0);s.displayPlane.position.copyFrom(P.displayPlane.position),s.displayPlane.position.x-=.3,s.displayPlane.position.y+=.5;var c=Lt(a,1,!0);c.displayPlane.position.copyFrom(P.displayPlane.position),c.displayPlane.position.x-=.3,c.displayPlane.position.z-=2.4,c.displayPlane.position.y+=.4,c.addFormulaImage("/images/equ1-3.png");var l=zt(a,1,!0);l.displayPlane.position.copyFrom(P.displayPlane.position),l.displayPlane.position.x-=.3,l.displayPlane.position.z+=2.4,l.displayPlane.position.y+=.4,P.logicManager.AddTemporalGUI(s.displayPlane),P.logicManager.AddTemporalGUI(c.displayPlane),P.logicManager.AddTemporalGUI(l.displayPlane),s.leftarrow.onPointerClickObservable.add((function(){--C<0&&C++,e[C]&&f.Start(C)})),s.rightarrow.onPointerClickObservable.add((function(){++C>e.length-1&&C--,e[C]&&f.Start(C)})),s.finalanswerButton.onPointerUpObservable.add((function(){var e;s.getIsCorrect()?(Nt(e="quiz_"+(C+1),i.getTimeValues().toString()),Rt(e).isCompleted=!0,Et(n.id),i.reset(),kt().isCompleted?(s.setIscompleted(!0),s.allcompletedPanel.show()):s.correctPanel.show()):(_t(e="quiz_"+(C+1)),Vt(e),Et(n.id),kt().isCompleted?(s.setIscompleted(!0),s.allcompletedPanel.show()):s.incorrectPanel.show())})),l.button2.onPointerUpObservable.add((function(){f.Reset(),i.reset()})),j.isRunning()||j.start();function d(){return Rt("quiz_"+(C+1)).isCompleted?" (Completada)":""}function u(){return Rt("quiz_"+(C+1)).errors}function p(){return kt().isCompleted?(j.pause(),h(j.getTimeValues().minutes)+":"+h(j.getTimeValues().seconds)+"\nSecci\xf3n de preguntas finalizada!"):h(j.getTimeValues().minutes)+":"+h(j.getTimeValues().seconds)}function h(e){return e<=9?"0"+e:e}a.onBeforeRenderObservable.add((function(){s.time_number.text="Tiempo: "+p(),s.error_number.text="Errores: "+u(),s.question_number.text="Pregunta: "+(C+1)+"/"+e.length+d()}));function m(){function n(n){t.push(n),e.push(n.quiz)}function d(t){s.loadquiz(e[t])}function u(e){C=e,t[e].Load_Models().then((function(n){h(),o=n,t[e].Load_Logic&&(t[e].Load_Logic(),d(e),i.reset())}))}function p(){u(C)}function h(){l.clearObservers(),l.clearItems(),c.clearViewData(),console.log("reseteando"),void 0!=r&&r.forEach((function(e){a.onBeforeRenderObservable.remove(e)})),void 0!=o&&o.forEach((function(e){Array.isArray(e)?e.forEach((function(e){return e.dispose()})):e.dispose()}))}return l.button2.onPointerUpObservable.add((function(){p()})),{addExercise:n,LoadQuiz:d,Start:u,Reset:p,ClearStuff:h}}var f=m(),b=new Xt("1. En el transcurso de 2 segundos un auto de juguete acelera a 3m/s^2. \xbfQue velocidad maxima obtuvo?",["A) 2 m/s","B) 8m/s","C) 3m/s","D) 6 m/s"],3,["Tiempo = 3 Segundos","velocidad = 3m/s","Distancia recorrida: ?"]),g=new Xt("2. y si un auto de juguete acelera a 2m/s^2 durante 4 segundos. \xbfQue velocidad maxima obtuvo?",["A) 6 m/s","B) 8m/s","C) 4m/s","D) 2 m/s"],1,["Tiempo = 3 Segundos","velocidad = 3m/s","Distancia recorrida: ?"]),x=new Xt("3.en el caso de moverse durante 5 segundos con una aceleracion de 2.5m/s^2 \xbfQue velocidad maxima obtuvo?",["A) 12.5 m/s","B) 10 m/s","C) 7.5 m/s","D) 5 m/s"],0,["Tiempo = 3 Segundos","velocidad = 3m/s","Distancia recorrida: ?"]);function v(){return y.apply(this,arguments)}function y(){return(y=Object(W.a)(G.a.mark((function e(){var t,n,o,i,r,s;return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=function(e,t,n,o){var i=e[t].getHierarchyBoundingVectors(),r=i.max.subtract(i.min),s=i.max.add(i.min).scale(.5);n.scaling.copyFrom(r),n.XRPickable=!0,n.visibility=0,n.physicsImpostor=new vt.PhysicsImpostor(n,o,{mass:3},a),n.position=s,e[t].setParent(n)},t=function(e,t){e.rotationQuaternion=new vt.Quaternion.RotationAxis(new vt.Vector3(0,1,0),t*(Math.PI/180))},o=[],e.next=5,vt.SceneLoader.ImportMeshAsync("","../3DModels/","greencar.glb",a);case 5:return i=e.sent,(r=i.meshes)[0].scaling.scaleInPlace(.2),r[0].position.set(-.5,.33,0),s=vt.MeshBuilder.CreateBox("carBox1",{height:r[1].height,width:r[1].width,depth:r[1].depth},a),n(r,0,s,vt.PhysicsImpostor.BoxImpostor),t(s,180),o.push(r),o.push(s),P.logicManager.AddDisposableStuff(r),P.logicManager.AddDisposableStuff(s),e.abrupt("return",o);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function w(){return M.apply(this,arguments)}function M(){return(M=Object(W.a)(G.a.mark((function e(){var t,n,o,i,r,s;return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=function(e,t,n,o){var i=e[t].getHierarchyBoundingVectors(),r=i.max.subtract(i.min),s=i.max.add(i.min).scale(.5);n.scaling.copyFrom(r),n.XRPickable=!0,n.visibility=0,n.physicsImpostor=new vt.PhysicsImpostor(n,o,{mass:3},a),n.position=s,e[t].setParent(n)},t=function(e,t){e.rotationQuaternion=new vt.Quaternion.RotationAxis(new vt.Vector3(0,1,0),t*(Math.PI/180))},o=[],e.next=5,vt.SceneLoader.ImportMeshAsync("","../3DModels/","policecar.glb",a);case 5:return i=e.sent,(r=i.meshes)[0].scaling.scaleInPlace(.2),r[0].position.set(-.5,.33,0),s=vt.MeshBuilder.CreateBox("carBox2",{height:r[1].height,width:r[1].width,depth:r[1].depth},a),n(r,0,s,vt.PhysicsImpostor.BoxImpostor),t(s,180),o.push(r),o.push(s),P.logicManager.AddDisposableStuff(r),P.logicManager.AddDisposableStuff(s),e.abrupt("return",o);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function O(){return I.apply(this,arguments)}function I(){return(I=Object(W.a)(G.a.mark((function e(){var t,n,o,i,r,s;return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=function(e,t,n,o){var i=e[t].getHierarchyBoundingVectors(),r=i.max.subtract(i.min),s=i.max.add(i.min).scale(.5);n.scaling.copyFrom(r),n.XRPickable=!0,n.visibility=0,n.physicsImpostor=new vt.PhysicsImpostor(n,o,{mass:3},a),n.position=s,e[t].setParent(n)},t=function(e,t){e.rotationQuaternion=new vt.Quaternion.RotationAxis(new vt.Vector3(0,1,0),t*(Math.PI/180))},o=[],e.next=5,vt.SceneLoader.ImportMeshAsync("","../3DModels/","bluecar.glb",a);case 5:return i=e.sent,(r=i.meshes)[0].scaling.scaleInPlace(.2),r[0].position.set(-.5,.33,0),s=vt.MeshBuilder.CreateBox("carBox3",{height:r[1].height,width:r[1].width,depth:r[1].depth},a),n(r,0,s,vt.PhysicsImpostor.BoxImpostor),t(s,180),o.push(r),o.push(s),P.logicManager.AddDisposableStuff(r),P.logicManager.AddDisposableStuff(s),e.abrupt("return",o);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function A(){var e=a.getMeshByName("carBox1"),t=new vt.Vector3(0,0,1),n=(vt.Vector3.Zero(),1),i=1,r=1,s=0,d=0,u=0,p=[],h=[];function m(){p&&(p.forEach((function(e){e.dispose()})),p=[]),h&&(h.forEach((function(e){e.dispose()})),h=[]),f(e)}function f(e){function l(e,t){var n=vt.MeshBuilder.CreateSphere("ghost_sphere",{segments:6,diameter:.1},a);function i(){if(p.length>1){var e=p[p.length-2],t=p[p.length-1],n=new vt.Mesh.CreateLines("line",[e.getAbsolutePosition(),t.getAbsolutePosition()],a,!0);h.push(n),o.push(n),P.logicManager.AddDisposableStuff(n)}}function r(e){var n=vt.MeshBuilder.CreatePlane("plane",{height:.2,width:.5});n.parent=e,n.billboardMode=vt.Mesh.BILLBOARDMODE_ALL,n.position.y=.7;var a=Mt.AdvancedDynamicTexture.CreateForMesh(n,300,100),o=Mt.Button.CreateSimpleButton("but1","Sin datos");o.width=1,o.height=1,o.color="white",o.fontSize=50,o.fontStyle="bold",o.background="#00000066",o.textBlock.text=t.display_Velocity.toString()+" m/s";var i=1;o.onPointerUpObservable.add((function(){switch(i){case 1:i=2,o.textBlock.text=t.display_Time.toString()+" segs";break;case 2:i=3,o.textBlock.text=t.display_Distance.toString()+" mts";break;case 3:i=1,o.textBlock.text=t.display_Velocity.toString()+" m/s"}})),a.addControl(o)}n.visibility=.5,n.position=e.position,o.push(n),p.push(n),P.logicManager.AddDisposableStuff(n),r(n),i()}function m(o,p){var h=0,m=0,f=Math.round(o/p),b=0,g=0,x=function(){return g/(1e3*o)},v=function(e,t){var n=new vt.Matrix;return e.rotationQuaternion.toRotationMatrix(n),vt.Vector3.TransformNormal(t,n)},y=a.onBeforeRenderObservable.add((function(){m=a.deltaTime,g+=m,e.physicsImpostor&&e.physicsImpostor.setLinearVelocity(v(e,t.scale(i*x()))),g>=1e3*o&&(m=0,a.onBeforeRenderObservable.remove(y))})),w=a.onBeforeRenderObservable.add((function(){if((h+=a.deltaTime)>=1e3*p){if(b<=f)h=0,d=(n*(b/f)).toFixed(2).toString(),s=(r*(d*d)/2).toFixed(2).toString(),u=(i*(b/f)).toFixed(2).toString(),c.setViewData("recorrido: "+s+" metros (m)\nv: "+u+" m/s\nt: "+d+" segs\na: "+r+" m/s^2"),l(e,{display_Distance:s,display_Time:d,display_Velocity:u});else b=0,h=0,e.physicsImpostor&&e.physicsImpostor.setLinearVelocity(new vt.Vector3(0,0,0)),a.onBeforeRenderObservable.remove(w);b++}}))}m(n,.25)}function b(){(r*(n*n)/2).toFixed(2)}function g(){i=(r*n).toFixed(2)}var x=function(e){r=Math.floor(10*e)/10,g(),b()},v=function(e){n=Math.floor(10*e)/10,g(),b()},y=function(e){return Math.floor(10*e)/10},w=new Mt.SliderGroup("Control de variables","S");w.addSlider("Aceleracion",x,"m/s^2",1,10,1,y),w.addSlider("Tiempo",v,"segs",1,5,1,y),l.controlPanel.addGroup(w),l.controlPanel.heightInPixels=150;var M=l.button.onPointerUpObservable.add((function(){m()}));l.addObserver(M)}function S(){var e=a.getMeshByName("carBox2"),t=new vt.Vector3(0,0,1),n=(vt.Vector3.Zero(),1),i=1,r=1,s=0,d=0,u=0,p=[],h=[];function m(){p&&(p.forEach((function(e){e.dispose()})),p=[]),h&&(h.forEach((function(e){e.dispose()})),h=[]),f(e)}function f(e){function l(e,t){var n=vt.MeshBuilder.CreateSphere("ghost_sphere",{segments:6,diameter:.1},a);function i(){if(p.length>1){var e=p[p.length-2],t=p[p.length-1],n=new vt.Mesh.CreateLines("line",[e.getAbsolutePosition(),t.getAbsolutePosition()],a,!0);h.push(n),o.push(n),P.logicManager.AddDisposableStuff(n)}}function r(e){var n=vt.MeshBuilder.CreatePlane("plane",{height:.2,width:.5});n.parent=e,n.billboardMode=vt.Mesh.BILLBOARDMODE_ALL,n.position.y=.7;var a=Mt.AdvancedDynamicTexture.CreateForMesh(n,300,100),o=Mt.Button.CreateSimpleButton("but1","Sin datos");o.width=1,o.height=1,o.color="white",o.fontSize=50,o.fontStyle="bold",o.background="#00000066",o.textBlock.text=t.display_Velocity.toString()+" m/s";var i=1;o.onPointerUpObservable.add((function(){switch(i){case 1:i=2,o.textBlock.text=t.display_Time.toString()+" segs";break;case 2:i=3,o.textBlock.text=t.display_Distance.toString()+" mts";break;case 3:i=1,o.textBlock.text=t.display_Velocity.toString()+" m/s"}})),a.addControl(o)}n.visibility=.5,n.position=e.position,o.push(n),p.push(n),P.logicManager.AddDisposableStuff(n),r(n),i()}function m(o,p){var h=0,m=0,f=Math.round(o/p),b=0,g=0,x=function(){return g/(1e3*o)},v=function(e,t){var n=new vt.Matrix;return e.rotationQuaternion.toRotationMatrix(n),vt.Vector3.TransformNormal(t,n)},y=a.onBeforeRenderObservable.add((function(){m=a.deltaTime,g+=m,e.physicsImpostor&&e.physicsImpostor.setLinearVelocity(v(e,t.scale(i*x()))),g>=1e3*o&&(m=0,a.onBeforeRenderObservable.remove(y))})),w=a.onBeforeRenderObservable.add((function(){if((h+=a.deltaTime)>=1e3*p){if(b<=f)h=0,d=(n*(b/f)).toFixed(2).toString(),s=(r*(d*d)/2).toFixed(2).toString(),u=(i*(b/f)).toFixed(2).toString(),c.setViewData("recorrido: "+s+" metros (m)\nv: "+u+" m/s\nt: "+d+" segs\na: "+r+" m/s^2"),l(e,{display_Distance:s,display_Time:d,display_Velocity:u});else b=0,h=0,e.physicsImpostor&&e.physicsImpostor.setLinearVelocity(new vt.Vector3(0,0,0)),a.onBeforeRenderObservable.remove(w);b++}}))}m(n,.25)}function b(){(r*(n*n)/2).toFixed(2)}function g(){i=(r*n).toFixed(2)}var x=function(e){r=Math.floor(10*e)/10,g(),b()},v=function(e){n=Math.floor(10*e)/10,g(),b()},y=function(e){return Math.floor(10*e)/10},w=new Mt.SliderGroup("Control de variables","S");w.addSlider("Aceleracion",x,"m/s^2",1,10,1,y),w.addSlider("Tiempo",v,"segs",1,5,1,y),l.controlPanel.addGroup(w),l.controlPanel.heightInPixels=150;var M=l.button.onPointerUpObservable.add((function(){m()}));l.addObserver(M)}function B(){var e=a.getMeshByName("carBox3"),t=new vt.Vector3(0,0,1),n=(vt.Vector3.Zero(),1),i=1,r=1,s=0,d=0,u=0,p=[],h=[];function m(){p&&(p.forEach((function(e){e.dispose()})),p=[]),h&&(h.forEach((function(e){e.dispose()})),h=[]),f(e)}function f(e){function l(e,t){var n=vt.MeshBuilder.CreateSphere("ghost_sphere",{segments:6,diameter:.1},a);function i(){if(p.length>1){var e=p[p.length-2],t=p[p.length-1],n=new vt.Mesh.CreateLines("line",[e.getAbsolutePosition(),t.getAbsolutePosition()],a,!0);h.push(n),o.push(n),P.logicManager.AddDisposableStuff(n)}}function r(e){var n=vt.MeshBuilder.CreatePlane("plane",{height:.2,width:.5});n.parent=e,n.billboardMode=vt.Mesh.BILLBOARDMODE_ALL,n.position.y=.7;var a=Mt.AdvancedDynamicTexture.CreateForMesh(n,300,100),o=Mt.Button.CreateSimpleButton("but1","Sin datos");o.width=1,o.height=1,o.color="white",o.fontSize=50,o.fontStyle="bold",o.background="#00000066",o.textBlock.text=t.display_Velocity.toString()+" m/s";var i=1;o.onPointerUpObservable.add((function(){switch(i){case 1:i=2,o.textBlock.text=t.display_Time.toString()+" segs";break;case 2:i=3,o.textBlock.text=t.display_Distance.toString()+" mts";break;case 3:i=1,o.textBlock.text=t.display_Velocity.toString()+" m/s"}})),a.addControl(o)}n.visibility=.5,n.position=e.position,o.push(n),p.push(n),P.logicManager.AddDisposableStuff(n),r(n),i()}function m(o,p){var h=0,m=0,f=Math.round(o/p),b=0,g=0,x=function(){return g/(1e3*o)},v=function(e,t){var n=new vt.Matrix;return e.rotationQuaternion.toRotationMatrix(n),vt.Vector3.TransformNormal(t,n)},y=a.onBeforeRenderObservable.add((function(){m=a.deltaTime,g+=m,e.physicsImpostor&&e.physicsImpostor.setLinearVelocity(v(e,t.scale(i*x()))),g>=1e3*o&&(m=0,a.onBeforeRenderObservable.remove(y))})),w=a.onBeforeRenderObservable.add((function(){if((h+=a.deltaTime)>=1e3*p){if(b<=f)h=0,d=(n*(b/f)).toFixed(2).toString(),s=(r*(d*d)/2).toFixed(2).toString(),u=(i*(b/f)).toFixed(2).toString(),c.setViewData("recorrido: "+s+" metros (m)\nv: "+u+" m/s\nt: "+d+" segs\na: "+r+" m/s^2"),l(e,{display_Distance:s,display_Time:d,display_Velocity:u});else b=0,h=0,e.physicsImpostor&&e.physicsImpostor.setLinearVelocity(new vt.Vector3(0,0,0)),a.onBeforeRenderObservable.remove(w);b++}}))}m(n,.25)}function b(){(r*(n*n)/2).toFixed(2)}function g(){i=(r*n).toFixed(2)}var x=function(e){r=Math.floor(10*e)/10,g(),b()},v=function(e){n=Math.floor(10*e)/10,g(),b()},y=function(e){return Math.floor(10*e)/10},w=new Mt.SliderGroup("Control de variables","S");w.addSlider("Aceleracion",x,"m/s^2",1,10,1,y),w.addSlider("Tiempo",v,"segs",1,5,1,y),l.controlPanel.addGroup(w),l.controlPanel.heightInPixels=150;var M=l.button.onPointerUpObservable.add((function(){m()}));l.addObserver(M)}b.addLogic(A),b.addModels(v),g.addLogic(S),g.addModels(w),x.addLogic(B),x.addModels(O),f.addExercise(b),f.addExercise(g),f.addExercise(x),f.Start(C)}()}));var P=Dt(a,2);P.addCard(x),P.addCard(v),P.addCard(y),P.addCard(w),P.addCard(M),P.addCard(O),P.Start(0);var C=0;function I(){var e,t,n=[],o=[],i=[],r=[],s=[];function c(){return c=Object(W.a)(G.a.mark((function e(){var t,n,o,i,r;return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=function(e,t,n,o){var i=e[t].getHierarchyBoundingVectors(),r=i.max.subtract(i.min),s=i.max.add(i.min).scale(.5);n.scaling.copyFrom(r),n.XRPickable=!0,n.visibility=0,n.physicsImpostor=new vt.PhysicsImpostor(n,o,{mass:3},a),n.position=s,e[t].setParent(n)},t=function(e,t){e.rotationQuaternion=new vt.Quaternion.RotationAxis(new vt.Vector3(0,1,0),t*(Math.PI/180))},e.next=4,vt.SceneLoader.ImportMeshAsync("","../3DModels/","greencar.glb",a);case 4:o=e.sent,(i=o.meshes)[0].scaling.scaleInPlace(.2),i[0].position.set(-.5,.33,0),r=vt.MeshBuilder.CreateBox("carBox1",{height:i[1].height,width:i[1].width,depth:i[1].depth},a),n(i,0,r,vt.PhysicsImpostor.BoxImpostor),t(r,180),s.push(i),s.push(r),P.logicManager.AddDisposableStuff(i),P.logicManager.AddDisposableStuff(r);case 15:case"end":return e.stop()}}),e)}))),c.apply(this,arguments)}function l(){(function(){return c.apply(this,arguments)})().then((function(){t=s[0],e=a.getMeshByName("carBox1")}))}l();var d=new vt.Vector3(0,0,1),u=(vt.Vector3.Zero(),0),p=0,h=0;function m(){try{e&&function(e){function r(e,r){var s=t[0].clone("bModel");s.setParent(null);var c,l=Object(Ke.a)(s.getChildMeshes());try{for(l.s();!(c=l.n()).done;){var d=c.value;d.material=new vt.StandardMaterial("mat"),d.material.alpha=.25}}catch(f){l.e(f)}finally{l.f()}s.setAbsolutePosition(e.position),s.position.y-=.3;var u=vt.MeshBuilder.CreateSphere("ghost_sphere",{segments:6,diameter:.1},a),p=new vt.StandardMaterial("mat");function h(){if(n.length>1){var e=n[n.length-2],t=n[n.length-1],o=new vt.Mesh.CreateLines("line",[e.getAbsolutePosition(),t.getAbsolutePosition()],a,!0);i.push(o),P.logicManager.AddDisposableStuff(o)}}function m(e){var t=vt.MeshBuilder.CreatePlane("plane",{height:.25,width:.5});t.parent=e,t.billboardMode=vt.Mesh.BILLBOARDMODE_ALL,t.position.y=.7;var n=Mt.AdvancedDynamicTexture.CreateForMesh(t,400,160),a=Mt.Button.CreateSimpleButton("but1","Sin datos");a.width=1,a.height=1,a.color="white",a.fontSize=50,a.fontStyle="bold",a.background="#00000066",a.textBlock.text="Velocidad: \n"+r.display_Velocity.toString()+" m/s";var o=1;a.onPointerUpObservable.add((function(){switch(o){case 1:o=2,a.textBlock.text="Tiempo: \n"+r.display_Time.toString()+" segs";break;case 2:o=3,a.textBlock.text="Distancia: \n"+r.display_Distance.toString()+" mts";break;case 3:o=1,a.textBlock.text="Velocidad: \n"+r.display_Velocity.toString()+" m/s"}})),n.addControl(a)}p.diffuseColor=new vt.Color4(0,1,0,1),u.material=p,u.setAbsolutePosition(e.position),n.push(u),P.logicManager.AddDisposableStuff(u),o.push(s),P.logicManager.AddDisposableStuff(s),m(u),h()}function s(t,n){var o=0,i=0,s=Math.round(t/n),c=0,l=0,m=function(){return l/(1e3*t)},f=function(e,t){var n=new vt.Matrix;return e.rotationQuaternion.toRotationMatrix(n),vt.Vector3.TransformNormal(t,n)},b=a.onBeforeRenderObservable.add((function(){i=a.deltaTime,l+=i,e.physicsImpostor&&e.physicsImpostor.setLinearVelocity(f(e,d.scale(10*m()))),l>=1e3*t&&(i=0,a.onBeforeRenderObservable.remove(b))})),g=a.onBeforeRenderObservable.add((function(){if((o+=a.deltaTime)>=1e3*n){if(c<=s)o=0,p=(c/s*2).toFixed(2).toString(),u=(p*p*5/2).toFixed(2).toString(),h=(c/s*10).toFixed(2).toString(),r(e,{display_Distance:u,display_Time:p,display_Velocity:h});else c=0,o=0,e.physicsImpostor&&e.physicsImpostor.setLinearVelocity(new vt.Vector3(0,0,0)),a.onBeforeRenderObservable.remove(g);c++}}))}s(2,.25)}(e)}catch(r){console.log(r)}}var f=Mt.Button.CreateImageOnlyButton("but","images/pressme.png");f.color="transparent";var b=new Ut(.5,.33,!0,!0,a);b.setScaleToInPixels(300,160),b.displayPlane.position.set(0,1,1.2),P.logicManager.AddTemporalGUI(b.displayPlane);var g=1;f.onPointerUpObservable.add((function(){switch(g){case 1:m(),g=2;break;case 2:n&&(n.forEach((function(e){e.dispose()})),n=[]),i&&(i.forEach((function(e){e.dispose()})),i=[]),r&&(r.forEach((function(e){e.dispose()})),r=[]),o&&(o.forEach((function(e){e.dispose()})),o=[]),s.length>0&&s.forEach((function(e){Array.isArray(e)?e.forEach((function(e){return e.dispose()})):e.dispose()})),s=[],l(),g=1}})),b.addControl(f)}var j=new Ot.Timer;var A=new vt.AssetsManager(a);A.onFinish=function(){o.runRenderLoop((function(){a&&(window.document.title=o.getFps().toFixed()+" fps",a.render())}))},a.executeWhenReady((function(){(o.hideLoadingUI(),document.getElementById("xr-button"))&&document.getElementById("xr-button").addEventListener("click",Object(W.a)(G.a.mark((function e(){return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(p.baseExperience.state!==vt.WebXRState.NOT_IN_XR){e.next=7;break}return p.input.xrCamera.position=new vt.Vector3(-3,1,0),p.input.xrCamera.setTarget(vt.Vector3.Zero()),e.next=5,p.baseExperience.enterXRAsync("immersive-ar","local-floor");case 5:e.next=10;break;case 7:if(p.baseExperience.state!==vt.WebXRState.IN_XR){e.next=10;break}return e.next=10,p.baseExperience.exitXRAsync();case 10:case"end":return e.stop()}}),e)}))));document.getElementById("fullscreen-button")&&document.getElementById("fullscreen-button").addEventListener("click",Object(W.a)(G.a.mark((function e(){return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o.switchFullscreen(!1);case 1:case"end":return e.stop()}}),e)}))))})),A.load()}})}),Object(b.jsxs)(D.a,{align:"center",maxWidth:"sm",className:e.babylonbuttons,children:[Object(b.jsx)(C.a,{id:"xr-button",size:"medium",variant:"contained",color:"primary",children:Object(b.jsx)(N.a,{variant:"h6",children:"Entrar a modo XR"})}),Object(b.jsx)(C.a,{id:"fullscreen-button",m:.5,size:"medium",variant:"contained",color:"secondary",children:Object(b.jsx)(N.a,{variant:"h6",children:"pantalla completa"})})]})]})})}var In=On,jn=n.p+"static/media/card1.4464c206.PNG",An=n.p+"static/media/card2.42169476.PNG",Sn=n.p+"static/media/card3.2a9e17bc.PNG",Bn=n.p+"static/media/card4.c834f31b.PNG",kn=n.p+"static/media/alert2.2455318f.png",Tn=n.p+"static/media/cardboard.ca4cc733.png",En=function(e){Object($e.a)(n,e);var t=Object(et.a)(n);function n(){return Object(Ye.a)(this,n),t.apply(this,arguments)}return Object(Je.a)(n,[{key:"render",value:function(){return Object(b.jsx)(xt,{data:Nn})}}]),n}(a.Component),Rn=Object(_.a)((function(e){return{imagebox:{height:"100%",width:"60%",display:"flex",flexDirection:"column"},card:{height:"100%",flexDirection:"column"},media:{height:400},babylonbuttons:{"& > *":{margin:e.spacing(1)}}}}));function Nn(){var e=Rn(),t=x().currentUser,n={id:"exercise_1_4",generalTime:"00:00",totalErrors:0,isCompleted:!1,quizes:{quiz_1:{id:"quiz_1",time:"00:00",errors:0,isCompleted:!1},quiz_2:{id:"quiz_2",time:"00:00",errors:0,isCompleted:!1},quiz_3:{id:"quiz_3",time:"00:00",errors:0,isCompleted:!1}}};St(t),Bt(n),Tt(n.id),It.start();return Object(b.jsx)(o.a.Fragment,{children:Object(b.jsxs)(D.a,{maxWidth:"xl",children:[Object(b.jsx)(F.a,{width:"100%",p:1,my:.5,children:Object(b.jsx)(wt,{onSceneMount:function(e){var t=e.canvas,a=e.scene,o=e.engine;o.displayLoadingUI();var i=new Ot.Timer,r=new vt.Vector3(-4,1.5,0),s=new vt.Vector3(0,1,0),c=new vt.UniversalCamera("camera1",r,a);c.setTarget(s),c.attachControl(t,!1),c.speed=.7,c.angularSensibility=1200,c.inertia=.5,new vt.HemisphericLight("light1",new vt.Vector3(0,1,0),a).intensity=.7;var l=vt.MeshBuilder.CreateBox("SkyBox",{size:1e3},a),d=new vt.StandardMaterial("skyBox",a);d.backFaceCulling=!1,d.reflectionTexture=new vt.HDRCubeTexture("textures/lilienstein_4k.hdr",a,512),d.reflectionTexture.coordinatesMode=vt.Texture.SKYBOX_MODE,d.diffuseColor=new vt.Color3(0,0,0),d.specularColor=new vt.Color3(0,0,0),d.disableLighting=!0,l.material=d,a.enablePhysics(new vt.Vector3(0,-9.81,0),new vt.AmmoJSPlugin);a.getPhysicsEngine();a.collisionsEnabled=!0,c.checkCollisions=!0,c.applyGravity=!0,c.ellipsoid=new vt.Vector3(1,.8,1);var u=Pt(a);u.checkCollisions=!0;var p={};function h(){return(h=Object(W.a)(G.a.mark((function e(){return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.createDefaultXRExperienceAsync({disableDefaultUI:!0,uiOptions:{sessionMode:"immersive-ar",referenceSpaceType:"local-floor"},inputOptions:{doNotLoadControllerMeshes:!1}});case 2:(p=e.sent).baseExperience.onStateChangedObservable.add((function(e){e==vt.WebXRState.ENTERING_XR&&(u.visibility=0,l.isVisible=!1),e==vt.WebXRState.NOT_IN_XR&&(u.visibility=1,l.isVisible=!0)}));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){h.apply(this,arguments)}();var m=Ct(vt,a);m.selectMode(0);var f=null,b=null,g=null;a.onPointerObservable.addOnce((function(e){e.type===vt.PointerEventTypes.POINTERMOVE&&i.start()})),a.onPointerObservable.add((function(e){f=e.pickInfo.pickedMesh,e.type===vt.PointerEventTypes.POINTERDOWN&&(e.pickInfo.pickedMesh&&e.pickInfo.pickedMesh.XRPickable&&(a.constantlyUpdateMeshUnderPointer=!0,g=!0,b=f,m.attachToMesh(b)),e.pickInfo.pickedMesh&&e.pickInfo.pickedMesh.nonXREditable,!e.pickInfo.pickedMesh||e.pickInfo.pickedMesh.XRPickable||e.pickInfo.pickedMesh.nonXREditable||(b=null,m.attachToMesh(null))),e.type===vt.PointerEventTypes.POINTERUP&&(a.constantlyUpdateMeshUnderPointer=!1,e.pickInfo.pickedMesh&&e.pickInfo.pickedMesh.XRPickable&&f.physicsImpostor&&(g=!1,f=null))})),a.onBeforePhysicsObservable.add((function(){g&&f&&f.XRPickable&&f.physicsImpostor&&(f.physicsImpostor._physicsBody.setLinearVelocity(0,0,0),f.physicsImpostor._physicsBody.setAngularVelocity(0,0,0))})),a.registerBeforeRender((function(){}));var x=new tn("card1",jn),v=new tn("card2",An),y=new tn("card3",Sn),w=new tn("card4",Bn),M=new tn("alert",kn),O=new tn("card5",Tn);x.addLogic((function(){P.logicManager.ClearAll(),I()})),v.addLogic((function(){I()})),y.addLogic((function(){P.logicManager.ClearAll(),function(){var e,t=[],n=[],o=[],i=[],r=[];t=[];function s(){return c.apply(this,arguments)}function c(){return c=Object(W.a)(G.a.mark((function e(){var n,o,i,r,s;return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=function(e,t,n,o){var i=e[t].getHierarchyBoundingVectors(),r=i.max.subtract(i.min),s=i.max.add(i.min).scale(.5);n.scaling.copyFrom(r),n.XRPickable=!0,n.visibility=0,n.physicsImpostor=new vt.PhysicsImpostor(n,o,{mass:3},a),n.position=s,e[t].setParent(n)},n=function(e,t){e.rotationQuaternion=new vt.Quaternion.RotationAxis(new vt.Vector3(0,1,0),t*(Math.PI/180))},e.next=4,vt.SceneLoader.ImportMeshAsync("","../3DModels/","colored apple.gltf",a);case 4:i=e.sent,(r=i.meshes)[0].scaling.scaleInPlace(.15),r[0].position.set(-.25,10,-.2),s=vt.MeshBuilder.CreateBox("apple_collider",{height:r[1].height,width:r[1].width,depth:r[1].depth},a),o(r,0,s,vt.PhysicsImpostor.BoxImpostor),n(s,90),t.push(r),t.push(s),P.logicManager.AddDisposableStuff(r),P.logicManager.AddDisposableStuff(s);case 15:case"end":return e.stop()}}),e)}))),c.apply(this,arguments)}function l(){return d.apply(this,arguments)}function d(){return(d=Object(W.a)(G.a.mark((function t(){return G.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:s().then((function(){e=a.getMeshByName("apple_collider")}));case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function u(e,s){var c=t[0][0].clone("bModel");c.setParent(null);var l,d=Object(Ke.a)(c.getChildMeshes());try{for(d.s();!(l=d.n()).done;){var u=l.value;u.material=new vt.StandardMaterial("mat"),u.material.alpha=.25}}catch(b){d.e(b)}finally{d.f()}c.setAbsolutePosition(e.position),c.position.y-=.1;var p=vt.MeshBuilder.CreateSphere("ghost_sphere",{segments:12,diameter:.05},a),h=new vt.StandardMaterial("mat");function m(){if(n.length>1){var e=n[n.length-2],t=n[n.length-1],o=new vt.Mesh.CreateLines("line",[e.getAbsolutePosition(),t.getAbsolutePosition()],a,!0);i.push(o),P.logicManager.AddDisposableStuff(o)}}function f(e){var t=vt.MeshBuilder.CreatePlane("planes",{height:.2,width:.5},a);t.setAbsolutePosition(e.position),t.billboardMode=vt.Mesh.BILLBOARDMODE_ALL,t.position.x-=.5;var n=Mt.AdvancedDynamicTexture.CreateForMesh(t,400,160);P.logicManager.AddTemporalGUI(t),r.push(t);var o=Mt.Button.CreateSimpleButton("but1","Sin datos");o.width=1,o.height=1,o.color="white",o.fontSize=50,o.fontStyle="bold",o.background="#00000066",o.textBlock.text="Velocidad: \n"+s.obj_Velocity.toString()+" m/s";var i=1;o.onPointerUpObservable.add((function(){switch(i){case 1:i=3,o.textBlock.text="Tiempo: \n"+s.obj_Time.toString()+" segs";break;case 2:i=3;break;case 3:i=1,o.textBlock.text="Velocidad: \n"+s.obj_Velocity.toString()+" m/s"}})),n.addControl(o)}h.diffuseColor=new vt.Color4(0,1,0,1),p.material=h,p.setAbsolutePosition(e.position),o.push(c),n.push(p),P.logicManager.AddDisposableStuff(c),P.logicManager.AddDisposableStuff(p),f(p),m()}function p(e,t,n){var a=60,o=new vt.Animation("ySlide","position",a,vt.Animation.ANIMATIONTYPE_VECTOR3,vt.Animation.ANIMATIONLOOPMODE_CONSTANT),i=[],r=25,s=new vt.ExponentialEase(2);s.setEasingMode(vt.EasingFunction.EASINGMODE_EASEIN),o.setEasingFunction(s),i.push({frame:0,value:e.getAbsolutePosition().add(new vt.Vector3(0,0,0))}),i.push({frame:1*r,value:e.getAbsolutePosition().add(new vt.Vector3(0,1,0))}),i.push({frame:2*r,value:e.getAbsolutePosition().add(new vt.Vector3(0,2,0))}),i.push({frame:3*r,value:e.getAbsolutePosition().add(new vt.Vector3(0,3,0))}),o.setKeys(i),e.animations.push(o);var c=new vt.AnimationEvent(i[0].frame,(function(){var t={obj_Velocity:30,obj_Time:0,obj_Distance:25};u(e,t)})),l=new vt.AnimationEvent(i[1].frame,(function(){var t={obj_Velocity:20,obj_Time:1,obj_Distance:40};u(e,t)})),d=new vt.AnimationEvent(i[2].frame,(function(){var t={obj_Velocity:10,obj_Time:2,obj_Distance:45};u(e,t)})),p=new vt.AnimationEvent(i[3].frame,(function(){var t={obj_Velocity:0,obj_Time:3,obj_Distance:45};u(e,t)}));o.addEvent(c),o.addEvent(l),o.addEvent(d),o.addEvent(p);n.beginAnimation(e,0,i[i.length-1].frame,!1,3,(function(){t()}))}function h(){e.physicsImpostor.setMass(3)}function m(){try{e&&(e.physicsImpostor.setMass(0),p(e,h,a))}catch(t){console.log(t)}}function f(){t.length>0&&t.forEach((function(e){Array.isArray(e)?e.forEach((function(e){return e.dispose()})):e.dispose()})),t=[]}function b(){n&&(n.forEach((function(e){e.dispose()})),n=[]),i&&(i.forEach((function(e){e.dispose()})),i=[]),r&&(r.forEach((function(e){e.dispose()})),r=[]),o&&(o.forEach((function(e){e.dispose()})),o=[])}l();var g=Mt.Button.CreateImageOnlyButton("but","images/pressme.png");g.color="transparent";var x=new Ut(.5,.33,!0,!0,a);x.setScaleToInPixels(300,160),x.displayPlane.position.set(-.25,.5,.3),P.logicManager.AddTemporalGUI(x.displayPlane);var v=1;g.onPointerUpObservable.add((function(){switch(v){case 1:m(),v=2;break;case 2:b(),f(),l(),b(),v=1}})),x.addControl(g)}(),function(){var e,t=[],n=[],o=[],i=[],r=[];t=[];function s(){return c.apply(this,arguments)}function c(){return c=Object(W.a)(G.a.mark((function e(){var n,o,i,r,s;return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=function(e,t,n,o){var i=e[t].getHierarchyBoundingVectors(),r=i.max.subtract(i.min),s=i.max.add(i.min).scale(.5);n.scaling.copyFrom(r),n.XRPickable=!0,n.visibility=0,n.physicsImpostor=new vt.PhysicsImpostor(n,o,{mass:3},a),n.position=s,e[t].setParent(n)},n=function(e,t){e.rotationQuaternion=new vt.Quaternion.RotationAxis(new vt.Vector3(0,1,0),t*(Math.PI/180))},e.next=4,vt.SceneLoader.ImportMeshAsync("","../3DModels/","colored apple.gltf",a);case 4:i=e.sent,(r=i.meshes)[0].scaling.scaleInPlace(.15),r[0].position.set(-.25,10,-1.5),s=vt.MeshBuilder.CreateBox("apple_collider3",{height:r[1].height,width:r[1].width,depth:r[1].depth},a),o(r,0,s,vt.PhysicsImpostor.BoxImpostor),n(s,90),t.push(r),t.push(s),P.logicManager.AddDisposableStuff(r),P.logicManager.AddDisposableStuff(s);case 15:case"end":return e.stop()}}),e)}))),c.apply(this,arguments)}function l(){return d.apply(this,arguments)}function d(){return(d=Object(W.a)(G.a.mark((function t(){return G.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:s().then((function(){e=a.getMeshByName("apple_collider3")}));case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function u(e,s){var c=t[0][0].clone("bModel");c.setParent(null);var l,d=Object(Ke.a)(c.getChildMeshes());try{for(d.s();!(l=d.n()).done;){var u=l.value;u.material=new vt.StandardMaterial("mat"),u.material.alpha=.25}}catch(b){d.e(b)}finally{d.f()}c.setAbsolutePosition(e.position),c.position.y-=.1;var p=vt.MeshBuilder.CreateSphere("ghost_sphere",{segments:12,diameter:.05},a),h=new vt.StandardMaterial("mat");function m(){if(n.length>1){var e=n[n.length-2],t=n[n.length-1],o=new vt.Mesh.CreateLines("line",[e.getAbsolutePosition(),t.getAbsolutePosition()],a,!0);i.push(o),P.logicManager.AddDisposableStuff(o)}}function f(e){var t=vt.MeshBuilder.CreatePlane("planes",{height:.2,width:.5},a);t.setAbsolutePosition(e.position),t.billboardMode=vt.Mesh.BILLBOARDMODE_ALL,t.position.x-=.5;var n=Mt.AdvancedDynamicTexture.CreateForMesh(t,400,160);P.logicManager.AddTemporalGUI(t),r.push(t);var o=Mt.Button.CreateSimpleButton("but1","Sin datos");o.width=1,o.height=1,o.color="white",o.fontSize=50,o.fontStyle="bold",o.background="#00000066",o.textBlock.text="Velocidad: \n"+s.obj_Velocity.toString()+" m/s";var i=1;o.onPointerUpObservable.add((function(){switch(i){case 1:i=3,o.textBlock.text="Tiempo: \n"+s.obj_Time.toString()+" segs";break;case 2:i=3;break;case 3:i=1,o.textBlock.text="Velocidad: \n"+s.obj_Velocity.toString()+" m/s"}})),n.addControl(o)}h.diffuseColor=new vt.Color4(0,1,0,1),p.material=h,p.setAbsolutePosition(e.position),o.push(c),n.push(p),P.logicManager.AddDisposableStuff(c),P.logicManager.AddDisposableStuff(p),f(p),m()}function p(e,t,n){var a=60,o=new vt.Animation("ySlide","position",a,vt.Animation.ANIMATIONTYPE_VECTOR3,vt.Animation.ANIMATIONLOOPMODE_CONSTANT),i=[],r=25,s=new vt.ExponentialEase(2);s.setEasingMode(vt.EasingFunction.EASINGMODE_EASEIN),o.setEasingFunction(s),i.push({frame:0,value:e.getAbsolutePosition().add(new vt.Vector3(0,3,0))}),i.push({frame:1*r,value:e.getAbsolutePosition().add(new vt.Vector3(0,2,0))}),i.push({frame:2*r,value:e.getAbsolutePosition().add(new vt.Vector3(0,1,0))}),i.push({frame:3*r,value:e.getAbsolutePosition().add(new vt.Vector3(0,0,0))}),o.setKeys(i),e.animations.push(o);var c=new vt.AnimationEvent(i[0].frame,(function(){var t={obj_Velocity:0,obj_Time:0,obj_Distance:0};u(e,t)})),l=new vt.AnimationEvent(i[1].frame,(function(){var t={obj_Velocity:10,obj_Time:1,obj_Distance:25};u(e,t)})),d=new vt.AnimationEvent(i[2].frame,(function(){var t={obj_Velocity:20,obj_Time:2,obj_Distance:40};u(e,t)})),p=new vt.AnimationEvent(i[3].frame,(function(){var t={obj_Velocity:30,obj_Time:3,obj_Distance:45};u(e,t)}));o.addEvent(c),o.addEvent(l),o.addEvent(d),o.addEvent(p);n.beginAnimation(e,0,i[i.length-1].frame,!1,3,(function(){t()}))}function h(){e.physicsImpostor.setMass(3)}function m(){try{e&&(e.physicsImpostor.setMass(0),p(e,h,a))}catch(t){console.log(t)}}function f(){t.length>0&&t.forEach((function(e){Array.isArray(e)?e.forEach((function(e){return e.dispose()})):e.dispose()})),t=[]}function b(){n&&(n.forEach((function(e){e.dispose()})),n=[]),i&&(i.forEach((function(e){e.dispose()})),i=[]),r&&(r.forEach((function(e){e.dispose()})),r=[]),o&&(o.forEach((function(e){e.dispose()})),o=[])}l();var g=Mt.Button.CreateImageOnlyButton("but","images/pressme.png");g.color="transparent";var x=new Ut(.5,.33,!0,!0,a);x.setScaleToInPixels(300,160),x.displayPlane.position.set(-.25,.5,-1.7),P.logicManager.AddTemporalGUI(x.displayPlane);var v=1;g.onPointerUpObservable.add((function(){switch(v){case 1:m(),v=2;break;case 2:b(),f(),l(),b(),v=1}})),x.addControl(g)}()})),w.addLogic((function(){P.logicManager.ClearAll(),function(){var e,t=[],n=[],o=[],i=1,r=5,s=0,c=0,l=new vt.TransformNode("base_pos",a);l.position.set(0,0,1);var d=new vt.TransformNode("direction_coT",a);function u(){o&&o.forEach((function(e){e.dispose()})),x(),b(),g(),f(r)}function p(){n.length>0&&n.forEach((function(e){Array.isArray(e)?e.forEach((function(e){return e.dispose()})):e.dispose()})),n=[]}function h(){o&&(o.forEach((function(e){e.dispose()})),o=[])}function m(){(e=vt.MeshBuilder.CreateSphere("ball",{segments:20,diameter:.2},a)).position=l.getAbsolutePosition();var t=new vt.StandardMaterial("metal",a);t.diffuseTexture=new vt.Texture("../textures/football.jpg",a),t.diffuseTexture.uScale=1.2,t.diffuseTexture.VScale=1.2,t.emissiveColor=new vt.Color3(.5,.5,.5),e.physicsImpostor=new vt.PhysicsImpostor(e,vt.PhysicsImpostor.SphereImpostor,{mass:1,friction:.5,restitution:.3},a),e.material=t,P.logicManager.AddDisposableStuff(e),n.push(e)}function f(n){var i=d.getAbsolutePosition().subtract(l.getAbsolutePosition());function u(n,i,l){var d=0,u=Math.round(i/l),p=1/l-1,h=0;function m(e,n){var i=vt.MeshBuilder.CreateSphere("ghost_sphere",{segments:6,diameter:.1},a);function r(e){var t=vt.MeshBuilder.CreatePlane("plane",{height:.2,width:.5});t.parent=e,t.billboardMode=vt.Mesh.BILLBOARDMODE_ALL,t.position.y=.7;var a=Mt.AdvancedDynamicTexture.CreateForMesh(t,300,100),o=Mt.Button.CreateSimpleButton("but1","Sin datos");o.width=1,o.height=1,o.color="white",o.fontSize=50,o.fontStyle="bold",o.background="#00000066",o.textBlock.text=n.toString(),o.onPointerUpObservable.add((function(){})),a.addControl(o)}i.visibility=.5,i.position=e.position,t.push(i),o.push(i),P.logicManager.AddDisposableStuff(i),r(i)}var f=!1,b=!1,g=!1,x=!1,v=0,y=0,w=0;function M(e){e.physicsImpostor&&0==y&&(y=e.physicsImpostor.getLinearVelocity().y)}function O(e){e.physicsImpostor&&0==w&&(w=e.position.y)}function C(e,t,n){var o=0,i=0;function r(e,t){var n=1-e*t;return n>1?1:n}function s(e,t){var n=1-(1-e*t);return n>1?1:n}var l=a.onBeforeRenderObservable.add((function(){if((i+=a.deltaTime)>=20)if(g)i=0,g=!0,a.onBeforeRenderObservable.remove(l);else if(i=0,e.physicsImpostor){var d=e.physicsImpostor.getLinearVelocity().y;if(o+1<=n){var u=r(t,o+1),p=(y*u).toFixed(2);if(d<=p){o++;(c*s(t,o)).toFixed(2);m(e,p+" m/s")}}}}))}function I(e,t,n){var o=0,i=0;function r(e,t){var n=1-(1-e*t);return n>1?1:n}function s(e,t){var n=1-e*t;return n>1?1:n}var l=a.onBeforeRenderObservable.add((function(){if((i+=a.deltaTime)>=20)if(x)i=0,x=!0,a.onBeforeRenderObservable.remove(l);else if(i=0,e.physicsImpostor){var d=e.physicsImpostor.getLinearVelocity().y;if(o+1<=n){var u=r(t,o+1),p=-(y*u).toFixed(2);if(b&&d<=p){o++;(c*s(t,o)).toFixed(2);m(e,p+" m/s")}}}}))}function j(e){if(e.physicsImpostor){var t=e.physicsImpostor.getLinearVelocity().y;e.position.y;t>0&&(f=!0),f&&!b&&t<=.05&&(m(e,"0 m/s"),f=!1,b=!0)}}M(n),O(n),C(n,l,p),I(n,l,p);var A=a.onBeforeRenderObservable.add((function(){(v+=a.deltaTime)>=20&&(b?(v=0,b=!0,a.onBeforeRenderObservable.remove(A)):(v=0,j(e)))})),S=a.onBeforeRenderObservable.add((function(){(d+=a.deltaTime)>=1e3*l&&(++h<=u?(d=0,(c*(h/u)).toFixed(2),(s*(h/u)).toFixed(2),r):(h=0,d=0,a.onBeforeRenderObservable.remove(S)))}))}e.physicsImpostor.setLinearVelocity(i.scale(1.37*n),l.getAbsolutePosition()),u(e,s,.25)}function b(){s=(r/9.81).toFixed(2)}function g(){c=(r*s-s*s*9.81/2).toFixed(2)}function x(){(r*i).toFixed(2)}d.position.set(0,1,-.2),d.parent=l,m();var v=Mt.Button.CreateImageOnlyButton("but","images/pressme.png");v.color="transparent";var y=new Ut(.5,.33,!0,!0,a);y.setScaleToInPixels(300,160),y.displayPlane.position.set(0,.5,1),P.logicManager.AddTemporalGUI(y.displayPlane);var w=1;v.onPointerUpObservable.add((function(){switch(w){case 1:u(),w=2;break;case 2:h(),p(),m(),h(),w=1}})),y.addControl(v)}()})),M.addLogic((function(){P.logicManager.ClearAll()})),O.addLogic((function(){P.logicManager.ClearAll(),function(){var e=[],t=[],o=[],r=[],s=Ft(a,1,!0);s.displayPlane.position.copyFrom(P.displayPlane.position),s.displayPlane.position.x-=.3,s.displayPlane.position.y+=.5;var c=Lt(a,1,!0);c.displayPlane.position.copyFrom(P.displayPlane.position),c.displayPlane.position.x-=.3,c.displayPlane.position.z-=2.4,c.displayPlane.position.y+=.4,c.addFormulaImage("/images/equ1-4.png");var l=zt(a,1,!0);l.displayPlane.position.copyFrom(P.displayPlane.position),l.displayPlane.position.x-=.3,l.displayPlane.position.z+=2.4,l.displayPlane.position.y+=.4,P.logicManager.AddTemporalGUI(s.displayPlane),P.logicManager.AddTemporalGUI(c.displayPlane),P.logicManager.AddTemporalGUI(l.displayPlane),s.leftarrow.onPointerClickObservable.add((function(){--C<0&&C++,e[C]&&f.Start(C)})),s.rightarrow.onPointerClickObservable.add((function(){++C>e.length-1&&C--,e[C]&&f.Start(C)})),s.finalanswerButton.onPointerUpObservable.add((function(){var e;s.getIsCorrect()?(Nt(e="quiz_"+(C+1),i.getTimeValues().toString()),Rt(e).isCompleted=!0,Et(n.id),i.reset(),kt().isCompleted?(s.setIscompleted(!0),s.allcompletedPanel.show()):s.correctPanel.show()):(_t(e="quiz_"+(C+1)),Vt(e),Et(n.id),kt().isCompleted?(s.setIscompleted(!0),s.allcompletedPanel.show()):s.incorrectPanel.show())})),l.button2.onPointerUpObservable.add((function(){f.Reset(),i.reset()})),j.isRunning()||j.start();function d(){return Rt("quiz_"+(C+1)).isCompleted?" (Completada)":""}function u(){return Rt("quiz_"+(C+1)).errors}function p(){return kt().isCompleted?(j.pause(),h(j.getTimeValues().minutes)+":"+h(j.getTimeValues().seconds)+"\nSecci\xf3n de preguntas finalizada!"):h(j.getTimeValues().minutes)+":"+h(j.getTimeValues().seconds)}function h(e){return e<=9?"0"+e:e}a.onBeforeRenderObservable.add((function(){s.time_number.text="Tiempo: "+p(),s.error_number.text="Errores: "+u(),s.question_number.text="Pregunta: "+(C+1)+"/"+e.length+d()}));function m(){function n(n){t.push(n),e.push(n.quiz)}function d(t){s.loadquiz(e[t])}function u(e){C=e,t[e].Load_Models().then((function(n){h(),o=n,t[e].Load_Logic&&(t[e].Load_Logic(),d(e),i.reset())}))}function p(){u(C)}function h(){l.clearObservers(),l.clearItems(),c.clearViewData(),console.log("reseteando"),void 0!=r&&r.forEach((function(e){a.onBeforeRenderObservable.remove(e)})),void 0!=o&&o.forEach((function(e){Array.isArray(e)?e.forEach((function(e){return e.dispose()})):e.dispose()}))}return l.button2.onPointerUpObservable.add((function(){p()})),{addExercise:n,LoadQuiz:d,Start:u,Reset:p,ClearStuff:h}}var f=m(),b=new Xt("1. Si se lanza la bola a una velocidad inicial de 12 m/s, \xbfcual ser\xe1 su tiempo de subida?",["A) 1.00 segs","B) 1.22 segs","C) 12.00 segs","D) 9,8 segs"],1,["Tiempo = 3 Segundos","velocidad = 3m/s","Distancia recorrida: ?"]),g=new Xt("2. Si el tiempo de subida de una bola fue de 0.51 segundos, \xbfcual fue su velocidad inicial?",["A) 5.0 m/s","B) 1.5 m/s","C) 3 m/s","D) 10 m/s"],0,["none"]),x=new Xt("3. Si lanza la bola a una velocidad inicial de 7 m/s , \xbfcual ser\xe1 su altura maxima?",["A) 7 m","B) 7.5 m","C) 2.5 m","D) 5 m"],2,["none"]);new Xt("2. Si se deja caer un balon de futbol desde 3 metros de altura, \xbfcual ser\xe1 su velocidad al impactar el suelo?",["A","B","C","D"],2,["none"]),new Xt("3. Si una vola cae durante 3 segundos, \xbfcual ser\xe1 su velocidad al impactar el suelo?",["A","B","C","D"],3,["none"]);function v(){return y.apply(this,arguments)}function y(){return(y=Object(W.a)(G.a.mark((function e(){var t,n,o,i,r,s,c;return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=function(e,t,n,o){var i=e[t].getHierarchyBoundingVectors(),r=i.max.subtract(i.min),s=i.max.add(i.min).scale(.5);n.scaling.copyFrom(r),n.XRPickable=!0,n.visibility=0,n.physicsImpostor=new vt.PhysicsImpostor(n,o,{mass:3},a),n.position=s,e[t].setParent(n)},t=function(e,t){e.rotationQuaternion=new vt.Quaternion.RotationAxis(new vt.Vector3(0,1,0),t*(Math.PI/180))},o=[],e.next=5,vt.SceneLoader.ImportMeshAsync("","../3DModels/","cannonball.gltf",a);case 5:return i=e.sent,r=i.meshes,(s=new vt.StandardMaterial("wood",a)).diffuseTexture=new vt.Texture("../textures/cannon_tex.jpg",a),s.emissiveColor=new vt.Color4.FromHexString("#8C7853"),s.diffuseTexture.uScale=20,s.diffuseTexture.vScale=20,r[1].material=s,r[0].scaling.scaleInPlace(.15),r[0].position.set(-.5,.33,0),c=vt.MeshBuilder.CreateBox("cannon",{height:r[1].height,width:r[1].width,depth:r[1].depth},a),n(r,0,c,vt.PhysicsImpostor.BoxImpostor),t(c,90),o.push(r),o.push(c),P.logicManager.AddDisposableStuff(r),P.logicManager.AddDisposableStuff(c),e.abrupt("return",o);case 23:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function w(){var e=a.getMeshByName("cannon"),t=1,n=1,i=0,r=0,s=0,d=0,u=0,p=new vt.TransformNode("root");p.position.y=1,p.position.x=.3,p.parent=e;var h=[];function m(){h&&h.forEach((function(e){e.dispose()})),f(n)}function f(t){var l=vt.MeshBuilder.CreateSphere("ball",{segments:6,diameter:.2},a),m=new vt.StandardMaterial("ball_mat",a);m.diffuseColor=new vt.Color4.FromHexString("#04001A"),l.material=m,l.position=p.getAbsolutePosition();var f=p.getAbsolutePosition().subtract(e.getAbsolutePosition());function b(e,t,p){var m=0,f=Math.round(t/p),b=1/p-1,g=0;function x(e,t){var n=vt.MeshBuilder.CreateSphere("ghost_sphere",{segments:6,diameter:.1},a);function i(e){var n=vt.MeshBuilder.CreatePlane("plane",{height:.2,width:.5});n.parent=e,n.billboardMode=vt.Mesh.BILLBOARDMODE_ALL,n.position.y=.7;var a=Mt.AdvancedDynamicTexture.CreateForMesh(n,300,100),o=Mt.Button.CreateSimpleButton("but1","Sin datos");o.width=1,o.height=1,o.color="white",o.fontSize=50,o.fontStyle="bold",o.background="#00000066",o.textBlock.text=t.toString(),o.onPointerUpObservable.add((function(){})),a.addControl(o)}n.visibility=.5,n.position=e.position,o.push(n),h.push(n),P.logicManager.AddDisposableStuff(n),i(n)}var v=!1,y=!1,w=!1,M=!1,O=0,C=0,I=0;function j(e){e.physicsImpostor&&0==C&&(C=e.physicsImpostor.getLinearVelocity().y)}function A(e){e.physicsImpostor&&0==I&&(I=e.position.y)}function S(e,t,n){var o=0,i=0;function s(e,t){var n=1-e*t;return n>1?1:n}function c(e,t){var n=1-(1-e*t);return n>1?1:n}var l=a.onBeforeRenderObservable.add((function(){if((i+=a.deltaTime)>=20)if(w)i=0,w=!0,a.onBeforeRenderObservable.remove(l);else if(i=0,e.physicsImpostor){var d=e.physicsImpostor.getLinearVelocity().y;if(o+1<=n){var u=s(t,o+1),p=(C*u).toFixed(2);if(d<=p){o++;(r*c(t,o)).toFixed(2);x(e,p+" m/s")}}}}))}function B(e,t,n){var o=0,i=0;function s(e,t){var n=1-(1-e*t);return n>1?1:n}function c(e,t){var n=1-e*t;return n>1?1:n}var l=a.onBeforeRenderObservable.add((function(){if((i+=a.deltaTime)>=20)if(M)i=0,M=!0,a.onBeforeRenderObservable.remove(l);else if(i=0,e.physicsImpostor){var d=e.physicsImpostor.getLinearVelocity().y;if(o+1<=n){var u=s(t,o+1),p=-(C*u).toFixed(2);if(y&&d<=p){o++;(r*c(t,o)).toFixed(2);x(e,p+" m/s")}}}}))}function k(e){if(e.physicsImpostor){var t=e.physicsImpostor.getLinearVelocity().y;e.position.y;t>0&&(v=!0),v&&!y&&t<=.05&&(x(e,"0 m/s"),v=!1,y=!0)}}j(e),A(e),S(e,p,b),B(e,p,b);var T=a.onBeforeRenderObservable.add((function(){(O+=a.deltaTime)>=20&&(y?(O=0,y=!0,a.onBeforeRenderObservable.remove(T)):(O=0,k(l)))})),E=a.onBeforeRenderObservable.add((function(){(m+=a.deltaTime)>=1e3*p&&(++g<=f?(m=0,s=(r*(g/f)).toFixed(2),d=(i*(g/f)).toFixed(2),u=n,c.setViewData("altura maxima: "+s+" metros (m)\ntiempo de subida: "+d+" segs\nvelocidad: "+u+" m/s")):(g=0,m=0,a.onBeforeRenderObservable.remove(E)))}))}l.physicsImpostor=new vt.PhysicsImpostor(l,vt.PhysicsImpostor.SphereImpostor,{mass:1,friction:.5,restitution:.3},a),l.physicsImpostor.setLinearVelocity(f.scale(1.37*t),e.getAbsolutePosition()),window.setTimeout((function(){l&&l.dispose()}),5e3),b(l,i,.25)}function b(){i=(n/9.81).toFixed(2)}function g(){r=(n*i-i*i*9.81/2).toFixed(2)}function x(){(n*t).toFixed(2)}var v=function(e){n=Math.floor(10*e)/10,x(),b(),g()},y=function(e){return Math.floor(10*e)/10},w=new Mt.SliderGroup("Control de variables","S");w.addSlider("Velocidad inicial",v,"m/s",1,15,1,y),l.controlPanel.addGroup(w),l.controlPanel.heightInPixels=150;var M=l.button.onPointerUpObservable.add((function(){m()}));l.addObserver(M)}b.addLogic(w),b.addModels(v),g.addLogic(w),g.addModels(v),x.addLogic(w),x.addModels(v),f.addExercise(b),f.addExercise(g),f.addExercise(x),f.Start(C)}()}));var P=Dt(a,2);P.addCard(x),P.addCard(v),P.addCard(y),P.addCard(w),P.addCard(M),P.addCard(O),P.Start(0);var C=0;function I(){var e=[];function t(){return(t=Object(W.a)(G.a.mark((function t(){var n,o,i,r,s;return G.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=function(e,t,n,o){var i=e[t].getHierarchyBoundingVectors(),r=i.max.subtract(i.min),s=i.max.add(i.min).scale(.5);n.scaling.copyFrom(r),n.XRPickable=!0,n.visibility=0,n.physicsImpostor=new vt.PhysicsImpostor(n,o,{mass:3},a),n.position=s,e[t].setParent(n)},n=function(e,t){e.rotationQuaternion=new vt.Quaternion.RotationAxis(new vt.Vector3(0,1,0),t*(Math.PI/180))},t.next=4,vt.SceneLoader.ImportMeshAsync("","../3DModels/","colored apple.gltf",a);case 4:i=t.sent,(r=i.meshes)[0].scaling.scaleInPlace(.15),r[0].position.set(-1.5,10,0),s=vt.MeshBuilder.CreateBox("cannon",{height:r[1].height,width:r[1].width,depth:r[1].depth},a),o(r,0,s,vt.PhysicsImpostor.BoxImpostor),n(s,90),e.push(r),e.push(s),P.logicManager.AddDisposableStuff(r),P.logicManager.AddDisposableStuff(s);case 15:case"end":return t.stop()}}),t)})))).apply(this,arguments)}!function(){t.apply(this,arguments)}()}var j=new Ot.Timer;var A=new vt.AssetsManager(a);A.onFinish=function(){o.runRenderLoop((function(){a&&(window.document.title=o.getFps().toFixed()+" fps",a.render())}))},a.executeWhenReady((function(){(o.hideLoadingUI(),document.getElementById("xr-button"))&&document.getElementById("xr-button").addEventListener("click",Object(W.a)(G.a.mark((function e(){return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(p.baseExperience.state!==vt.WebXRState.NOT_IN_XR){e.next=7;break}return p.input.xrCamera.position=new vt.Vector3(-3,1,0),p.input.xrCamera.setTarget(vt.Vector3.Zero()),e.next=5,p.baseExperience.enterXRAsync("immersive-ar","local-floor");case 5:e.next=10;break;case 7:if(p.baseExperience.state!==vt.WebXRState.IN_XR){e.next=10;break}return e.next=10,p.baseExperience.exitXRAsync();case 10:case"end":return e.stop()}}),e)}))));document.getElementById("fullscreen-button")&&document.getElementById("fullscreen-button").addEventListener("click",Object(W.a)(G.a.mark((function e(){return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o.switchFullscreen(!1);case 1:case"end":return e.stop()}}),e)}))))})),A.load()}})}),Object(b.jsxs)(D.a,{align:"center",maxWidth:"sm",className:e.babylonbuttons,children:[Object(b.jsx)(C.a,{id:"xr-button",size:"medium",variant:"contained",color:"primary",children:Object(b.jsx)(N.a,{variant:"h6",children:"Entrar a modo XR"})}),Object(b.jsx)(C.a,{id:"fullscreen-button",m:.5,size:"medium",variant:"contained",color:"secondary",children:Object(b.jsx)(N.a,{variant:"h6",children:"pantalla completa"})})]})]})})}var Vn=En,_n=n.p+"static/media/card1.10966135.PNG",Dn=n.p+"static/media/card2.0a94d1ee.PNG",Fn=n.p+"static/media/card3.db6e80df.PNG",Ln=n.p+"static/media/card4.665751e5.PNG",zn=n.p+"static/media/card5.aab91096.PNG",Un=n.p+"static/media/card6.e8f3d1c9.PNG",Xn=n.p+"static/media/card7.5882385c.PNG",qn=n.p+"static/media/alert2.2455318f.png",Gn=n.p+"static/media/cardboard.ca4cc733.png",Wn=function(e){Object($e.a)(n,e);var t=Object(et.a)(n);function n(){return Object(Ye.a)(this,n),t.apply(this,arguments)}return Object(Je.a)(n,[{key:"render",value:function(){return Object(b.jsx)(xt,{data:Hn})}}]),n}(a.Component),Qn=Object(_.a)((function(e){return{imagebox:{height:"100%",width:"60%",display:"flex",flexDirection:"column"},card:{height:"100%",flexDirection:"column"},media:{height:400},babylonbuttons:{"& > *":{margin:e.spacing(1)}}}}));function Hn(){var e=Qn(),t=x().currentUser,n={id:"exercise_2_1",generalTime:"00:00",totalErrors:0,isCompleted:!1,quizes:{quiz_1:{id:"quiz_1",time:"00:00",errors:0,isCompleted:!1},quiz_2:{id:"quiz_2",time:"00:00",errors:0,isCompleted:!1},quiz_3:{id:"quiz_3",time:"00:00",errors:0,isCompleted:!1}}};St(t),Bt(n),Tt(n.id),It.start();return Object(b.jsx)(o.a.Fragment,{children:Object(b.jsxs)(D.a,{maxWidth:"xl",children:[Object(b.jsx)(F.a,{width:"100%",p:1,my:.5,children:Object(b.jsx)(wt,{onSceneMount:function(e){var t=e.canvas,a=e.scene,o=e.engine;o.displayLoadingUI();var i=new Ot.Timer,r=new vt.Vector3(-4,.82,0),s=new vt.Vector3(0,1,0),c=new vt.UniversalCamera("camera1",r,a);c.setTarget(s),c.attachControl(t,!1),c.speed=.7,c.angularSensibility=1200,c.inertia=.5,new vt.PointLight("point",new vt.Vector3(20,20,10),a).intensity=.9;var l=vt.MeshBuilder.CreateBox("SkyBox",{size:1e3},a),d=new vt.StandardMaterial("skyBox",a);d.backFaceCulling=!1,d.reflectionTexture=new vt.HDRCubeTexture("textures/lilienstein_4k.hdr",a,512),d.reflectionTexture.coordinatesMode=vt.Texture.SKYBOX_MODE,l.material=d,a.enablePhysics(new vt.Vector3(0,-9.81,0),new vt.AmmoJSPlugin);a.getPhysicsEngine();a.collisionsEnabled=!0,c.checkCollisions=!0,c.applyGravity=!0,c.ellipsoid=new vt.Vector3(.5,.8,.5);var u=Pt(a);u.checkCollisions=!0;var p={};function h(){return(h=Object(W.a)(G.a.mark((function e(){return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.createDefaultXRExperienceAsync({disableDefaultUI:!0,uiOptions:{sessionMode:"immersive-ar",referenceSpaceType:"local-floor"},inputOptions:{doNotLoadControllerMeshes:!1}});case 2:(p=e.sent).baseExperience.onStateChangedObservable.add((function(e){e==vt.WebXRState.ENTERING_XR&&(u.visibility=0,l.isVisible=!1),e==vt.WebXRState.NOT_IN_XR&&(u.visibility=1,l.isVisible=!0)}));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){h.apply(this,arguments)}();var m=Ct(vt,a);m.selectMode(0);var f=null,b=null,g=null;a.onPointerObservable.addOnce((function(e){e.type===vt.PointerEventTypes.POINTERMOVE&&i.start()})),a.onPointerObservable.add((function(e){f=e.pickInfo.pickedMesh,e.type===vt.PointerEventTypes.POINTERDOWN&&(e.pickInfo.pickedMesh&&e.pickInfo.pickedMesh.XRPickable&&(a.constantlyUpdateMeshUnderPointer=!0,g=!0,b=f,m.attachToMesh(b)),e.pickInfo.pickedMesh&&e.pickInfo.pickedMesh.nonXREditable,!e.pickInfo.pickedMesh||e.pickInfo.pickedMesh.XRPickable||e.pickInfo.pickedMesh.nonXREditable||(b=null,m.attachToMesh(null))),e.type===vt.PointerEventTypes.POINTERUP&&(a.constantlyUpdateMeshUnderPointer=!1,e.pickInfo.pickedMesh&&e.pickInfo.pickedMesh.XRPickable&&f.physicsImpostor&&(g=!1,f=null))})),a.onBeforePhysicsObservable.add((function(){g&&f&&f.XRPickable&&f.physicsImpostor&&(f.physicsImpostor._physicsBody.setLinearVelocity(0,0,0),f.physicsImpostor._physicsBody.setAngularVelocity(0,0,0))})),a.registerBeforeRender((function(){}));var x=new tn("card1",_n),v=new tn("card2",Dn),y=new tn("card3",Fn),w=new tn("card4",Ln),M=new tn("card5",zn),O=new tn("card5",Un),P=new tn("alert",qn),C=new tn("card5",Xn),I=new tn("exercises",Gn);x.addLogic((function(){j.logicManager.ClearAll()})),v.addLogic((function(){j.logicManager.ClearAll()})),y.addLogic((function(){j.logicManager.ClearAll()})),w.addLogic((function(){j.logicManager.ClearAll(),function(){var e=vt.Mesh.CreateSphere("sun",16,4,a);e.position=new vt.Vector3(0,0,0);var t=new vt.StandardMaterial("sunmaterial",a);e.material=t,e.material.emissiveColor=new vt.Color3(1,1,0),j.logicManager.AddDisposableStuff(e),e.parent=B;var n=new vt.PointLight("Omni0",e.position,a);n.diffuse=new vt.Color3(1,1,1),j.logicManager.AddDisposableStuff(n),n.parent=B;var o=vt.Mesh.CreateSphere("planet",16,2,a);o.parent=e,j.logicManager.AddDisposableStuff(o),o.parent=B;var i=new vt.StandardMaterial("planetSurface",a);i.diffuseTexture=new vt.Texture("textures/earth.jpg",a),o.material=i,o.material.diffuseColor=new vt.Color3(1,1,1),o.material.specularColor=new vt.Color3(0,0,0);var r=vt.Mesh.CreateSphere("moon",16,.7,a);r.translate(o.position,5,vt.Space.WORLD),r.parent=o,j.logicManager.AddDisposableStuff(r);for(var s=64,c=2/s,l=[],d=10,u=.7,p={x:0,y:0},h=0;h<s;h++)l.push(Math.PI*(c*h));var m=[];for(h=0;h<l.length;h++)m.push(new vt.Vector3(d*Math.cos(l[h])+p.x,0+p.y,d*u*Math.sin(l[h])+p.x));m.push(m[0]);var f=vt.MeshBuilder.CreateDashedLines("lines",{points:m,dashNb:500},a);j.logicManager.AddDisposableStuff(f),f.parent=B,d=5,m=[];for(h=0;h<l.length;h++)m.push(new vt.Vector3(d*Math.cos(l[h])+p.x,0+p.y,d*Math.sin(l[h])+p.x));m.push(m[0]);var b=vt.MeshBuilder.CreateDashedLines("lines2",{points:m,dashNb:500},a);function g(e,t,n,a,o,i,r){var s=new vt.TransformNode("root");j.logicManager.AddDisposableStuff(s);for(var c=[],l=.5,d=30,u=2*Math.PI/d,p=0;p<=d;p++)c.push(new vt.Vector3(l*Math.cos(p*u),l*Math.sin(p*u),0));c.push(c[0]);var h=1.5,m=1.5,f=10-h;t.normalize();var b=e.add(t.scale(f)),g=b.add(t.scale(h)),x=[];x.push(e),x.push(b),x.push(b),x.push(g);var v=function(e,t){switch(e){case 0:case 1:return 1;case 2:return m/l;case 3:return 0}},y=vt.MeshBuilder.ExtrudeShapeCustom("arrow",{shape:c,path:x,updatable:!0,scaleFunction:v,sideOrientation:vt.Mesh.DOUBLESIDE});j.logicManager.AddDisposableStuff(y);var w={},M=function(e,t,n,a){var o=n[3].subtract(n[2]).length(),i=n[3].subtract(n[0]).length()*a-o,r=n[0],c=n[1].subtract(n[0]);c.normalize();var l=r.add(c.scale(i)),d=l.add(c.scale(o));n[1]=l,n[2]=l,n[3]=d,vt.MeshBuilder.ExtrudeShapeCustom("arrow",{shape:t,path:n,scaleFunction:v,instance:e}),s.parent=e,s.position=n[2]};return M(y,c,x,a),i&&(y.scaling=k.multiplyByFloats(n,n,n)),{arrow:y,headArrow:s,button:w}}b.parent=o,j.logicManager.AddDisposableStuff(b);var x=g(new vt.Vector3(0,0,1),new vt.Vector3(0,0,1),.5,.5,"HOLA,",o,0),v=g(new vt.Vector3(0,0,1),new vt.Vector3(0,0,1),.5,.6,"HOLA,",e,0);function y(e,t,n){var o=vt.MeshBuilder.CreatePlane("planearrow",{width:2,height:2},a);o.nonXREditable=!0,o.parent=e,o.position=t,o.billboardMode=vt.Mesh.BILLBOARDMODE_ALL;var i=Mt.AdvancedDynamicTexture.CreateForMesh(o),r=Mt.Button.CreateSimpleButton("but1",n);return r.width=1,r.height=1,r.fontSize=500,r.fontStyle="bold",r.textBlock.color="white",r.color="transparent",r.onPointerUpObservable.add((function(){})),i.addControl(r),j.logicManager.AddDisposableStuff(o),o}y(o,new vt.Vector3(0,2,0),"M2"),y(e,new vt.Vector3(0,3,0),"M1"),y(x.headArrow,new vt.Vector3(0,2,0),"Fg"),y(v.headArrow,new vt.Vector3(0,2,0),"Fg");var w=0,M=a.onBeforeRenderObservable.add((function(){o.position=new vt.Vector3(10*Math.sin(w),o.parent.position.y,10*u*Math.cos(w)),r.position=new vt.Vector3(5*Math.sin(w),r.parent.position.y,5*Math.cos(w)),w+=.005,.05,x.arrow.position=o.getAbsolutePosition(),x.arrow.lookAt(e.getAbsolutePosition()),v.arrow.position=e.getAbsolutePosition(),v.arrow.lookAt(o.getAbsolutePosition())}));j.logicManager.AddObservables(M)}()})),M.addModels((function(){return T.apply(this,arguments)})),M.addLogic((function(){!function(){var e=[],t=i(),n=new Ut(1,.5,!0,!0,a),o=new Mt.Image("imagegrav","/images/imggrav.png");function i(){var e=new Mt.Grid;e.width=1,e.height=.5,e.verticalAlignment=Mt.Control.VERTICAL_ALIGNMENT_BOTTOM,e.addColumnDefinition(50,!0),e.addColumnDefinition(.3),e.addColumnDefinition(50,!0),e.addColumnDefinition(.3),e.addColumnDefinition(50,!0),e.addColumnDefinition(.3),e.addColumnDefinition(50,!0),e.addRowDefinition(1);var t=Mt.Button.CreateImageOnlyButton("but_1","/images/entierra.png");t.image.horizontalAlignment=Mt.Control.VERTICAL_ALIGNMENT_CENTER,t.color="white",t.background="white",e.addControl(t,0,1);var n=Mt.Button.CreateImageOnlyButton("but_1","/images/enluna.png");n.image.horizontalAlignment=Mt.Control.VERTICAL_ALIGNMENT_CENTER,n.color="white",n.background="white",e.addControl(n,0,3);var a=Mt.Button.CreateImageOnlyButton("but_1","/images/enespacio.png");return a.image.horizontalAlignment=Mt.Control.VERTICAL_ALIGNMENT_CENTER,a.color="white",a.background="white",e.addControl(a,0,5),{grid:e,button:t,button2:n,button3:a}}function r(){var n=a.getMeshByName("wood_box"),o=1,i=10,r=9.8,s=o,c=(x(s,i),f(new vt.Vector3(0,1.1,0),.2,"Masa:\n"+i+" Kg",n,i)),l=b(new vt.Vector3(-1,0,0),.2,i*r,n,null),d=g(n,new vt.Vector3(0,1.1,-1)),u=function(e){o=Math.floor(e),s=o,x(s,i)},p=function(e){return Math.floor(e)};new Mt.SliderGroup("Control de fuerza","S").addSlider("Fuerza",u,"N",0,20,o,p);var h=0,m=a.onBeforeRenderObservable.add((function(){a.deltaTime&&(h+=a.deltaTime),h>=100&&(h=0)}));function f(e,t,n,o,i){null==i||(o.physicsImpostor.mass=i);var r=vt.MeshBuilder.CreatePlane("planearrow",{width:1,height:1},a);r.nonXREditable=!0,r.rotation.y=Math.PI/180*90,r.parent=o,r.scaling=new vt.Vector3(t/o.scaling.x,t/o.scaling.y,t/o.scaling.z),r.position=e;var s=Mt.AdvancedDynamicTexture.CreateForMesh(r),c=2,l=Mt.Button.CreateSimpleButton("but1",n);return l.width=1,l.height=1,l.color="white",l.fontSize=300,l.background="green",l.onPointerUpObservable.add((function(){switch(c){case 1:d.open(),c=2;break;case 2:d.close(),c=1}})),s.addControl(l),l}function b(e,t,n,o,i){var r=vt.MeshBuilder.CreatePlane("planearrow",{width:1,height:1},a);r.nonXREditable=!0,r.rotation.y=Math.PI/180*90,r.parent=o,r.scaling=new vt.Vector3(t/o.scaling.x,t/o.scaling.y,t/o.scaling.z),r.position=e;var s=Mt.AdvancedDynamicTexture.CreateForMesh(r),c=Mt.Button.CreateSimpleButton("but1","Peso: \n"+n+" N");return c.width=1,c.height=1,c.color="white",c.fontSize=300,c.background="green",c.onPointerUpObservable.add((function(){})),s.addControl(c),c}function g(e,t){var n=vt.MeshBuilder.CreatePlane("planearrow",{width:1,height:1},a);n.nonXREditable=!0,n.rotation.y=Math.PI/180*90,n.parent=e,n.position=t;var o=Mt.AdvancedDynamicTexture.CreateForMesh(n,200,200),s=new Mt.StackPanel;s.width="220px",s.horizontalAlignment=Mt.Control.HORIZONTAL_ALIGNMENT_RIGHT,s.verticalAlignment=Mt.Control.VERTICAL_ALIGNMENT_CENTER,o.addControl(s);var d=new Mt.TextBlock;d.text="Editor de masa",d.height="30px",d.color="white",s.addControl(d);var u=new Mt.Slider;function p(){var e=[];e.push({frame:0,value:0}),e.push({frame:10,value:1});var t=new vt.Animation("scaleAnimationOpen","scaleX",30,vt.Animation.ANIMATIONTYPE_FLOAT,vt.Animation.ANIMATIONLOOPMODE_CONSTANT);t.setKeys(e);var n=new vt.BounceEase(1,4);n.setEasingMode(vt.EasingFunction.EASINGMODE_EASEOUT),t.setEasingFunction(n),a.beginDirectAnimation(s,[t],0,100,!1,1)}function h(){var e=[];e.push({frame:0,value:1}),e.push({frame:10,value:0});var t=new vt.Animation("scaleAnimation","scaleX",10,vt.Animation.ANIMATIONTYPE_FLOAT,vt.Animation.ANIMATIONLOOPMODE_CONSTANT);t.setKeys(e);var n=new vt.ExponentialEase(9.7);n.setEasingMode(vt.EasingFunction.EASINGMODE_EASEINOUT),t.setEasingFunction(n),a.beginDirectAnimation(s,[t],0,100,!1,1)}u.minimum=0,u.maximum=50,u.value=0,u.height="20px",u.width="200px",u.onValueChangedObservable.add((function(t){t=m(t),c.textBlock.text="Masa: \n"+t+" Kg",l.textBlock.text="Peso: \n"+(t*r).toFixed(2)+" N",e.physicsImpostor.mass=t,i=t})),s.addControl(u);var m=function(e){return Math.floor(e)};return{sliderplane:n,open:p,close:h}}e.push(m),t.button.onPointerUpObservable.add((function(){a.getPhysicsEngine().setGravity(new vt.Vector3(0,-9.81,0)),r=9.8,l.textBlock.text="Peso: \n"+(r*i).toFixed(2)+" N"})),t.button2.onPointerUpObservable.add((function(){a.getPhysicsEngine().setGravity(new vt.Vector3(0,-1.6,0)),r=1.6,l.textBlock.text="Peso: \n"+(r*i).toFixed(2)+" N"})),t.button3.onPointerUpObservable.add((function(){a.getPhysicsEngine().setGravity(new vt.Vector3(0,0,0)),r=0,l.textBlock.text="Peso: \n"+(r*i).toFixed(2)+" N"}));function x(e,t){return 0==t?0:e/t}}o.zIndex=-1,o.width=1,o.height=.47,o.verticalAlignment=Mt.Control.VERTICAL_ALIGNMENT_TOP,n.addControl(o),n.addControl(t.grid),n.displayPlane.position=new vt.Vector3(-.5,.5,-.7),j.logicManager.AddTemporalGUI(n.displayPlane),r()}()})),O.addLogic((function(){})),C.addLogic((function(){j.logicManager.ClearAll()})),I.addLogic((function(){j.logicManager.ClearAll(),function(){var e=[],t=[],o=[],r=[],l=Ft(a,1,!0);l.displayPlane.position.copyFrom(j.displayPlane.position),l.displayPlane.position.x-=.3,l.displayPlane.position.y+=.5,j.logicManager.AddTemporalGUI(l.displayPlane),l.leftarrow.onPointerClickObservable.add((function(){--A<0&&A++,e[A]&&f.Start(A)})),l.rightarrow.onPointerClickObservable.add((function(){++A>e.length-1&&A--,e[A]&&f.Start(A)})),l.finalanswerButton.onPointerUpObservable.add((function(){var e;l.getIsCorrect()?(Nt(e="quiz_"+(A+1),i.getTimeValues().toString()),Rt(e).isCompleted=!0,Et(n.id),i.reset(),kt().isCompleted?(l.setIscompleted(!0),l.allcompletedPanel.show()):l.correctPanel.show()):(_t(e="quiz_"+(A+1)),Vt(e),Et(n.id),kt().isCompleted?(l.setIscompleted(!0),l.allcompletedPanel.show()):l.incorrectPanel.show())})),E.isRunning()||E.start();function d(){return Rt("quiz_"+(A+1)).isCompleted?" (Completada)":""}function u(){return Rt("quiz_"+(A+1)).errors}function p(){return kt().isCompleted?(E.pause(),h(E.getTimeValues().minutes)+":"+h(E.getTimeValues().seconds)+"\nSecci\xf3n de preguntas finalizada!"):h(E.getTimeValues().minutes)+":"+h(E.getTimeValues().seconds)}function h(e){return e<=9?"0"+e:e}a.onBeforeRenderObservable.add((function(){l.time_number.text="Tiempo: "+p(),l.error_number.text="Errores: "+u(),l.question_number.text="Pregunta: "+(A+1)+"/"+e.length+d()}));function m(){function n(n){t.push(n),e.push(n.quiz)}function d(t){l.loadquiz(e[t])}function u(e){A=e,t[e].Load_Models().then((function(n){h(),o=n,t[e].Load_Logic&&(t[e].Load_Logic(),d(e),i.reset())}))}function p(){u(A),c.position=new vt.Vector3(-8,2,-3),c.setTarget(s)}function h(){console.log("reseteando"),void 0!=r&&r.forEach((function(e){a.onBeforeRenderObservable.remove(e)})),void 0!=o&&o.forEach((function(e){Array.isArray(e)?e.forEach((function(e){return e.dispose()})):e.dispose()}))}return{addExercise:n,LoadQuiz:d,Start:u,Reset:p,ClearStuff:h}}var f=m(),b=new Xt("1. \xbfcual es la magnitud fisica que se expresa la medida de interaccion mutua y simultanea entre dos cuerpos?",["A) La velocidad","B) La fuerza","C) La gravedad","D) La masa"],1,["Tiempo = 3 Segundos","velocidad = 3m/s","Distancia recorrida: ?"]),g=new Xt("2. \xbfen que unidad se expresa la masa de un objeto?",["A) Newtons (N)","B) m/s ","C) Kilogramo (kg)","D) 9.8m/s^2"],2,["Tiempo = 3 Segundos","velocidad = 3m/s","Distancia recorrida: ?"]),x=new Xt("3. \xbfCual de las siguientes opciones NO es una caracteristica del peso?",["A) Depende de la gravedad","B) Necesita direcci\xf3n","C) se mide en Newtons (N)","D) se mide en Kilogramos (Kg)"],3,["Tiempo = 3 Segundos","velocidad = 3m/s","Distancia recorrida: ?"]);function v(){return y.apply(this,arguments)}function y(){return(y=Object(W.a)(G.a.mark((function e(){var t;return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=[],e.abrupt("return",t);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function w(){}b.addLogic(w),b.addModels(v),g.addLogic(w),g.addModels(v),x.addLogic(w),x.addModels(v),f.addExercise(b),f.addExercise(g),f.addExercise(x),f.Start(A)}()}));var j=Dt(a,2);j.addCard(x),j.addCard(v),j.addCard(y),j.addCard(w),j.addCard(M),j.addCard(O),j.addCard(C),j.addCard(P),j.addCard(I),j.Start(0);var A=0,S=new vt.TransformNode("Root Container",a),B=new vt.TransformNode("Transform Container",a);B.parent=S;var k=B.scaling.scaleInPlace(.2);function T(){return(T=Object(W.a)(G.a.mark((function e(){var t,n,o;return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return function(e,t){e.rotationQuaternion=new vt.Quaternion.RotationAxis(new vt.Vector3(0,1,0),t*(Math.PI/180))},t=[],(n=new vt.StandardMaterial("wood",a)).diffuseTexture=new vt.Texture("../textures/crate.png",a),n.emissiveColor=new vt.Color3(.5,.5,.5),(o=vt.Mesh.CreateBox("wood_box",1,a)).scaling=new vt.Vector3(.4,.4,.4),o.position=new vt.Vector3(-.5,0,0),o.material=n,o.physicsImpostor=new vt.PhysicsImpostor(o,vt.PhysicsImpostor.BoxImpostor,{mass:5},a),o.XRPickable=!0,t.push(o),e.abrupt("return",t);case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}B.position.y=.4;var E=new Ot.Timer;var R=new vt.AssetsManager(a);R.onFinish=function(){o.runRenderLoop((function(){a&&(window.document.title=o.getFps().toFixed()+" fps",a.render())}))},a.executeWhenReady((function(){(o.hideLoadingUI(),document.getElementById("xr-button"))&&document.getElementById("xr-button").addEventListener("click",Object(W.a)(G.a.mark((function e(){return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(p.baseExperience.state!==vt.WebXRState.NOT_IN_XR){e.next=7;break}return p.input.xrCamera.position=new vt.Vector3(-3,1,0),p.input.xrCamera.setTarget(vt.Vector3.Zero()),e.next=5,p.baseExperience.enterXRAsync("immersive-ar","local-floor");case 5:e.next=10;break;case 7:if(p.baseExperience.state!==vt.WebXRState.IN_XR){e.next=10;break}return e.next=10,p.baseExperience.exitXRAsync();case 10:case"end":return e.stop()}}),e)}))));document.getElementById("fullscreen-button")&&document.getElementById("fullscreen-button").addEventListener("click",Object(W.a)(G.a.mark((function e(){return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o.switchFullscreen(!1);case 1:case"end":return e.stop()}}),e)}))))})),R.load()}})}),Object(b.jsxs)(D.a,{align:"center",maxWidth:"sm",className:e.babylonbuttons,children:[Object(b.jsx)(C.a,{id:"xr-button",size:"medium",variant:"contained",color:"primary",children:Object(b.jsx)(N.a,{variant:"h6",children:"Entrar a modo XR"})}),Object(b.jsx)(C.a,{id:"fullscreen-button",m:.5,size:"medium",variant:"contained",color:"secondary",children:Object(b.jsx)(N.a,{variant:"h6",children:"pantalla completa"})})]})]})})}var Zn=Wn,Kn=n.p+"static/media/card1.a019a2cf.PNG",Yn=n.p+"static/media/card2.f92f0dad.PNG",Jn=n.p+"static/media/card3.439f1ca4.PNG",$n=n.p+"static/media/alert2.2455318f.png",ea=n.p+"static/media/cardboard.ca4cc733.png",ta=function(e){Object($e.a)(n,e);var t=Object(et.a)(n);function n(){return Object(Ye.a)(this,n),t.apply(this,arguments)}return Object(Je.a)(n,[{key:"render",value:function(){return Object(b.jsx)(xt,{data:aa})}}]),n}(a.Component),na=Object(_.a)((function(e){return{imagebox:{height:"100%",width:"60%",display:"flex",flexDirection:"column"},card:{height:"100%",flexDirection:"column"},media:{height:400},babylonbuttons:{"& > *":{margin:e.spacing(1)}}}}));function aa(){var e=na(),t=x().currentUser,n={id:"exercise_2_2",generalTime:"00:00",totalErrors:0,isCompleted:!1,quizes:{quiz_1:{id:"quiz_1",time:"00:00",errors:0,isCompleted:!1},quiz_2:{id:"quiz_2",time:"00:00",errors:0,isCompleted:!1},quiz_3:{id:"quiz_3",time:"00:00",errors:0,isCompleted:!1}}};St(t),Bt(n),Tt(n.id),It.start();return Object(b.jsx)(o.a.Fragment,{children:Object(b.jsxs)(D.a,{maxWidth:"xl",children:[Object(b.jsx)(F.a,{width:"100%",p:1,my:.5,children:Object(b.jsx)(wt,{onSceneMount:function(e){var t=e.canvas,a=e.scene,o=e.engine;o.displayLoadingUI();var i=new Ot.Timer,r=new vt.Vector3(-4,1.5,0),s=new vt.Vector3(0,1,0),c=new vt.UniversalCamera("camera1",r,a);c.setTarget(s),c.attachControl(t,!1),c.speed=.7,c.angularSensibility=1200,c.inertia=.5,new vt.HemisphericLight("light1",new vt.Vector3(0,1,0),a).intensity=.7;var l=vt.MeshBuilder.CreateBox("SkyBox",{size:1e3},a),d=new vt.StandardMaterial("skyBox",a);d.backFaceCulling=!1,d.reflectionTexture=new vt.HDRCubeTexture("textures/lilienstein_4k.hdr",a,512),d.reflectionTexture.coordinatesMode=vt.Texture.SKYBOX_MODE,d.diffuseColor=new vt.Color3(0,0,0),d.specularColor=new vt.Color3(0,0,0),d.disableLighting=!0,l.material=d,a.enablePhysics(new vt.Vector3(0,-9.81,0),new vt.AmmoJSPlugin);a.getPhysicsEngine();a.collisionsEnabled=!0,c.checkCollisions=!0,c.applyGravity=!0,c.ellipsoid=new vt.Vector3(1,.8,1);var u=Pt(a);u.checkCollisions=!0;var p={};function h(){return(h=Object(W.a)(G.a.mark((function e(){return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.createDefaultXRExperienceAsync({disableDefaultUI:!0,uiOptions:{sessionMode:"immersive-ar",referenceSpaceType:"local-floor"},inputOptions:{doNotLoadControllerMeshes:!1}});case 2:(p=e.sent).baseExperience.onStateChangedObservable.add((function(e){e==vt.WebXRState.ENTERING_XR&&(u.visibility=0,l.isVisible=!1),e==vt.WebXRState.NOT_IN_XR&&(u.visibility=1,l.isVisible=!0)}));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){h.apply(this,arguments)}();var m=Ct(vt,a);m.selectMode(0);var f=null,b=null,g=null;a.onPointerObservable.addOnce((function(e){e.type===vt.PointerEventTypes.POINTERMOVE&&i.start()})),a.onPointerObservable.add((function(e){f=e.pickInfo.pickedMesh,e.type===vt.PointerEventTypes.POINTERDOWN&&(e.pickInfo.pickedMesh&&e.pickInfo.pickedMesh.XRPickable&&(a.constantlyUpdateMeshUnderPointer=!0,g=!0,b=f,m.attachToMesh(b)),e.pickInfo.pickedMesh&&e.pickInfo.pickedMesh.nonXREditable,!e.pickInfo.pickedMesh||e.pickInfo.pickedMesh.XRPickable||e.pickInfo.pickedMesh.nonXREditable||(b=null,m.attachToMesh(null))),e.type===vt.PointerEventTypes.POINTERUP&&(a.constantlyUpdateMeshUnderPointer=!1,e.pickInfo.pickedMesh&&e.pickInfo.pickedMesh.XRPickable&&f.physicsImpostor&&(g=!1,f=null))})),a.onBeforePhysicsObservable.add((function(){g&&f&&f.XRPickable&&f.physicsImpostor&&(f.physicsImpostor._physicsBody.setLinearVelocity(0,0,0),f.physicsImpostor._physicsBody.setAngularVelocity(0,0,0))})),a.registerBeforeRender((function(){}));var x=new tn("card1",Kn),v=new tn("card2",Yn),y=new tn("card3",Jn),w=new tn("alert",$n),M=new tn("card4",ea);x.addLogic((function(){O.logicManager.ClearAll()})),v.addLogic((function(){O.logicManager.ClearAll(),function(){var e,t,n,o,i=[],r=new vt.Vector3(0,0,-.5),s=new vt.Vector3(0,0,-1),c=new vt.Vector3(0,0,.5),l=new vt.Vector3(0,0,1),d=new vt.Vector3(0,0,1),u=5,p=vt.Vector3.Zero(),h=15,m=8,f=h,b=A(f,m),g="?";function x(){return v.apply(this,arguments)}function v(){return v=Object(W.a)(G.a.mark((function e(){var t,n,o,r,s,c,l,d,u;return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=function(e,t,n,o){var i=e[t].getHierarchyBoundingVectors(),r=i.max.subtract(i.min),s=i.max.add(i.min).scale(.5);n.scaling.copyFrom(r),n.XRPickable=!0,n.visibility=0,n.physicsImpostor=new vt.PhysicsImpostor(n,o,{mass:5},a),n.position=s,e[t].setParent(n)},t=function(e,t){e.rotationQuaternion=new vt.Quaternion.RotationAxis(new vt.Vector3(0,1,0),t*(Math.PI/180))},e.next=4,vt.SceneLoader.ImportMeshAsync("","../3DModels/","stickman.gltf",a);case 4:o=e.sent,(r=o.meshes)[0].scaling.scaleInPlace(.05),r[0].position.set(-.5,.33,0),s=vt.MeshBuilder.CreateBox("stickman2",{height:r[1].height,width:r[1].width,depth:r[1].depth},a),n(r,0,s,vt.PhysicsImpostor.BoxImpostor),s.physicsImpostor.friction=1,t(s,180),(c=new vt.StandardMaterial("redcolor",a)).diffuseColor=new vt.Color3.Red,r[1].material=c,i.push(r),i.push(s),O.logicManager.AddDisposableStuff(r),O.logicManager.AddDisposableStuff(s),(l=new vt.StandardMaterial("wood",a)).diffuseTexture=new vt.Texture("../textures/crate.png",a),l.emissiveColor=new vt.Color3(.5,.5,.5),(d=vt.Mesh.CreateBox("wood_box_2",1,a)).scaling=new vt.Vector3(.4,.4,.4),d.position=new vt.Vector3(-.5,0,0),d.material=l,d.physicsImpostor=new vt.PhysicsImpostor(d,vt.PhysicsImpostor.BoxImpostor,{mass:5},a),d.XRPickable=!0,(u=vt.MeshBuilder.CreateBox("tope",{width:.4,height:.4,depth:2},a)).scaling=new vt.Vector3(.4,.4,.4),u.position=new vt.Vector3(-.5,0,-1.1),t(u,90),u.physicsImpostor=new vt.PhysicsImpostor(u,vt.PhysicsImpostor.BoxImpostor,{mass:100},a),u.physicsImpostor.friction=1,i.push(d),i.push(u),O.logicManager.AddDisposableStuff(d),O.logicManager.AddDisposableStuff(u);case 38:case"end":return e.stop()}}),e)}))),v.apply(this,arguments)}function y(){x().then((function(){e=a.getMeshByName("wood_box_2"),t=a.getMeshByName("stickman2"),n=P(r,s,.02,2,+h+" N",90,e,h),P(c,l,.02,2,+h+" N",-90,t,h),C(new vt.Vector3(0,1.1,0),.15,m+" Kg",e,m),(o=I(new vt.Vector3(-1,0,0),.1,"?",e,null)).onPointerUpObservable.add((function(){g="?",o.textBlock.text=g+" m/s^2"})),n.button.onPointerUpObservable.add((function(){g=A(h,m).toFixed(3).toString(),o.textBlock.text=g+" m/s^2",h.toFixed(3).toString()}))}))}function w(){g=b.toFixed(3).toString(),o.textBlock.text=g+" m/s^2",f.toFixed(3).toString(),t=a.getMeshByName("stickman2"),n.activate(),t.physicsImpostor&&t.physicsImpostor.applyImpulse(j(t,d).scale(u),t.getAbsolutePosition().add(p))}function M(){i.length>0&&i.forEach((function(e){Array.isArray(e)?e.forEach((function(e){return e.dispose()})):e.dispose()})),i=[]}y();function P(e,t,n,o,i,r,s,c){new vt.TransformNode("root");for(var l=[],d=.5,u=30,p=2*Math.PI/u,h=0;h<=u;h++)l.push(new vt.Vector3(d*Math.cos(h*p),d*Math.sin(h*p),0));l.push(l[0]);var m=1.5,f=1.5,b=10-m;t.normalize();var g=e.add(t.scale(b)),x=g.add(t.scale(m)),v=[];v.push(e),v.push(g),v.push(g),v.push(x);var y=function(e,t){switch(e){case 0:case 1:return 1;case 2:return f/d;case 3:return 0}},w=vt.MeshBuilder.ExtrudeShapeCustom("arrow",{shape:l,path:v,updatable:!0,scaleFunction:y,sideOrientation:vt.Mesh.DOUBLESIDE},a),M={},O=function(e,t,n,o){var c=n[3].subtract(n[2]).length(),l=n[3].subtract(n[0]).length()*o-c,d=n[0],u=n[1].subtract(n[0]);u.normalize();var p=d.add(u.scale(l)),h=p.add(u.scale(c));n[1]=p,n[2]=p,n[3]=h,vt.MeshBuilder.ExtrudeShapeCustom("arrow",{shape:t,path:n,scaleFunction:y,instance:e},a);var m=p;m.x=m.x/2,m.y=m.y/2,m.z=m.z/2;var f=vt.MeshBuilder.CreatePlane("planearrow",{width:3,height:3},a);f.nonXREditable=!0,f.rotation.y=r*(Math.PI/180),f.parent=e,f.scalingDeterminant=o,f.position=m,f.position.y=2*o;var b=Mt.AdvancedDynamicTexture.CreateForMesh(f);(M=Mt.Button.CreateSimpleButton("but1",i)).width=3,M.height=3,M.color="white",M.fontSize=400,M.background="green",M.onPointerUpObservable.add((function(){S(s)})),b.addControl(M)},P=t,C=c,I=vt.Vector3.Zero(),j=function(e,t){var n=new vt.Matrix;return e.rotationQuaternion.toRotationMatrix(n),vt.Vector3.TransformNormal(t,n)},A=function(e){C=e},S=function(e){e.physicsImpostor.applyImpulse(j(e,P).scale(C),e.getAbsolutePosition().add(I))};function B(){S(s)}return O(w,l,v,o),s&&(w.parent=s,w.scaling=new vt.Vector3(n/s.scaling.x,n/s.scaling.y,n/s.scaling.z),w.position=e),{activate:B,button:M,editForce:A}}function C(e,t,n,o,i){null==i||(o.physicsImpostor.mass=i);var r=vt.MeshBuilder.CreatePlane("planearrow",{width:1,height:1},a);r.nonXREditable=!0,r.rotation.y=Math.PI/180*90,r.parent=o,r.scaling=new vt.Vector3(t/o.scaling.x,t/o.scaling.y,t/o.scaling.z),r.position=e;var s=Mt.AdvancedDynamicTexture.CreateForMesh(r),c=Mt.Button.CreateSimpleButton("but1",n);return c.width=1,c.height=1,c.color="white",c.fontSize=300,c.background="green",c.onPointerUpObservable.add((function(){})),s.addControl(c),c}function I(e,t,n,o,i){var r=vt.MeshBuilder.CreatePlane("planearrow",{width:1,height:1},a);r.nonXREditable=!0,r.rotation.y=Math.PI/180*90,r.parent=o,r.scaling=new vt.Vector3(t/o.scaling.x,t/o.scaling.y,t/o.scaling.z),r.position=e;var s=Mt.AdvancedDynamicTexture.CreateForMesh(r),c=Mt.Button.CreateSimpleButton("but1",n+" m/s^2");return c.width=1,c.height=1,c.color="white",c.fontSize=300,c.background="green",c.onPointerUpObservable.add((function(){})),s.addControl(c),c}var j=function(e,t){var n=new vt.Matrix;return e.rotationQuaternion.toRotationMatrix(n),vt.Vector3.TransformNormal(t,n)};function A(e,t){return 0==t?0:e/t}var S=Mt.Button.CreateImageOnlyButton("but","images/pressme.png");S.color="transparent";var B=new Ut(.5,.3,!0,!0,a);B.addControl(S),B.setScaleToInPixels(300,160),B.displayPlane.position.set(-.25,.5,.5),O.logicManager.AddTemporalGUI(B.displayPlane);var k=1;S.onPointerUpObservable.add((function(){switch(k){case 1:w(),k=2;break;case 2:M(),y(),k=1}}))}()})),y.addLogic((function(){O.logicManager.ClearAll(),function(){var e,t,n,o=[],i=new vt.Vector3(0,0,-.5),r=new vt.Vector3(0,0,-1),s=(new vt.Vector3(0,0,1),vt.Vector3.Zero(),15),c=8,l=s,d=y(l,c),u="?";function p(){return h.apply(this,arguments)}function h(){return h=Object(W.a)(G.a.mark((function e(){var t,n,i,r,s,c,l,d;return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=function(e,t,n,o){var i=e[t].getHierarchyBoundingVectors(),r=i.max.subtract(i.min),s=i.max.add(i.min).scale(.5);n.scaling.copyFrom(r),n.XRPickable=!0,n.visibility=0,n.physicsImpostor=new vt.PhysicsImpostor(n,o,{mass:5,friction:10},a),n.position=s,e[t].setParent(n)},t=function(e,t){e.rotationQuaternion=new vt.Quaternion.RotationAxis(new vt.Vector3(0,1,0),t*(Math.PI/180))},e.next=4,vt.SceneLoader.ImportMeshAsync("","../3DModels/","stickman.gltf",a);case 4:i=e.sent,(r=i.meshes)[0].scaling.scaleInPlace(.05),r[0].position.set(-.5,.33,0),s=vt.MeshBuilder.CreateBox("stickman",{height:r[1].height,width:r[1].width,depth:r[1].depth},a),n(r,0,s,vt.PhysicsImpostor.BoxImpostor),t(s,180),(c=new vt.StandardMaterial("redcolor",a)).diffuseColor=new vt.Color3.Red,r[1].material=c,o.push(r),o.push(s),O.logicManager.AddDisposableStuff(r),O.logicManager.AddDisposableStuff(s),(l=new vt.StandardMaterial("wood",a)).diffuseTexture=new vt.Texture("../textures/crate.png",a),l.emissiveColor=new vt.Color3(.5,.5,.5),(d=vt.Mesh.CreateBox("wood_box_1",1,a)).scaling=new vt.Vector3(.4,.4,.4),d.position=new vt.Vector3(-.5,0,0),d.material=l,d.physicsImpostor=new vt.PhysicsImpostor(d,vt.PhysicsImpostor.BoxImpostor,{mass:5},a),d.XRPickable=!0,o.push(d),O.logicManager.AddDisposableStuff(d);case 29:case"end":return e.stop()}}),e)}))),h.apply(this,arguments)}function m(){p().then((function(){e=a.getMeshByName("wood_box_1"),t=g(i,r,.02,2,+s+" N",e,s),x(new vt.Vector3(0,1.1,0),.15,c+" Kg",e,c),(n=v(new vt.Vector3(-1,0,0),.1,"?",e,null)).onPointerUpObservable.add((function(){u="?",n.textBlock.text=u+" m/s^2"})),t.button.onPointerUpObservable.add((function(){u=y(s,c).toFixed(3).toString(),n.textBlock.text=u+" m/s^2",s.toFixed(3).toString()}))}))}function f(){o.length>0&&o.forEach((function(e){Array.isArray(e)?e.forEach((function(e){return e.dispose()})):e.dispose()})),o=[]}function b(){u=d.toFixed(3).toString(),n.textBlock.text=u+" m/s^2",l.toFixed(3).toString(),t.activate()}m();function g(e,t,n,o,i,r,s){new vt.TransformNode("root");for(var c=[],l=.5,d=30,u=2*Math.PI/d,p=0;p<=d;p++)c.push(new vt.Vector3(l*Math.cos(p*u),l*Math.sin(p*u),0));c.push(c[0]);var h=1.5,m=1.5,f=10-h;t.normalize();var b=e.add(t.scale(f)),g=b.add(t.scale(h)),x=[];x.push(e),x.push(b),x.push(b),x.push(g);var v=function(e,t){switch(e){case 0:case 1:return 1;case 2:return m/l;case 3:return 0}},y=vt.MeshBuilder.ExtrudeShapeCustom("arrow",{shape:c,path:x,updatable:!0,scaleFunction:v,sideOrientation:vt.Mesh.DOUBLESIDE},a),w={},M=function(e,t,n,o){var s=n[3].subtract(n[2]).length(),c=n[3].subtract(n[0]).length()*o-s,l=n[0],d=n[1].subtract(n[0]);d.normalize();var u=l.add(d.scale(c)),p=u.add(d.scale(s));n[1]=u,n[2]=u,n[3]=p,vt.MeshBuilder.ExtrudeShapeCustom("arrow",{shape:t,path:n,scaleFunction:v,instance:e});var h=u;h.x=h.x/2,h.y=h.y/2,h.z=h.z/2;var m=vt.MeshBuilder.CreatePlane("planearrow",{width:3,height:3},a);m.nonXREditable=!0,m.rotation.y=Math.PI/180*90,m.parent=e,m.scalingDeterminant=o,m.position=h,m.position.y=2*o;var f=Mt.AdvancedDynamicTexture.CreateForMesh(m);(w=Mt.Button.CreateSimpleButton("but1",i)).width=3,w.height=3,w.color="white",w.fontSize=400,w.background="green",w.onPointerUpObservable.add((function(){A(r)})),f.addControl(w)},O=t,P=s,C=vt.Vector3.Zero(),I=function(e,t){var n=new vt.Matrix;return e.rotationQuaternion.toRotationMatrix(n),vt.Vector3.TransformNormal(t,n)},j=function(e){P=e},A=function(e){e.physicsImpostor.applyImpulse(I(e,O).scale(P),e.getAbsolutePosition().add(C))};function S(){A(r)}return M(y,c,x,o),r&&(y.parent=r,y.scaling=new vt.Vector3(n/r.scaling.x,n/r.scaling.y,n/r.scaling.z),y.position=e),{activate:S,button:w,editForce:j}}function x(e,t,n,o,i){null==i||(o.physicsImpostor.mass=i);var r=vt.MeshBuilder.CreatePlane("planearrow",{width:1,height:1},a);r.nonXREditable=!0,r.rotation.y=Math.PI/180*90,r.parent=o,r.scaling=new vt.Vector3(t/o.scaling.x,t/o.scaling.y,t/o.scaling.z),r.position=e;var s=Mt.AdvancedDynamicTexture.CreateForMesh(r),c=Mt.Button.CreateSimpleButton("but1",n);return c.width=1,c.height=1,c.color="white",c.fontSize=300,c.background="green",c.onPointerUpObservable.add((function(){})),s.addControl(c),c}function v(e,t,n,o,i){var r=vt.MeshBuilder.CreatePlane("planearrow",{width:1,height:1},a);r.nonXREditable=!0,r.rotation.y=Math.PI/180*90,r.parent=o,r.scaling=new vt.Vector3(t/o.scaling.x,t/o.scaling.y,t/o.scaling.z),r.position=e;var s=Mt.AdvancedDynamicTexture.CreateForMesh(r),c=Mt.Button.CreateSimpleButton("but1",n+" m/s^2");return c.width=1,c.height=1,c.color="white",c.fontSize=300,c.background="green",c.onPointerUpObservable.add((function(){})),s.addControl(c),c}function y(e,t){return 0==t?0:e/t}var w=Mt.Button.CreateImageOnlyButton("but","images/pressme.png");w.color="transparent";var M=new Ut(.5,.3,!0,!0,a);M.addControl(w),M.setScaleToInPixels(300,160),M.displayPlane.position.set(-.25,.5,.5),O.logicManager.AddTemporalGUI(M.displayPlane);var P=1;w.onPointerUpObservable.add((function(){switch(P){case 1:b(),P=2;break;case 2:f(),m(),P=1}}))}()})),w.addLogic((function(){O.logicManager.ClearAll()})),M.addLogic((function(){O.logicManager.ClearAll(),function(){var e=[],t=[],o=[],r=[],s=Ft(a,1,!0);s.displayPlane.position.copyFrom(O.displayPlane.position),s.displayPlane.position.x-=.3,s.displayPlane.position.y+=.5;var c=Lt(a,1,!0);c.displayPlane.position.copyFrom(O.displayPlane.position),c.displayPlane.position.x-=.3,c.displayPlane.position.z-=2.4,c.displayPlane.position.y+=.4;var l=zt(a,1,!0);l.displayPlane.position.copyFrom(O.displayPlane.position),l.displayPlane.position.x-=.3,l.displayPlane.position.z+=2.4,l.displayPlane.position.y+=.4,c.addFormulaImage("/images/equ2-1.png"),O.logicManager.AddTemporalGUI(s.displayPlane),O.logicManager.AddTemporalGUI(c.displayPlane),O.logicManager.AddTemporalGUI(l.displayPlane),s.leftarrow.onPointerClickObservable.add((function(){--P<0&&P++,e[P]&&f.Start(P)})),s.rightarrow.onPointerClickObservable.add((function(){++P>e.length-1&&P--,e[P]&&f.Start(P)})),s.finalanswerButton.onPointerUpObservable.add((function(){var e;s.getIsCorrect()?(Nt(e="quiz_"+(P+1),i.getTimeValues().toString()),Rt(e).isCompleted=!0,Et(n.id),i.reset(),kt().isCompleted?(s.setIscompleted(!0),s.allcompletedPanel.show()):s.correctPanel.show()):(_t(e="quiz_"+(P+1)),Vt(e),Et(n.id),kt().isCompleted?(s.setIscompleted(!0),s.allcompletedPanel.show()):s.incorrectPanel.show())})),l.button2.onPointerUpObservable.add((function(){f.Reset(),i.reset()})),j.isRunning()||j.start();function d(){return Rt("quiz_"+(P+1)).isCompleted?" (Completada)":""}function u(){return Rt("quiz_"+(P+1)).errors}function p(){return kt().isCompleted?(j.pause(),h(j.getTimeValues().minutes)+":"+h(j.getTimeValues().seconds)+"\nSecci\xf3n de preguntas finalizada!"):h(j.getTimeValues().minutes)+":"+h(j.getTimeValues().seconds)}function h(e){return e<=9?"0"+e:e}a.onBeforeRenderObservable.add((function(){s.time_number.text="Tiempo: "+p(),s.error_number.text="Errores: "+u(),s.question_number.text="Pregunta: "+(P+1)+"/"+e.length+d()}));function m(){function n(n){t.push(n),e.push(n.quiz)}function d(t){s.loadquiz(e[t])}function u(e){P=e,t[e].Load_Models().then((function(n){h(),o=n,t[e].Load_Logic&&(t[e].Load_Logic(),d(e),i.reset())}))}function p(){u(P)}function h(){l.clearObservers(),l.clearItems(),c.clearViewData(),console.log("reseteando"),void 0!=r&&r.forEach((function(e){a.onBeforeRenderObservable.remove(e)})),void 0!=o&&o.forEach((function(e){Array.isArray(e)?e.forEach((function(e){return e.dispose()})):e.dispose()}))}return l.button2.onPointerUpObservable.add((function(){p()})),{addExercise:n,LoadQuiz:d,Start:u,Reset:p,ClearStuff:h}}var f=m(),b=new Xt("1.- \xbfCual de las siguientes combinaciones de fuerzas har\xe1 que la caja se quede en reposo?",["A) -8N, +10N","B) -5N, +5N","C) -5N, +3N","D) -7N, +9N"],1,[""]),g=new Xt("2.- \xbfCual de la siguiente suma de fuerzas har\xe1 que la caja se mueva hacia adelante?",["A) +2N, +10N","B) +5N, +6N","C) +8N, +12N","D) +1N, +11N"],2,["NOTA: recuerda que necesitas sumar todas las fuerzas."]),x=new Xt("3.- \xbfCual de las siguientes combinaciones de fuerzas har\xe1 que el auto retroceda?",["A) -8N, +3N","B) -7N, +9N","C) -5N, 12N","D) -3N, +8N"],0,["NOTA: recuerda que necesitas sumar todas las fuerzas."]);function v(){return y.apply(this,arguments)}function y(){return y=Object(W.a)(G.a.mark((function e(){var t,n,o,i,r,s;return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=function(e,t,n,o){var i=e[t].getHierarchyBoundingVectors(),r=i.max.subtract(i.min),s=i.max.add(i.min).scale(.5);n.scaling.copyFrom(r),n.XRPickable=!0,n.visibility=0,n.physicsImpostor=new vt.PhysicsImpostor(n,o,{mass:25},a),n.position=s,e[t].setParent(n)},t=function(e,t){e.rotationQuaternion=new vt.Quaternion.RotationAxis(new vt.Vector3(0,1,0),t*(Math.PI/180))},o=[],e.next=5,vt.SceneLoader.ImportMeshAsync("","../3DModels/","bluecar.glb",a);case 5:return i=e.sent,(r=i.meshes)[0].scaling.scaleInPlace(.1),r[0].position.set(-.5,.33,0),s=vt.MeshBuilder.CreateBox("carBox1",{height:r[1].height,width:r[1].width,depth:r[1].depth},a),n(r,0,s,vt.PhysicsImpostor.BoxImpostor),t(s,180),o.push(r),o.push(s),O.logicManager.AddDisposableStuff(r),O.logicManager.AddDisposableStuff(s),e.abrupt("return",o);case 17:case"end":return e.stop()}}),e)}))),y.apply(this,arguments)}function w(){return M.apply(this,arguments)}function M(){return M=Object(W.a)(G.a.mark((function e(){var t,n,o;return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return function(e,t){e.rotationQuaternion=new vt.Quaternion.RotationAxis(new vt.Vector3(0,1,0),t*(Math.PI/180))},t=[],(n=new vt.StandardMaterial("wood",a)).diffuseTexture=new vt.Texture("../textures/crate.png",a),n.emissiveColor=new vt.Color3(.5,.5,.5),(o=vt.Mesh.CreateBox("wood_box",1,a)).scaling=new vt.Vector3(.4,.4,.4),o.position=new vt.Vector3(-.5,0,0),o.material=n,o.physicsImpostor=new vt.PhysicsImpostor(o,vt.PhysicsImpostor.BoxImpostor,{mass:5},a),o.XRPickable=!0,t.push(o),O.logicManager.AddDisposableStuff(o),e.abrupt("return",t);case 14:case"end":return e.stop()}}),e)}))),M.apply(this,arguments)}function C(){return I.apply(this,arguments)}function I(){return I=Object(W.a)(G.a.mark((function e(){var t,n,o;return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return function(e,t){e.rotationQuaternion=new vt.Quaternion.RotationAxis(new vt.Vector3(0,1,0),t*(Math.PI/180))},t=[],(n=new vt.StandardMaterial("metal",a)).diffuseTexture=new vt.Texture("../textures/metal_crate.png",a),n.emissiveColor=new vt.Color3(.5,.5,.5),(o=vt.Mesh.CreateBox("metal_box",1,a)).scaling=new vt.Vector3(.4,.4,.4),o.position=new vt.Vector3(-.5,0,0),o.material=n,o.physicsImpostor=new vt.PhysicsImpostor(o,vt.PhysicsImpostor.BoxImpostor,{mass:5},a),o.XRPickable=!0,t.push(o),O.logicManager.AddDisposableStuff(o),e.abrupt("return",t);case 14:case"end":return e.stop()}}),e)}))),I.apply(this,arguments)}function A(){var e=a.getMeshByName("wood_box"),t=new vt.Vector3(0,0,-1.5),n=new vt.Vector3(0,0,1),o=new vt.Vector3(0,0,1.5),i=new vt.Vector3(0,0,-1),s=1,d=2,u=8,p=s-d;function h(){return p=s-d}B(p,u);var m="?",f="?",b=u,g=j(t,n,.02,2,+s+" N",e,s),x=j(o,i,.02,2,+d+" N",e,d),v=(A(new vt.Vector3(0,1.1,0),.15,u+" Kg",e,u),S(new vt.Vector3(-1,0,0),.1,"?",e,null));function y(){m=B(h(),u).toFixed(3).toString(),v.textBlock.text=m+" m/s^2",f=h().toFixed(3).toString(),g.activate(),x.activate()}var w=l.button.onPointerUpObservable.add((function(){y()}));v.onPointerUpObservable.add((function(){m="?",v.textBlock.text=m+" m/s^2"})),g.button.onPointerUpObservable.add((function(){m=B(s,u).toFixed(3).toString(),v.textBlock.text=m+" m/s^2",f=s.toFixed(3).toString()})),x.button.onPointerUpObservable.add((function(){m=B(d,u).toFixed(3).toString(),v.textBlock.text=m+" m/s^2",f=d.toFixed(3).toString()})),l.addObserver(w);var M=function(e){s=Math.floor(e),p=h(),f=p,B(p,u),g.editForce(s),g.button.textBlock.text=s+" N"},O=function(e){d=Math.floor(e),p=h(),f=p,B(p,u),x.editForce(d),x.button.textBlock.text=d+" N"},P=new Mt.SliderGroup("Suma de fuerzas","S");P.addSlider("Fuerza negativa",M,"N",0,20,s,k),P.addSlider("Fuerza positiva",O,"N",0,20,d,k),l.controlPanel.addGroup(P),l.controlPanel.heightInPixels=160;var C=0,I=a.onBeforeRenderObservable.add((function(){a.deltaTime&&(C+=a.deltaTime),C>=100&&(c.setViewData("a: "+m+" m/s^2\nFR: "+f+" N\nm: "+b+" Kg"),C=0)}));function j(e,t,n,o,i,r,s){new vt.TransformNode("root");for(var c=[],l=.5,d=30,u=2*Math.PI/d,p=0;p<=d;p++)c.push(new vt.Vector3(l*Math.cos(p*u),l*Math.sin(p*u),0));c.push(c[0]);var h=1.5,m=1.5,f=10-h;t.normalize();var b=e.add(t.scale(f)),g=b.add(t.scale(h)),x=[];x.push(e),x.push(b),x.push(b),x.push(g);var v=function(e,t){switch(e){case 0:case 1:return 1;case 2:return m/l;case 3:return 0}},y=vt.MeshBuilder.ExtrudeShapeCustom("arrow",{shape:c,path:x,updatable:!0,scaleFunction:v,sideOrientation:vt.Mesh.DOUBLESIDE}),w={},M=function(e,t,n,o){var s=n[3].subtract(n[2]).length(),c=n[3].subtract(n[0]).length()*o-s,l=n[0],d=n[1].subtract(n[0]);d.normalize();var u=l.add(d.scale(c)),p=u.add(d.scale(s));n[1]=u,n[2]=u,n[3]=p,vt.MeshBuilder.ExtrudeShapeCustom("arrow",{shape:t,path:n,scaleFunction:v,instance:e});var h=u;h.x=h.x/2,h.y=h.y/2,h.z=h.z/2;var m=vt.MeshBuilder.CreatePlane("planearrow",{width:3,height:3},a);m.nonXREditable=!0,m.rotation.y=Math.PI/180*90,m.parent=e,m.scalingDeterminant=o,m.position=h,m.position.y=2*o;var f=Mt.AdvancedDynamicTexture.CreateForMesh(m);(w=Mt.Button.CreateSimpleButton("but1",i)).width=3,w.height=3,w.color="white",w.fontSize=400,w.background="green",w.onPointerUpObservable.add((function(){A(r)})),f.addControl(w)},O=t,P=s,C=vt.Vector3.Zero(),I=function(e,t){var n=new vt.Matrix;return e.rotationQuaternion.toRotationMatrix(n),vt.Vector3.TransformNormal(t,n)},j=function(e){P=e},A=function(e){e.physicsImpostor.applyImpulse(I(e,O).scale(P),e.getAbsolutePosition().add(C))};function S(){A(r)}return M(y,c,x,o),r&&(y.parent=r,y.scaling=new vt.Vector3(n/r.scaling.x,n/r.scaling.y,n/r.scaling.z),y.position=e),{activate:S,button:w,editForce:j}}function A(e,t,n,o,i){null==i||(o.physicsImpostor.mass=i);var r=vt.MeshBuilder.CreatePlane("planearrow",{width:1,height:1},a);r.nonXREditable=!0,r.rotation.y=Math.PI/180*90,r.parent=o,r.scaling=new vt.Vector3(t/o.scaling.x,t/o.scaling.y,t/o.scaling.z),r.position=e;var s=Mt.AdvancedDynamicTexture.CreateForMesh(r),c=Mt.Button.CreateSimpleButton("but1",n);return c.width=1,c.height=1,c.color="white",c.fontSize=300,c.background="green",c.onPointerUpObservable.add((function(){})),s.addControl(c),c}function S(e,t,n,o,i){var r=vt.MeshBuilder.CreatePlane("planearrow",{width:1,height:1},a);r.nonXREditable=!0,r.rotation.y=Math.PI/180*90,r.parent=o,r.scaling=new vt.Vector3(t/o.scaling.x,t/o.scaling.y,t/o.scaling.z),r.position=e;var s=Mt.AdvancedDynamicTexture.CreateForMesh(r),c=Mt.Button.CreateSimpleButton("but1",n+" m/s^2");return c.width=1,c.height=1,c.color="white",c.fontSize=300,c.background="green",c.onPointerUpObservable.add((function(){})),s.addControl(c),c}r.push(I);function B(e,t){return 0==t?0:e/t}var k=function(e){return Math.floor(e)}}function S(){var e=a.getMeshByName("metal_box"),t=new vt.Vector3(0,-.25,1.5),n=new vt.Vector3(0,0,-1),o=new vt.Vector3(0,0,-1.5),i=new vt.Vector3(0,0,1),s=new vt.Vector3(0,.25,1.5),d=new vt.Vector3(0,0,-1),u=1,p=13,h=2,m=15,f=u-p+h;function b(){return f=u-p+h}R(f,m);var g="?",x="?",v=m,y=k(t,n,.02,2,+u+" N",e,u),w=k(o,i,.02,2,+p+" N",e,p),M=k(s,d,.02,2,+h+" N",e,h),O=(T(new vt.Vector3(0,1.1,0),.15,m+" Kg",e,m),E(new vt.Vector3(-1,0,0),.1,"?",e,null));function P(){g=R(b(),m).toFixed(3).toString(),O.textBlock.text=g+" m/s^2",x=b().toFixed(3).toString(),y.activate(),w.activate(),M.activate()}var C=l.button.onPointerUpObservable.add((function(){P()}));O.onPointerUpObservable.add((function(){g="?",O.textBlock.text=g+" m/s^2"})),y.button.onPointerUpObservable.add((function(){g=R(u,m).toFixed(3).toString(),O.textBlock.text=g+" m/s^2",x=u.toFixed(3).toString()})),w.button.onPointerUpObservable.add((function(){g=R(p,m).toFixed(3).toString(),O.textBlock.text=g+" m/s^2",x=p.toFixed(3).toString()})),M.button.onPointerUpObservable.add((function(){g=R(h,m).toFixed(3).toString(),O.textBlock.text=g+" m/s^2",x=h.toFixed(3).toString()})),l.addObserver(C);var I=function(e){u=Math.floor(e),f=b(),x=f,R(f,m),y.editForce(u),y.button.textBlock.text=u+" N"},j=function(e){h=Math.floor(e),f=b(),x=f,R(f,m),M.editForce(h),M.button.textBlock.text=h+" N"},A=new Mt.SliderGroup("Suma de fuerzas","S");A.addSlider("Fuerza positiva 1",j,"N",0,20,h,N),A.addSlider("Fuerza positiva 2",I,"N",0,20,u,N),l.controlPanel.addGroup(A),l.controlPanel.heightInPixels=160;var S=0,B=a.onBeforeRenderObservable.add((function(){a.deltaTime&&(S+=a.deltaTime),S>=100&&(c.setViewData("a: "+g+" m/s^2\nFR: "+x+" N\nm: "+v+" Kg"),S=0)}));function k(e,t,n,o,i,r,s){new vt.TransformNode("root");for(var c=[],l=.5,d=30,u=2*Math.PI/d,p=0;p<=d;p++)c.push(new vt.Vector3(l*Math.cos(p*u),l*Math.sin(p*u),0));c.push(c[0]);var h=1.5,m=1.5,f=10-h;t.normalize();var b=e.add(t.scale(f)),g=b.add(t.scale(h)),x=[];x.push(e),x.push(b),x.push(b),x.push(g);var v=function(e,t){switch(e){case 0:case 1:return 1;case 2:return m/l;case 3:return 0}},y=vt.MeshBuilder.ExtrudeShapeCustom("arrow",{shape:c,path:x,updatable:!0,scaleFunction:v,sideOrientation:vt.Mesh.DOUBLESIDE}),w={},M=function(e,t,n,o){var s=n[3].subtract(n[2]).length(),c=n[3].subtract(n[0]).length()*o-s,l=n[0],d=n[1].subtract(n[0]);d.normalize();var u=l.add(d.scale(c)),p=u.add(d.scale(s));n[1]=u,n[2]=u,n[3]=p,vt.MeshBuilder.ExtrudeShapeCustom("arrow",{shape:t,path:n,scaleFunction:v,instance:e});var h=u;h.x=h.x/2,h.y=h.y/2,h.z=h.z/2;var m=vt.MeshBuilder.CreatePlane("planearrow",{width:3,height:3},a);m.nonXREditable=!0,m.rotation.y=Math.PI/180*90,m.parent=e,m.scalingDeterminant=o,m.position=h,m.position.y=2*o;var f=Mt.AdvancedDynamicTexture.CreateForMesh(m);(w=Mt.Button.CreateSimpleButton("but1",i)).width=3,w.height=3,w.color="white",w.fontSize=400,w.background="green",w.onPointerUpObservable.add((function(){A(r)})),f.addControl(w)},O=t,P=s,C=vt.Vector3.Zero(),I=function(e,t){var n=new vt.Matrix;return e.rotationQuaternion.toRotationMatrix(n),vt.Vector3.TransformNormal(t,n)},j=function(e){P=e},A=function(e){e.physicsImpostor.applyImpulse(I(e,O).scale(P),e.getAbsolutePosition().add(C))};function S(){A(r)}return M(y,c,x,o),r&&(y.parent=r,y.scaling=new vt.Vector3(n/r.scaling.x,n/r.scaling.y,n/r.scaling.z),y.position=e),{activate:S,button:w,editForce:j}}function T(e,t,n,o,i){null==i||(o.physicsImpostor.mass=i);var r=vt.MeshBuilder.CreatePlane("planearrow",{width:1,height:1},a);r.nonXREditable=!0,r.rotation.y=Math.PI/180*90,r.parent=o,r.scaling=new vt.Vector3(t/o.scaling.x,t/o.scaling.y,t/o.scaling.z),r.position=e;var s=Mt.AdvancedDynamicTexture.CreateForMesh(r),c=Mt.Button.CreateSimpleButton("but1",n);return c.width=1,c.height=1,c.color="white",c.fontSize=300,c.background="green",c.onPointerUpObservable.add((function(){})),s.addControl(c),c}function E(e,t,n,o,i){var r=vt.MeshBuilder.CreatePlane("planearrow",{width:1,height:1},a);r.nonXREditable=!0,r.rotation.y=Math.PI/180*90,r.parent=o,r.scaling=new vt.Vector3(t/o.scaling.x,t/o.scaling.y,t/o.scaling.z),r.position=e;var s=Mt.AdvancedDynamicTexture.CreateForMesh(r),c=Mt.Button.CreateSimpleButton("but1",n+" m/s^2");return c.width=1,c.height=1,c.color="white",c.fontSize=300,c.background="green",c.onPointerUpObservable.add((function(){})),s.addControl(c),c}r.push(B);function R(e,t){return 0==t?0:e/t}var N=function(e){return Math.floor(e)}}function B(){var e=a.getMeshByName("carBox1"),t=new vt.Vector3(0,0,-1.5),n=new vt.Vector3(0,0,1),o=new vt.Vector3(0,0,1.5),i=new vt.Vector3(0,0,-1),s=1,d=2,u=4,p=s-d;function h(){return p=s-d}B(p,u);var m="?",f="?",b=u,g=j(t,n,.02,2,+s+" N",e,s),x=j(o,i,.02,2,+d+" N",e,d),v=(A(new vt.Vector3(0,1.1,0),.15,u+" Kg",e,u),S(new vt.Vector3(1,0,0),.1,"?",e,null));function y(){m=B(h(),u).toFixed(3).toString(),v.textBlock.text=m+" m/s^2",f=h().toFixed(3).toString(),g.activate(),x.activate()}var w=l.button.onPointerUpObservable.add((function(){y()}));v.onPointerUpObservable.add((function(){m="?",v.textBlock.text=m+" m/s^2"})),g.button.onPointerUpObservable.add((function(){m=B(s,u).toFixed(3).toString(),v.textBlock.text=m+" m/s^2",f=s.toFixed(3).toString()})),x.button.onPointerUpObservable.add((function(){m=B(d,u).toFixed(3).toString(),v.textBlock.text=m+" m/s^2",f=d.toFixed(3).toString()})),l.addObserver(w);var M=function(e){s=Math.floor(e),p=h(),f=p,B(p,u),g.editForce(s),g.button.textBlock.text=s+" N"},O=function(e){d=Math.floor(e),p=h(),f=p,B(p,u),x.editForce(d),x.button.textBlock.text=d+" N"},P=new Mt.SliderGroup("Suma de fuerzas","S");P.addSlider("Fuerza positiva",M,"N",0,20,s,k),P.addSlider("Fuerza negativa",O,"N",0,20,d,k),l.controlPanel.addGroup(P),l.controlPanel.heightInPixels=160;var C=0,I=a.onBeforeRenderObservable.add((function(){a.deltaTime&&(C+=a.deltaTime),C>=100&&(c.setViewData("a: "+m+" m/s^2\nFR: "+f+" N\nm: "+b+" Kg"),C=0)}));function j(e,t,n,o,i,r,s){new vt.TransformNode("root");for(var c=[],l=.5,d=30,u=2*Math.PI/d,p=0;p<=d;p++)c.push(new vt.Vector3(l*Math.cos(p*u),l*Math.sin(p*u),0));c.push(c[0]);var h=1.5,m=1.5,f=10-h;t.normalize();var b=e.add(t.scale(f)),g=b.add(t.scale(h)),x=[];x.push(e),x.push(b),x.push(b),x.push(g);var v=function(e,t){switch(e){case 0:case 1:return 1;case 2:return m/l;case 3:return 0}},y=vt.MeshBuilder.ExtrudeShapeCustom("arrow",{shape:c,path:x,updatable:!0,scaleFunction:v,sideOrientation:vt.Mesh.DOUBLESIDE}),w={},M=function(e,t,n,o){var s=n[3].subtract(n[2]).length(),c=n[3].subtract(n[0]).length()*o-s,l=n[0],d=n[1].subtract(n[0]);d.normalize();var u=l.add(d.scale(c)),p=u.add(d.scale(s));n[1]=u,n[2]=u,n[3]=p,vt.MeshBuilder.ExtrudeShapeCustom("arrow",{shape:t,path:n,scaleFunction:v,instance:e});var h=u;h.x=h.x/2,h.y=h.y/2,h.z=h.z/2;var m=vt.MeshBuilder.CreatePlane("planearrow",{width:3,height:3},a);m.nonXREditable=!0,m.rotation.y=Math.PI/180*270,m.parent=e,m.scalingDeterminant=o,m.position=h,m.position.y=2*o;var f=Mt.AdvancedDynamicTexture.CreateForMesh(m);(w=Mt.Button.CreateSimpleButton("but1",i)).width=3,w.height=3,w.color="white",w.fontSize=400,w.background="green",w.onPointerUpObservable.add((function(){A(r)})),f.addControl(w)},O=t,P=s,C=vt.Vector3.Zero(),I=function(e,t){var n=new vt.Matrix;return e.rotationQuaternion.toRotationMatrix(n),vt.Vector3.TransformNormal(t,n)},j=function(e){P=e},A=function(e){e.physicsImpostor.applyImpulse(I(e,O).scale(P),e.getAbsolutePosition().add(C))};function S(){A(r)}return M(y,c,x,o),r&&(y.parent=r,y.scaling=new vt.Vector3(n/r.scaling.x,n/r.scaling.y,n/r.scaling.z),y.position=e),{activate:S,button:w,editForce:j}}function A(e,t,n,o,i){null==i||(o.physicsImpostor.mass=i);var r=vt.MeshBuilder.CreatePlane("planearrow",{width:1,height:1},a);r.nonXREditable=!0,r.rotation.y=Math.PI/180*270,r.parent=o,r.scaling=new vt.Vector3(t/o.scaling.x,t/o.scaling.y,t/o.scaling.z),r.position=e;var s=Mt.AdvancedDynamicTexture.CreateForMesh(r),c=Mt.Button.CreateSimpleButton("but1",n);return c.width=1,c.height=1,c.color="white",c.fontSize=300,c.background="green",c.onPointerUpObservable.add((function(){})),s.addControl(c),c}function S(e,t,n,o,i){var r=vt.MeshBuilder.CreatePlane("planearrow",{width:1,height:1},a);r.nonXREditable=!0,r.rotation.y=Math.PI/180*270,r.parent=o,r.scaling=new vt.Vector3(t/o.scaling.x,t/o.scaling.y,t/o.scaling.z),r.position=e;var s=Mt.AdvancedDynamicTexture.CreateForMesh(r),c=Mt.Button.CreateSimpleButton("but1",n+" m/s^2");return c.width=1,c.height=1,c.color="white",c.fontSize=300,c.background="green",c.onPointerUpObservable.add((function(){})),s.addControl(c),c}r.push(I);function B(e,t){return 0==t?0:e/t}var k=function(e){return Math.floor(e)}}b.addModels(w),b.addLogic(A),g.addModels(C),g.addLogic(S),x.addModels(v),x.addLogic(B),f.addExercise(b),f.addExercise(g),f.addExercise(x),f.Start(P)}()}));var O=Dt(a,2);O.addCard(x),O.addCard(v),O.addCard(y),O.addCard(w),O.addCard(M),O.Start(0);var P=0,C=new vt.TransformNode("Root Container",a),I=new vt.TransformNode("Transform Container",a);I.parent=C;I.scaling.scaleInPlace(.2);I.position.y-=.2;var j=new Ot.Timer;var A=new vt.AssetsManager(a);A.onFinish=function(){o.runRenderLoop((function(){a&&(window.document.title=o.getFps().toFixed()+" fps",a.render())}))},a.executeWhenReady((function(){(o.hideLoadingUI(),document.getElementById("xr-button"))&&document.getElementById("xr-button").addEventListener("click",Object(W.a)(G.a.mark((function e(){return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(p.baseExperience.state!==vt.WebXRState.NOT_IN_XR){e.next=7;break}return p.input.xrCamera.position=new vt.Vector3(-3,1,0),p.input.xrCamera.setTarget(vt.Vector3.Zero()),e.next=5,p.baseExperience.enterXRAsync("immersive-ar","local-floor");case 5:e.next=10;break;case 7:if(p.baseExperience.state!==vt.WebXRState.IN_XR){e.next=10;break}return e.next=10,p.baseExperience.exitXRAsync();case 10:case"end":return e.stop()}}),e)}))));document.getElementById("fullscreen-button")&&document.getElementById("fullscreen-button").addEventListener("click",Object(W.a)(G.a.mark((function e(){return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o.switchFullscreen(!1);case 1:case"end":return e.stop()}}),e)}))))})),A.load()}})}),Object(b.jsxs)(D.a,{align:"center",maxWidth:"sm",className:e.babylonbuttons,children:[Object(b.jsx)(C.a,{id:"xr-button",size:"medium",variant:"contained",color:"primary",children:Object(b.jsx)(N.a,{variant:"h6",children:"Entrar a modo XR"})}),Object(b.jsx)(C.a,{id:"fullscreen-button",m:.5,size:"medium",variant:"contained",color:"secondary",children:Object(b.jsx)(N.a,{variant:"h6",children:"pantalla completa"})})]})]})})}var oa=ta;var ia=n.p+"static/media/card1.df54543e.PNG",ra=n.p+"static/media/card2.a24eaad9.PNG",sa=n.p+"static/media/card3.14b9823e.PNG",ca=n.p+"static/media/alert2.2455318f.png",la=n.p+"static/media/cardboard.ca4cc733.png",da=function(e){Object($e.a)(n,e);var t=Object(et.a)(n);function n(){return Object(Ye.a)(this,n),t.apply(this,arguments)}return Object(Je.a)(n,[{key:"render",value:function(){return Object(b.jsx)(xt,{data:pa})}}]),n}(a.Component),ua=Object(_.a)((function(e){return{imagebox:{height:"100%",width:"60%",display:"flex",flexDirection:"column"},card:{height:"100%",flexDirection:"column"},media:{height:400},babylonbuttons:{"& > *":{margin:e.spacing(1)}}}}));function pa(){var e=ua(),t=x().currentUser,n={id:"exercise_2_3",generalTime:"00:00",totalErrors:0,isCompleted:!1,quizes:{quiz_1:{id:"quiz_1",time:"00:00",errors:0,isCompleted:!1},quiz_2:{id:"quiz_2",time:"00:00",errors:0,isCompleted:!1},quiz_3:{id:"quiz_3",time:"00:00",errors:0,isCompleted:!1},quiz_4:{id:"quiz_4",time:"00:00",errors:0,isCompleted:!1},quiz_5:{id:"quiz_5",time:"00:00",errors:0,isCompleted:!1}}};St(t),Bt(n),Tt(n.id),It.start();return Object(b.jsx)(o.a.Fragment,{children:Object(b.jsxs)(D.a,{maxWidth:"xl",children:[Object(b.jsx)(F.a,{width:"100%",p:1,my:.5,children:Object(b.jsx)(wt,{onSceneMount:function(e){var t=e.canvas,a=e.scene,o=e.engine;o.displayLoadingUI();var i=new Ot.Timer,r=new vt.Vector3(-4,1.5,0),s=new vt.Vector3(0,1,0),c=new vt.UniversalCamera("camera1",r,a);c.setTarget(s),c.attachControl(t,!1),c.speed=.7,c.angularSensibility=1200,c.inertia=.5,new vt.HemisphericLight("light1",new vt.Vector3(0,1,0),a).intensity=.7;var l=vt.MeshBuilder.CreateBox("SkyBox",{size:1e3},a),d=new vt.StandardMaterial("skyBox",a);d.backFaceCulling=!1,d.reflectionTexture=new vt.HDRCubeTexture("textures/lilienstein_4k.hdr",a,512),d.reflectionTexture.coordinatesMode=vt.Texture.SKYBOX_MODE,d.diffuseColor=new vt.Color3(0,0,0),d.specularColor=new vt.Color3(0,0,0),d.disableLighting=!0,l.material=d,a.enablePhysics(new vt.Vector3(0,-9.81,0),new vt.AmmoJSPlugin);a.getPhysicsEngine();a.collisionsEnabled=!0,c.checkCollisions=!0,c.applyGravity=!0,c.ellipsoid=new vt.Vector3(1,.8,1);var u=Pt(a);u.checkCollisions=!0;var p={};function h(){return(h=Object(W.a)(G.a.mark((function e(){return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.createDefaultXRExperienceAsync({disableDefaultUI:!0,uiOptions:{sessionMode:"immersive-ar",referenceSpaceType:"local-floor"},inputOptions:{doNotLoadControllerMeshes:!1}});case 2:(p=e.sent).baseExperience.onStateChangedObservable.add((function(e){e==vt.WebXRState.ENTERING_XR&&(u.visibility=0,l.isVisible=!1),e==vt.WebXRState.NOT_IN_XR&&(u.visibility=1,l.isVisible=!0)}));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){h.apply(this,arguments)}();var m=Ct(vt,a);m.selectMode(0);var f=null,b=null,g=null;a.onPointerObservable.addOnce((function(e){e.type===vt.PointerEventTypes.POINTERMOVE&&i.start()})),a.onPointerObservable.add((function(e){f=e.pickInfo.pickedMesh,e.type===vt.PointerEventTypes.POINTERDOWN&&(e.pickInfo.pickedMesh&&e.pickInfo.pickedMesh.XRPickable&&(a.constantlyUpdateMeshUnderPointer=!0,g=!0,b=f,m.attachToMesh(b)),e.pickInfo.pickedMesh&&e.pickInfo.pickedMesh.nonXREditable,!e.pickInfo.pickedMesh||e.pickInfo.pickedMesh.XRPickable||e.pickInfo.pickedMesh.nonXREditable||(b=null,m.attachToMesh(null))),e.type===vt.PointerEventTypes.POINTERUP&&(a.constantlyUpdateMeshUnderPointer=!1,e.pickInfo.pickedMesh&&e.pickInfo.pickedMesh.XRPickable&&f.physicsImpostor&&(g=!1,f=null))})),a.onBeforePhysicsObservable.add((function(){g&&f&&f.XRPickable&&f.physicsImpostor&&(f.physicsImpostor._physicsBody.setLinearVelocity(0,0,0),f.physicsImpostor._physicsBody.setAngularVelocity(0,0,0))})),a.registerBeforeRender((function(){}));var x=new tn("card1",ia),v=new tn("card2",ra),y=new tn("card3",sa),w=new tn("alert",ca),M=new tn("card4",la);x.addLogic((function(){O.logicManager.ClearAll(),function(){var e,t,n,o=[],i=new vt.Vector3(0,0,1.5),r=new vt.Vector3(0,0,-1),s=(new vt.Vector3(0,0,1),vt.Vector3.Zero(),15),c=8,l=s,d=y(l,c),u="?";function p(){return h.apply(this,arguments)}function h(){return h=Object(W.a)(G.a.mark((function e(){var t,n;return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(function(e,t,n,o){var i=e[t].getHierarchyBoundingVectors(),r=i.max.subtract(i.min),s=i.max.add(i.min).scale(.5);n.scaling.copyFrom(r),n.XRPickable=!0,n.visibility=0,n.physicsImpostor=new vt.PhysicsImpostor(n,o,{mass:5,friction:10},a),n.position=s,e[t].setParent(n)}),function(e,t){e.rotationQuaternion=new vt.Quaternion.RotationAxis(new vt.Vector3(0,1,0),t*(Math.PI/180))},(t=new vt.StandardMaterial("wood",a)).diffuseTexture=new vt.Texture("../textures/crate.png",a),t.emissiveColor=new vt.Color3(.5,.5,.5),(n=vt.Mesh.CreateBox("wood_box_1",1,a)).scaling=new vt.Vector3(.4,.4,.4),n.position=new vt.Vector3(-.5,0,0),n.material=t,n.physicsImpostor=new vt.PhysicsImpostor(n,vt.PhysicsImpostor.BoxImpostor,{mass:5},a),n.XRPickable=!0,o.push(n),O.logicManager.AddDisposableStuff(n);case 13:case"end":return e.stop()}}),e)}))),h.apply(this,arguments)}function m(){p().then((function(){e=a.getMeshByName("wood_box_1"),t=g(i,r,.02,2,"Fuerza: "+s+" N",e,s),x(new vt.Vector3(0,1.1,0),.15,"Masa: "+c+" Kg",e,c),(n=v(new vt.Vector3(-1,0,0),.1,"?",e,null)).onPointerUpObservable.add((function(){u="Aceleracion:\n?",n.textBlock.text=u+" m/s^2"})),t.button.onPointerUpObservable.add((function(){u=y(s,c).toFixed(3).toString(),n.textBlock.text="Aceleracion:\n"+u+" m/s^2",s.toFixed(3).toString()}))}))}function f(){o.length>0&&o.forEach((function(e){Array.isArray(e)?e.forEach((function(e){return e.dispose()})):e.dispose()})),o=[]}function b(){u=d.toFixed(3).toString(),n.textBlock.text=u+" m/s^2",l.toFixed(3).toString(),t.activate()}m();function g(e,t,n,o,i,r,s){new vt.TransformNode("root");for(var c=[],l=.5,d=30,u=2*Math.PI/d,p=0;p<=d;p++)c.push(new vt.Vector3(l*Math.cos(p*u),l*Math.sin(p*u),0));c.push(c[0]);var h=1.5,m=1.5,f=10-h;t.normalize();var b=e.add(t.scale(f)),g=b.add(t.scale(h)),x=[];x.push(e),x.push(b),x.push(b),x.push(g);var v=function(e,t){switch(e){case 0:case 1:return 1;case 2:return m/l;case 3:return 0}},y=vt.MeshBuilder.ExtrudeShapeCustom("arrow",{shape:c,path:x,updatable:!0,scaleFunction:v,sideOrientation:vt.Mesh.DOUBLESIDE},a),w={},M=function(e,t,n,o){var s=n[3].subtract(n[2]).length(),c=n[3].subtract(n[0]).length()*o-s,l=n[0],d=n[1].subtract(n[0]);d.normalize();var u=l.add(d.scale(c)),p=u.add(d.scale(s));n[1]=u,n[2]=u,n[3]=p,vt.MeshBuilder.ExtrudeShapeCustom("arrow",{shape:t,path:n,scaleFunction:v,instance:e});var h=u;h.x=h.x/2,h.y=h.y/2,h.z=h.z/2;var m=vt.MeshBuilder.CreatePlane("planearrow",{width:4,height:4},a);m.nonXREditable=!0,m.rotation.y=Math.PI/180*90,m.parent=e,m.scalingDeterminant=o,m.position=h,m.position.y=2*o;var f=Mt.AdvancedDynamicTexture.CreateForMesh(m);(w=Mt.Button.CreateSimpleButton("but1",i)).width=1,w.height=1,w.color="white",w.fontSize=300,w.background="green",w.onPointerUpObservable.add((function(){A(r)})),f.addControl(w)},O=t,P=s,C=vt.Vector3.Zero(),I=function(e,t){var n=new vt.Matrix;return e.rotationQuaternion.toRotationMatrix(n),vt.Vector3.TransformNormal(t,n)},j=function(e){P=e},A=function(e){e.physicsImpostor.applyImpulse(I(e,O).scale(P),e.getAbsolutePosition().add(C))};function S(){A(r)}return M(y,c,x,o),r&&(y.parent=r,y.scaling=new vt.Vector3(n/r.scaling.x,n/r.scaling.y,n/r.scaling.z),y.position=e),{activate:S,button:w,editForce:j}}function x(e,t,n,o,i){null==i||(o.physicsImpostor.mass=i);var r=vt.MeshBuilder.CreatePlane("planearrow",{width:1,height:1},a);r.nonXREditable=!0,r.rotation.y=Math.PI/180*90,r.parent=o,r.scaling=new vt.Vector3(t/o.scaling.x,t/o.scaling.y,t/o.scaling.z),r.position=e;var s=Mt.AdvancedDynamicTexture.CreateForMesh(r),c=Mt.Button.CreateSimpleButton("but1",n);return c.width=1,c.height=1,c.color="white",c.fontSize=300,c.background="green",c.onPointerUpObservable.add((function(){})),s.addControl(c),c}function v(e,t,n,o,i){var r=vt.MeshBuilder.CreatePlane("planearrow",{width:2.5,height:1.5},a);r.nonXREditable=!0,r.rotation.y=Math.PI/180*90,r.parent=o,r.scaling=new vt.Vector3(t/o.scaling.x,t/o.scaling.y,t/o.scaling.z),r.position=e;var s=Mt.AdvancedDynamicTexture.CreateForMesh(r);s.scaleTo(300,200);var c=Mt.Button.CreateSimpleButton("but1","Aceleracion:\n"+n+" m/s^2");return c.width=1,c.height=1,c.color="white",c.fontSize=42,c.background="green",c.onPointerUpObservable.add((function(){})),s.addControl(c),c}function y(e,t){return 0==t?0:e/t}var w=Mt.Button.CreateImageOnlyButton("but","images/pressme.png");w.color="transparent";var M=new Ut(.5,.3,!0,!0,a);M.addControl(w),M.setScaleToInPixels(300,160),M.displayPlane.position.set(-.25,.5,.5),O.logicManager.AddTemporalGUI(M.displayPlane);var P=1;w.onPointerUpObservable.add((function(){switch(P){case 1:b(),P=2;break;case 2:f(),m(),P=1}}))}()})),v.addLogic((function(){O.logicManager.ClearAll(),function(){var e,t,n,o,i,r,s,c,l=[],d=new vt.Vector3(0,0,-.5),u=new vt.Vector3(0,0,-1),p=new vt.Vector3(0,0,.5),h=new vt.Vector3(0,0,1),m=(new vt.Vector3(0,0,1),vt.Vector3.Zero(),20),f=20,b=8,g=m-f,x=N(g,b),v="?",y=60,w=20,M=30,P=y-w,C=N(P,M),I="?";function j(){return A.apply(this,arguments)}function A(){return A=Object(W.a)(G.a.mark((function e(){var t,n,o,i;return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(function(e,t,n,o){var i=e[t].getHierarchyBoundingVectors(),r=i.max.subtract(i.min),s=i.max.add(i.min).scale(.5);n.scaling.copyFrom(r),n.XRPickable=!0,n.visibility=0,n.physicsImpostor=new vt.PhysicsImpostor(n,o,{mass:5,friction:10},a),n.position=s,e[t].setParent(n)}),function(e,t){e.rotationQuaternion=new vt.Quaternion.RotationAxis(new vt.Vector3(0,1,0),t*(Math.PI/180))},(t=new vt.StandardMaterial("wood",a)).diffuseTexture=new vt.Texture("../textures/crate.png",a),t.emissiveColor=new vt.Color3(.5,.5,.5),(n=vt.Mesh.CreateBox("wood_box_1",1,a)).scaling=new vt.Vector3(.4,.4,.4),n.position=new vt.Vector3(-.5,0,1.25),n.material=t,n.physicsImpostor=new vt.PhysicsImpostor(n,vt.PhysicsImpostor.BoxImpostor,{mass:5},a),n.XRPickable=!0,l.push(n),O.logicManager.AddDisposableStuff(n),(o=new vt.StandardMaterial("floor",a)).diffuseTexture=new vt.Texture("../textures/floor.png",a),o.emissiveColor=new vt.Color3(.5,.5,.5),(i=vt.Mesh.CreateBox("wood_box_2",1,a)).scaling=new vt.Vector3(.4,.4,.4),i.position=new vt.Vector3(-.5,0,-1.25),i.material=o,i.physicsImpostor=new vt.PhysicsImpostor(i,vt.PhysicsImpostor.BoxImpostor,{mass:5},a),i.XRPickable=!0,l.push(i),O.logicManager.AddDisposableStuff(i);case 24:case"end":return e.stop()}}),e)}))),A.apply(this,arguments)}function S(){j().then((function(){e=a.getMeshByName("wood_box_1"),t=a.getMeshByName("wood_box_2"),n=T(d,u,.02,2,"Fuerza: "+m+" N",e,m),o=T(p,h,.02,2,"Fuerza: "+f+" N",e,f),E(new vt.Vector3(0,1.1,0),.15,"Masa: "+b+" Kg",e,b),s=R(new vt.Vector3(-1,0,0),.1,"?",e,null),i=T(d,u,.02,2,"Fuerza: "+y+" N",t,y),r=T(p,h,.02,2,"Fuerza: "+w+" N",t,w),E(new vt.Vector3(0,1.1,0),.15,"Masa: "+M+" Kg",t,M),c=R(new vt.Vector3(-1,0,0),.1,"?",t,null),s.onPointerUpObservable.add((function(){v="Aceleracion:\n?",s.textBlock.text=v+" m/s^2"})),n.button.onPointerUpObservable.add((function(){v=N(m,b).toFixed(3).toString(),s.textBlock.text="Aceleracion:\n"+v+" m/s^2",m.toFixed(3).toString()})),o.button.onPointerUpObservable.add((function(){v=N(f,b).toFixed(3).toString(),s.textBlock.text="Aceleracion:\n"+v+" m/s^2",f.toFixed(3).toString()})),c.onPointerUpObservable.add((function(){I="Aceleracion:\n?",c.textBlock.text=I+" m/s^2"})),i.button.onPointerUpObservable.add((function(){I=N(y,M).toFixed(3).toString(),c.textBlock.text="Aceleracion:\n"+I+" m/s^2",y.toFixed(3).toString()})),r.button.onPointerUpObservable.add((function(){I=N(w,M).toFixed(3).toString(),c.textBlock.text="Aceleracion:\n"+I+" m/s^2",w.toFixed(3).toString()}))}))}function B(){l.length>0&&l.forEach((function(e){Array.isArray(e)?e.forEach((function(e){return e.dispose()})):e.dispose()})),l=[]}function k(){v=x.toFixed(3).toString(),s.textBlock.text=v+" m/s^2",g.toFixed(3).toString(),I=C.toFixed(3).toString(),c.textBlock.text=I+" m/s^2",P.toFixed(3).toString(),n.activate(),o.activate(),i.activate(),r.activate()}function T(e,t,n,o,i,r,s){new vt.TransformNode("root");for(var c=[],l=.5,d=30,u=2*Math.PI/d,p=0;p<=d;p++)c.push(new vt.Vector3(l*Math.cos(p*u),l*Math.sin(p*u),0));c.push(c[0]);var h=1.5,m=1.5,f=10-h;t.normalize();var b=e.add(t.scale(f)),g=b.add(t.scale(h)),x=[];x.push(e),x.push(b),x.push(b),x.push(g);var v=function(e,t){switch(e){case 0:case 1:return 1;case 2:return m/l;case 3:return 0}},y=vt.MeshBuilder.ExtrudeShapeCustom("arrow",{shape:c,path:x,updatable:!0,scaleFunction:v,sideOrientation:vt.Mesh.DOUBLESIDE},a),w={},M=function(e,t,n,o){var s=n[3].subtract(n[2]).length(),c=n[3].subtract(n[0]).length()*o-s,l=n[0],d=n[1].subtract(n[0]);d.normalize();var u=l.add(d.scale(c)),p=u.add(d.scale(s));n[1]=u,n[2]=u,n[3]=p,vt.MeshBuilder.ExtrudeShapeCustom("arrow",{shape:t,path:n,scaleFunction:v,instance:e});var h=u;h.x=h.x/2,h.y=h.y/2,h.z=h.z/2;var m=vt.MeshBuilder.CreatePlane("planearrow",{width:4,height:4},a);m.nonXREditable=!0,m.rotation.y=Math.PI/180*90,m.parent=e,m.scalingDeterminant=o,m.position=h,m.position.y=2*o;var f=Mt.AdvancedDynamicTexture.CreateForMesh(m);(w=Mt.Button.CreateSimpleButton("but1",i)).width=1,w.height=1,w.color="white",w.fontSize=300,w.background="green",w.onPointerUpObservable.add((function(){A(r)})),f.addControl(w)},O=t,P=s,C=vt.Vector3.Zero(),I=function(e,t){var n=new vt.Matrix;return e.rotationQuaternion.toRotationMatrix(n),vt.Vector3.TransformNormal(t,n)},j=function(e){P=e},A=function(e){e.physicsImpostor.applyImpulse(I(e,O).scale(P),e.getAbsolutePosition().add(C))};function S(){A(r)}return M(y,c,x,o),r&&(y.parent=r,y.scaling=new vt.Vector3(n/r.scaling.x,n/r.scaling.y,n/r.scaling.z),y.position=e),{activate:S,button:w,editForce:j}}function E(e,t,n,o,i){null==i||(o.physicsImpostor.mass=i);var r=vt.MeshBuilder.CreatePlane("planearrow",{width:1,height:1},a);r.nonXREditable=!0,r.rotation.y=Math.PI/180*90,r.parent=o,r.scaling=new vt.Vector3(t/o.scaling.x,t/o.scaling.y,t/o.scaling.z),r.position=e;var s=Mt.AdvancedDynamicTexture.CreateForMesh(r),c=Mt.Button.CreateSimpleButton("but1",n);return c.width=1,c.height=1,c.color="white",c.fontSize=300,c.background="green",c.onPointerUpObservable.add((function(){})),s.addControl(c),c}function R(e,t,n,o,i){var r=vt.MeshBuilder.CreatePlane("planearrow",{width:2.5,height:1.5},a);r.nonXREditable=!0,r.rotation.y=Math.PI/180*90,r.parent=o,r.scaling=new vt.Vector3(t/o.scaling.x,t/o.scaling.y,t/o.scaling.z),r.position=e;var s=Mt.AdvancedDynamicTexture.CreateForMesh(r);s.scaleTo(300,200);var c=Mt.Button.CreateSimpleButton("but1","Aceleracion:\n"+n+" m/s^2");return c.width=1,c.height=1,c.color="white",c.fontSize=42,c.background="green",c.onPointerUpObservable.add((function(){})),s.addControl(c),c}S();function N(e,t){return 0==t?0:e/t}var V=Mt.Button.CreateImageOnlyButton("but","images/pressme.png");V.color="transparent";var _=new Ut(.5,.3,!0,!0,a);_.addControl(V),_.setScaleToInPixels(300,160),_.displayPlane.position.set(-.25,.5,0),O.logicManager.AddTemporalGUI(_.displayPlane);var D=1;V.onPointerUpObservable.add((function(){switch(D){case 1:k(),D=2;break;case 2:B(),S(),D=1}}))}()})),w.addLogic((function(){O.logicManager.ClearAll()})),M.addLogic((function(){O.logicManager.ClearAll(),function(){var e=[],t=[],o=[],r=[],s=Ft(a,1,!0);s.displayPlane.position.copyFrom(O.displayPlane.position),s.displayPlane.position.x-=.3,s.displayPlane.position.y+=.5;var c=Lt(a,1,!0);c.displayPlane.position.copyFrom(O.displayPlane.position),c.displayPlane.position.x-=.3,c.displayPlane.position.z-=2.4,c.displayPlane.position.y+=.4;var l=zt(a,1,!0);l.displayPlane.position.copyFrom(O.displayPlane.position),l.displayPlane.position.x-=.3,l.displayPlane.position.z+=2.4,l.displayPlane.position.y+=.4,c.addFormulaImage("/images/equ2-1.png"),O.logicManager.AddTemporalGUI(s.displayPlane),O.logicManager.AddTemporalGUI(c.displayPlane),O.logicManager.AddTemporalGUI(l.displayPlane),s.leftarrow.onPointerClickObservable.add((function(){--P<0&&P++,e[P]&&f.Start(P)})),s.rightarrow.onPointerClickObservable.add((function(){++P>e.length-1&&P--,e[P]&&f.Start(P)})),s.finalanswerButton.onPointerUpObservable.add((function(){var e;s.getIsCorrect()?(Nt(e="quiz_"+(P+1),i.getTimeValues().toString()),Rt(e).isCompleted=!0,Et(n.id),i.reset(),kt().isCompleted?(s.setIscompleted(!0),s.allcompletedPanel.show()):s.correctPanel.show()):(_t(e="quiz_"+(P+1)),Vt(e),Et(n.id),kt().isCompleted?(s.setIscompleted(!0),s.allcompletedPanel.show()):s.incorrectPanel.show())})),l.button2.onPointerUpObservable.add((function(){f.Reset(),i.reset()})),C.isRunning()||C.start();function d(){return Rt("quiz_"+(P+1)).isCompleted?" (Completada)":""}function u(){return Rt("quiz_"+(P+1)).errors}function p(){return kt().isCompleted?(C.pause(),h(C.getTimeValues().minutes)+":"+h(C.getTimeValues().seconds)+"\nSecci\xf3n de preguntas finalizada!"):h(C.getTimeValues().minutes)+":"+h(C.getTimeValues().seconds)}function h(e){return e<=9?"0"+e:e}a.onBeforeRenderObservable.add((function(){s.time_number.text="Tiempo: "+p(),s.error_number.text="Errores: "+u(),s.question_number.text="Pregunta: "+(P+1)+"/"+e.length+d()}));function m(){function n(n){t.push(n),e.push(n.quiz)}function d(t){s.loadquiz(e[t])}function u(e){P=e,t[e].Load_Models().then((function(n){h(),o=n,t[e].Load_Logic&&(t[e].Load_Logic(),d(e),i.reset())}))}function p(){u(P)}function h(){l.clearObservers(),l.clearItems(),c.clearViewData(),console.log("reseteando"),void 0!=r&&r.forEach((function(e){a.onBeforeRenderObservable.remove(e)})),void 0!=o&&o.forEach((function(e){Array.isArray(e)?e.forEach((function(e){return e.dispose()})):e.dispose()}))}return l.button2.onPointerUpObservable.add((function(){p()})),{addExercise:n,LoadQuiz:d,Start:u,Reset:p,ClearStuff:h}}var f=m(),b=new Xt("1.- Calcula el m\xf3dulo de la aceleraci\xf3n que adquiere esta caja cuando se le aplica una fuerza de 12 N",["A) 2 m/s^2","B) 1.5 m/s^2","C) 8 m/s^2","D) 0.5 m/s^2"],1,["NOTA: Recuerda que, aceleraci\xf3n es igual a (fuerza resultante / masa)"]),g=new Xt("2.- \xbfCuales de la siguientes suma de fuerzas le da a la caja una aceleracion de 0.35m/s^2?",["A) -8N, +10N","B) -2N, +14N","C) -5N, 12N","D) -1N, +11N"],2,["NOTA: recuerda que necesitas sumar todas las fuerzas."]),x=new Xt("3.- \xbfcual sera la aceleraci\xf3n del la caja aplicarle una fuerza negativa de 12 N y 2 fuerzas positivas de 10 N y 14 N?",["A) 0.5 m/s^2","B) 1 m/s^2","C) 4 m/s^2","D) 0.40 m/s^2"],3,["NOTA: recuerda que necesitas sumar todas las fuerzas."]),v=new Xt("4.- \xbfCuales de la siguientes suma de fuerzas le da a las 2 cajas una aceleracion de 0.5m/s^2?",["A) -4N, +12N +7N","B) -5N, +13N +5N","C) -10N, +12N +12N","D) -2N, +4N +6N"],0,["NOTA: recuerda que necesitas sumar todas las fuerzas."]),y=new Xt("5.- Determina el modulo de aceleraci\xf3n del auto de juguete mostrado",["A) 0.5 m/s^2","B) 1 m/s^2","C) 5 m/s^2","D) 0.40 m/s^2"],0,["NOTA: Recuerda que, aceleraci\xf3n es igual a (fuerza resultante / masa)"]);new Xt("6.- Determina el modulo de aceleraci\xf3n del auto de juguete mostrado",["A) 0.4 m/s^2","B) -0.4 m/s^2","C) 0.5 m/s^2","D) 1 m/s^2"],1,["Igualmente, aqui necesitas calcular la aceleraci\xf3n"]);function w(){return M.apply(this,arguments)}function M(){return(M=Object(W.a)(G.a.mark((function e(){var t,n,o,i,r,s;return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=function(e,t,n,o){var i=e[t].getHierarchyBoundingVectors(),r=i.max.subtract(i.min),s=i.max.add(i.min).scale(.5);n.scaling.copyFrom(r),n.XRPickable=!0,n.visibility=0,n.physicsImpostor=new vt.PhysicsImpostor(n,o,{mass:25},a),n.position=s,e[t].setParent(n)},t=function(e,t){e.rotationQuaternion=new vt.Quaternion.RotationAxis(new vt.Vector3(0,1,0),t*(Math.PI/180))},o=[],e.next=5,vt.SceneLoader.ImportMeshAsync("","../3DModels/","bluecar.glb",a);case 5:return i=e.sent,(r=i.meshes)[0].scaling.scaleInPlace(.1),r[0].position.set(-.5,.33,0),s=vt.MeshBuilder.CreateBox("carBox1",{height:r[1].height,width:r[1].width,depth:r[1].depth},a),n(r,0,s,vt.PhysicsImpostor.BoxImpostor),t(s,180),o.push(r),o.push(s),O.logicManager.AddDisposableStuff(r),O.logicManager.AddDisposableStuff(s),e.abrupt("return",o);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function I(){return j.apply(this,arguments)}function j(){return(j=Object(W.a)(G.a.mark((function e(){var t,n,o;return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return function(e,t){e.rotationQuaternion=new vt.Quaternion.RotationAxis(new vt.Vector3(0,1,0),t*(Math.PI/180))},t=[],(n=new vt.StandardMaterial("wood",a)).diffuseTexture=new vt.Texture("../textures/crate.png",a),n.emissiveColor=new vt.Color3(.5,.5,.5),(o=vt.Mesh.CreateBox("wood_box",1,a)).scaling=new vt.Vector3(.4,.4,.4),o.position=new vt.Vector3(-.5,0,0),o.material=n,o.physicsImpostor=new vt.PhysicsImpostor(o,vt.PhysicsImpostor.BoxImpostor,{mass:5},a),o.XRPickable=!0,t.push(o),O.logicManager.AddDisposableStuff(o),e.abrupt("return",t);case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function A(){return S.apply(this,arguments)}function S(){return(S=Object(W.a)(G.a.mark((function e(){var t,n,o;return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return function(e,t){e.rotationQuaternion=new vt.Quaternion.RotationAxis(new vt.Vector3(0,1,0),t*(Math.PI/180))},t=[],(n=new vt.StandardMaterial("metal",a)).diffuseTexture=new vt.Texture("../textures/metal_crate.png",a),n.emissiveColor=new vt.Color3(.5,.5,.5),(o=vt.Mesh.CreateBox("metal_box",1,a)).scaling=new vt.Vector3(.4,.4,.4),o.position=new vt.Vector3(-.5,0,0),o.material=n,o.physicsImpostor=new vt.PhysicsImpostor(o,vt.PhysicsImpostor.BoxImpostor,{mass:5},a),o.XRPickable=!0,t.push(o),O.logicManager.AddDisposableStuff(o),e.abrupt("return",t);case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function B(){return k.apply(this,arguments)}function k(){return(k=Object(W.a)(G.a.mark((function e(){var t,n,o,i,r,s;return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return function(e,t){e.rotationQuaternion=new vt.Quaternion.RotationAxis(new vt.Vector3(0,1,0),t*(Math.PI/180))},t=[],(n=new vt.StandardMaterial("metal",a)).diffuseTexture=new vt.Texture("../textures/metal_crate.png",a),n.emissiveColor=new vt.Color3(.5,.5,.5),(o=vt.Mesh.CreateBox("metal_box",1,a)).scaling=new vt.Vector3(.4,.4,.4),o.position=new vt.Vector3(-.5,0,-.5),o.material=n,o.XRPickable=!0,(i=new vt.StandardMaterial("wood",a)).diffuseTexture=new vt.Texture("../textures/crate.png",a),i.emissiveColor=new vt.Color3(.5,.5,.5),(r=vt.Mesh.CreateBox("wood_box",1,a)).position=new vt.Vector3(0,0,2.3),r.material=i,o.physicsImpostor=new vt.PhysicsImpostor(o,vt.PhysicsImpostor.BoxImpostor,{mass:5},a),r.parent=o,(s=new vt.MeshBuilder.CreateTube("tube",{path:[new vt.Vector3(0,0,0),new vt.Vector3(0,0,2.3)],radius:.05},a)).material=new vt.StandardMaterial("mat",a),s.material.diffuseTexture=new vt.Texture("../textures/rope_texture.jpg",a),s.parent=o,t.push(o),t.push(r),O.logicManager.AddDisposableStuff(o),O.logicManager.AddDisposableStuff(r),e.abrupt("return",t);case 27:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function T(){var e=a.getMeshByName("wood_box"),t=new vt.Vector3(0,0,-.5),n=new vt.Vector3(0,0,-1),o=(new vt.Vector3(0,0,1),vt.Vector3.Zero(),1),i=8,s=o,d=I(s,i),u="?",p="?",h=i,m=O(t,n,.02,2,+o+" N",e,o),f=(P(new vt.Vector3(0,1.1,0),.15,i+" Kg",e,i),C(new vt.Vector3(-1,0,0),.1,"?",e,null));function b(){u=d.toFixed(3).toString(),f.textBlock.text=u+" m/s^2",p=s.toFixed(3).toString(),m.activate()}f.onPointerUpObservable.add((function(){u="?",f.textBlock.text=u+" m/s^2"})),m.button.onPointerUpObservable.add((function(){u=I(o,i).toFixed(3).toString(),f.textBlock.text=u+" m/s^2",p=o.toFixed(3).toString()}));var g=l.button.onPointerUpObservable.add((function(){b()}));l.addObserver(g);var x=function(e){o=Math.floor(e),p=s=o,d=I(s,i),m.editForce(o),m.button.textBlock.text=o+" N"},v=function(e){return Math.floor(e)},y=new Mt.SliderGroup("Control de fuerza","S");y.addSlider("Fuerza",x,"N",0,20,o,v),l.controlPanel.addGroup(y),l.controlPanel.heightInPixels=100;var w=0,M=a.onBeforeRenderObservable.add((function(){a.deltaTime&&(w+=a.deltaTime),w>=100&&(c.setViewData("a: "+u+" m/s^2\nFR: "+p+" N\nm: "+h+" Kg"),w=0)}));function O(e,t,n,o,i,r,s){new vt.TransformNode("root");for(var c=[],l=.5,d=30,u=2*Math.PI/d,p=0;p<=d;p++)c.push(new vt.Vector3(l*Math.cos(p*u),l*Math.sin(p*u),0));c.push(c[0]);var h=1.5,m=1.5,f=10-h;t.normalize();var b=e.add(t.scale(f)),g=b.add(t.scale(h)),x=[];x.push(e),x.push(b),x.push(b),x.push(g);var v=function(e,t){switch(e){case 0:case 1:return 1;case 2:return m/l;case 3:return 0}},y=vt.MeshBuilder.ExtrudeShapeCustom("arrow",{shape:c,path:x,updatable:!0,scaleFunction:v,sideOrientation:vt.Mesh.DOUBLESIDE}),w={},M=function(e,t,n,o){var s=n[3].subtract(n[2]).length(),c=n[3].subtract(n[0]).length()*o-s,l=n[0],d=n[1].subtract(n[0]);d.normalize();var u=l.add(d.scale(c)),p=u.add(d.scale(s));n[1]=u,n[2]=u,n[3]=p,vt.MeshBuilder.ExtrudeShapeCustom("arrow",{shape:t,path:n,scaleFunction:v,instance:e});var h=u;h.x=h.x/2,h.y=h.y/2,h.z=h.z/2;var m=vt.MeshBuilder.CreatePlane("planearrow",{width:3,height:3},a);m.nonXREditable=!0,m.rotation.y=Math.PI/180*90,m.parent=e,m.scalingDeterminant=o,m.position=h,m.position.y=2*o;var f=Mt.AdvancedDynamicTexture.CreateForMesh(m);(w=Mt.Button.CreateSimpleButton("but1",i)).width=3,w.height=3,w.color="white",w.fontSize=400,w.background="green",w.onPointerUpObservable.add((function(){A(r)})),f.addControl(w)},O=t,P=s,C=vt.Vector3.Zero(),I=function(e,t){var n=new vt.Matrix;return e.rotationQuaternion.toRotationMatrix(n),vt.Vector3.TransformNormal(t,n)},j=function(e){P=e},A=function(e){e.physicsImpostor.applyImpulse(I(e,O).scale(P),e.getAbsolutePosition().add(C))};function S(){A(r)}return M(y,c,x,o),r&&(y.parent=r,y.scaling=new vt.Vector3(n/r.scaling.x,n/r.scaling.y,n/r.scaling.z),y.position=e),{activate:S,button:w,editForce:j}}function P(e,t,n,o,i){null==i||(o.physicsImpostor.mass=i);var r=vt.MeshBuilder.CreatePlane("planearrow",{width:1,height:1},a);r.nonXREditable=!0,r.rotation.y=Math.PI/180*90,r.parent=o,r.scaling=new vt.Vector3(t/o.scaling.x,t/o.scaling.y,t/o.scaling.z),r.position=e;var s=Mt.AdvancedDynamicTexture.CreateForMesh(r),c=Mt.Button.CreateSimpleButton("but1",n);return c.width=1,c.height=1,c.color="white",c.fontSize=300,c.background="green",c.onPointerUpObservable.add((function(){})),s.addControl(c),c}function C(e,t,n,o,i){var r=vt.MeshBuilder.CreatePlane("planearrow",{width:1,height:1},a);r.nonXREditable=!0,r.rotation.y=Math.PI/180*90,r.parent=o,r.scaling=new vt.Vector3(t/o.scaling.x,t/o.scaling.y,t/o.scaling.z),r.position=e;var s=Mt.AdvancedDynamicTexture.CreateForMesh(r),c=Mt.Button.CreateSimpleButton("but1",n+" m/s^2");return c.width=1,c.height=1,c.color="white",c.fontSize=300,c.background="green",c.onPointerUpObservable.add((function(){})),s.addControl(c),c}r.push(M);function I(e,t){return 0==t?0:e/t}}function E(){var e=a.getMeshByName("metal_box"),t=new vt.Vector3(0,0,-.5),n=new vt.Vector3(0,0,-1),o=new vt.Vector3(0,0,.5),i=new vt.Vector3(0,0,1),s=1,d=2,u=20,p=s-d;function h(){return p=s-d}B(p,u);var m="?",f="?",b=u,g=j(t,n,.02,2,+s+" N",e,s),x=j(o,i,.02,2,+d+" N",e,d),v=(A(new vt.Vector3(0,1.1,0),.15,u+" Kg",e,u),S(new vt.Vector3(-1,0,0),.1,"?",e,null));function y(){m=B(h(),u).toFixed(3).toString(),v.textBlock.text=m+" m/s^2",f=h().toFixed(3).toString(),g.activate(),x.activate()}var w=l.button.onPointerUpObservable.add((function(){y()}));v.onPointerUpObservable.add((function(){m="?",v.textBlock.text=m+" m/s^2"})),g.button.onPointerUpObservable.add((function(){m=B(s,u).toFixed(3).toString(),v.textBlock.text=m+" m/s^2",f=s.toFixed(3).toString()})),x.button.onPointerUpObservable.add((function(){m=B(d,u).toFixed(3).toString(),v.textBlock.text=m+" m/s^2",f=d.toFixed(3).toString()})),l.addObserver(w);var M=function(e){s=Math.floor(e),p=h(),f=p,B(p,u),g.editForce(s),g.button.textBlock.text=s+" N"},O=function(e){d=Math.floor(e),p=h(),f=p,B(p,u),x.editForce(d),x.button.textBlock.text=d+" N"},P=new Mt.SliderGroup("Suma de fuerzas","S");P.addSlider("Fuerza positiva",M,"N",0,20,s,k),P.addSlider("Fuerza negativa",O,"N",0,20,d,k),l.controlPanel.addGroup(P),l.controlPanel.heightInPixels=160;var C=0,I=a.onBeforeRenderObservable.add((function(){a.deltaTime&&(C+=a.deltaTime),C>=100&&(c.setViewData("a: "+m+" m/s^2\nFR: "+f+" N\nm: "+b+" Kg"),C=0)}));function j(e,t,n,o,i,r,s){new vt.TransformNode("root");for(var c=[],l=.5,d=30,u=2*Math.PI/d,p=0;p<=d;p++)c.push(new vt.Vector3(l*Math.cos(p*u),l*Math.sin(p*u),0));c.push(c[0]);var h=1.5,m=1.5,f=10-h;t.normalize();var b=e.add(t.scale(f)),g=b.add(t.scale(h)),x=[];x.push(e),x.push(b),x.push(b),x.push(g);var v=function(e,t){switch(e){case 0:case 1:return 1;case 2:return m/l;case 3:return 0}},y=vt.MeshBuilder.ExtrudeShapeCustom("arrow",{shape:c,path:x,updatable:!0,scaleFunction:v,sideOrientation:vt.Mesh.DOUBLESIDE}),w={},M=function(e,t,n,o){var s=n[3].subtract(n[2]).length(),c=n[3].subtract(n[0]).length()*o-s,l=n[0],d=n[1].subtract(n[0]);d.normalize();var u=l.add(d.scale(c)),p=u.add(d.scale(s));n[1]=u,n[2]=u,n[3]=p,vt.MeshBuilder.ExtrudeShapeCustom("arrow",{shape:t,path:n,scaleFunction:v,instance:e});var h=u;h.x=h.x/2,h.y=h.y/2,h.z=h.z/2;var m=vt.MeshBuilder.CreatePlane("planearrow",{width:3,height:3},a);m.nonXREditable=!0,m.rotation.y=Math.PI/180*90,m.parent=e,m.scalingDeterminant=o,m.position=h,m.position.y=2*o;var f=Mt.AdvancedDynamicTexture.CreateForMesh(m);(w=Mt.Button.CreateSimpleButton("but1",i)).width=3,w.height=3,w.color="white",w.fontSize=400,w.background="green",w.onPointerUpObservable.add((function(){A(r)})),f.addControl(w)},O=t,P=s,C=vt.Vector3.Zero(),I=function(e,t){var n=new vt.Matrix;return e.rotationQuaternion.toRotationMatrix(n),vt.Vector3.TransformNormal(t,n)},j=function(e){P=e},A=function(e){e.physicsImpostor.applyImpulse(I(e,O).scale(P),e.getAbsolutePosition().add(C))};function S(){A(r)}return M(y,c,x,o),r&&(y.parent=r,y.scaling=new vt.Vector3(n/r.scaling.x,n/r.scaling.y,n/r.scaling.z),y.position=e),{activate:S,button:w,editForce:j}}function A(e,t,n,o,i){null==i||(o.physicsImpostor.mass=i);var r=vt.MeshBuilder.CreatePlane("planearrow",{width:1,height:1},a);r.nonXREditable=!0,r.rotation.y=Math.PI/180*90,r.parent=o,r.scaling=new vt.Vector3(t/o.scaling.x,t/o.scaling.y,t/o.scaling.z),r.position=e;var s=Mt.AdvancedDynamicTexture.CreateForMesh(r),c=Mt.Button.CreateSimpleButton("but1",n);return c.width=1,c.height=1,c.color="white",c.fontSize=300,c.background="green",c.onPointerUpObservable.add((function(){})),s.addControl(c),c}function S(e,t,n,o,i){var r=vt.MeshBuilder.CreatePlane("planearrow",{width:1,height:1},a);r.nonXREditable=!0,r.rotation.y=Math.PI/180*90,r.parent=o,r.scaling=new vt.Vector3(t/o.scaling.x,t/o.scaling.y,t/o.scaling.z),r.position=e;var s=Mt.AdvancedDynamicTexture.CreateForMesh(r),c=Mt.Button.CreateSimpleButton("but1",n+" m/s^2");return c.width=1,c.height=1,c.color="white",c.fontSize=300,c.background="green",c.onPointerUpObservable.add((function(){})),s.addControl(c),c}r.push(I);function B(e,t){return 0==t?0:e/t}var k=function(e){return Math.floor(e)}}function R(){var e=a.getMeshByName("metal_box"),t=new vt.Vector3(0,-.25,-.5),n=new vt.Vector3(0,0,-1),o=new vt.Vector3(0,0,.5),i=new vt.Vector3(0,0,1),s=new vt.Vector3(0,.25,-.5),d=new vt.Vector3(0,0,-1),u=1,p=2,h=10,m=30,f=u-p+h;function b(){return f=u-p+h}R(f,m);var g="?",x="?",v=m,y=k(t,n,.02,2,+u+" N",e,u),w=k(o,i,.02,2,+p+" N",e,p),M=k(s,d,.02,2,+h+" N",e,h),O=(T(new vt.Vector3(0,1.1,0),.15,m+" Kg",e,m),E(new vt.Vector3(-1,0,0),.1,"?",e,null));function P(){g=R(b(),m).toFixed(3).toString(),O.textBlock.text=g+" m/s^2",x=b().toFixed(3).toString(),y.activate(),w.activate(),M.activate()}var C=l.button.onPointerUpObservable.add((function(){P()}));O.onPointerUpObservable.add((function(){g="?",O.textBlock.text=g+" m/s^2"})),y.button.onPointerUpObservable.add((function(){g=R(u,m).toFixed(3).toString(),O.textBlock.text=g+" m/s^2",x=u.toFixed(3).toString()})),w.button.onPointerUpObservable.add((function(){g=R(p,m).toFixed(3).toString(),O.textBlock.text=g+" m/s^2",x=p.toFixed(3).toString()})),M.button.onPointerUpObservable.add((function(){g=R(h,m).toFixed(3).toString(),O.textBlock.text=g+" m/s^2",x=h.toFixed(3).toString()})),l.addObserver(C);var I=function(e){u=Math.floor(e),f=b(),x=f,R(f,m),y.editForce(u),y.button.textBlock.text=u+" N"},j=function(e){p=Math.floor(e),f=b(),x=f,R(f,m),w.editForce(p),w.button.textBlock.text=p+" N"},A=new Mt.SliderGroup("Suma de fuerzas","S");A.addSlider("Fuerza positiva",I,"N",0,20,u,N),A.addSlider("Fuerza negativa",j,"N",0,20,p,N),l.controlPanel.addGroup(A),l.controlPanel.heightInPixels=160;var S=0,B=a.onBeforeRenderObservable.add((function(){a.deltaTime&&(S+=a.deltaTime),S>=100&&(c.setViewData("a: "+g+" m/s^2\nFR: "+x+" N\nm: "+v+" Kg"),S=0)}));function k(e,t,n,o,i,r,s){new vt.TransformNode("root");for(var c=[],l=.5,d=30,u=2*Math.PI/d,p=0;p<=d;p++)c.push(new vt.Vector3(l*Math.cos(p*u),l*Math.sin(p*u),0));c.push(c[0]);var h=1.5,m=1.5,f=10-h;t.normalize();var b=e.add(t.scale(f)),g=b.add(t.scale(h)),x=[];x.push(e),x.push(b),x.push(b),x.push(g);var v=function(e,t){switch(e){case 0:case 1:return 1;case 2:return m/l;case 3:return 0}},y=vt.MeshBuilder.ExtrudeShapeCustom("arrow",{shape:c,path:x,updatable:!0,scaleFunction:v,sideOrientation:vt.Mesh.DOUBLESIDE}),w={},M=function(e,t,n,o){var s=n[3].subtract(n[2]).length(),c=n[3].subtract(n[0]).length()*o-s,l=n[0],d=n[1].subtract(n[0]);d.normalize();var u=l.add(d.scale(c)),p=u.add(d.scale(s));n[1]=u,n[2]=u,n[3]=p,vt.MeshBuilder.ExtrudeShapeCustom("arrow",{shape:t,path:n,scaleFunction:v,instance:e});var h=u;h.x=h.x/2,h.y=h.y/2,h.z=h.z/2;var m=vt.MeshBuilder.CreatePlane("planearrow",{width:3,height:3},a);m.nonXREditable=!0,m.rotation.y=Math.PI/180*90,m.parent=e,m.scalingDeterminant=o,m.position=h,m.position.y=2*o;var f=Mt.AdvancedDynamicTexture.CreateForMesh(m);(w=Mt.Button.CreateSimpleButton("but1",i)).width=3,w.height=3,w.color="white",w.fontSize=400,w.background="green",w.onPointerUpObservable.add((function(){A(r)})),f.addControl(w)},O=t,P=s,C=vt.Vector3.Zero(),I=function(e,t){var n=new vt.Matrix;return e.rotationQuaternion.toRotationMatrix(n),vt.Vector3.TransformNormal(t,n)},j=function(e){P=e},A=function(e){e.physicsImpostor.applyImpulse(I(e,O).scale(P),e.getAbsolutePosition().add(C))};function S(){A(r)}return M(y,c,x,o),r&&(y.parent=r,y.scaling=new vt.Vector3(n/r.scaling.x,n/r.scaling.y,n/r.scaling.z),y.position=e),{activate:S,button:w,editForce:j}}function T(e,t,n,o,i){null==i||(o.physicsImpostor.mass=i);var r=vt.MeshBuilder.CreatePlane("planearrow",{width:1,height:1},a);r.nonXREditable=!0,r.rotation.y=Math.PI/180*90,r.parent=o,r.scaling=new vt.Vector3(t/o.scaling.x,t/o.scaling.y,t/o.scaling.z),r.position=e;var s=Mt.AdvancedDynamicTexture.CreateForMesh(r),c=Mt.Button.CreateSimpleButton("but1",n);return c.width=1,c.height=1,c.color="white",c.fontSize=300,c.background="green",c.onPointerUpObservable.add((function(){})),s.addControl(c),c}function E(e,t,n,o,i){var r=vt.MeshBuilder.CreatePlane("planearrow",{width:1,height:1},a);r.nonXREditable=!0,r.rotation.y=Math.PI/180*90,r.parent=o,r.scaling=new vt.Vector3(t/o.scaling.x,t/o.scaling.y,t/o.scaling.z),r.position=e;var s=Mt.AdvancedDynamicTexture.CreateForMesh(r),c=Mt.Button.CreateSimpleButton("but1",n+" m/s^2");return c.width=1,c.height=1,c.color="white",c.fontSize=300,c.background="green",c.onPointerUpObservable.add((function(){})),s.addControl(c),c}r.push(B);function R(e,t){return 0==t?0:e/t}var N=function(e){return Math.floor(e)}}function N(){var e=a.getMeshByName("metal_box"),t=a.getMeshByName("wood_box"),n=new vt.Vector3(0,-.25,-.5),o=new vt.Vector3(0,0,-1),i=new vt.Vector3(0,0,2.5),s=new vt.Vector3(0,0,1),d=new vt.Vector3(0,.25,-.5),u=new vt.Vector3(0,0,-1),p=1,h=3,m=2,f=30,b=p-h+m;function g(){return b=p-h+m}V(b,f);var x="?",v="?",y=f,w=E(n,o,.02,2,+p+" N",e,p),M=E(i,s,.02,2,+h+" N",e,h),O=E(d,u,.02,2,+m+" N",e,m),P=(R(new vt.Vector3(0,1.1,0),.15,"20 Kg",e,f),R(new vt.Vector3(0,1.1,0),.4,"10 Kg",t,null),N(new vt.Vector3(-1,0,0),.1,"?",e,null));function C(){x=V(g(),f).toFixed(3).toString(),P.textBlock.text=x+" m/s^2",v=g().toFixed(3).toString(),w.activate(),M.activate(),O.activate()}var I=l.button.onPointerUpObservable.add((function(){C()}));P.onPointerUpObservable.add((function(){x="?",P.textBlock.text=x+" m/s^2"})),w.button.onPointerUpObservable.add((function(){x=V(p,f).toFixed(3).toString(),P.textBlock.text=x+" m/s^2",v=p.toFixed(3).toString()})),M.button.onPointerUpObservable.add((function(){x=V(h,f).toFixed(3).toString(),P.textBlock.text=x+" m/s^2",v=h.toFixed(3).toString()})),O.button.onPointerUpObservable.add((function(){x=V(m,f).toFixed(3).toString(),P.textBlock.text=x+" m/s^2",v=m.toFixed(3).toString()})),l.addObserver(I);var j=function(e){p=Math.floor(e),b=g(),v=b,V(b,f),w.editForce(p),w.button.textBlock.text=p+" N"},A=function(e){h=Math.floor(e),b=g(),v=b,V(b,f),M.editForce(h),M.button.textBlock.text=h+" N"},S=function(e){m=Math.floor(e),b=g(),v=b,V(b,f),O.editForce(m),O.button.textBlock.text=m+" N"},B=new Mt.SliderGroup("Control de fuerzas","S");B.addSlider("Fuerza positiva 1",j,"N",0,20,p,_),B.addSlider("Fuerza positiva 2",S,"N",0,20,m,_),B.addSlider("Fuerza negativa 1",A,"N",0,20,h,_),l.controlPanel.addGroup(B),l.controlPanel.heightInPixels=220;var k=0,T=a.onBeforeRenderObservable.add((function(){a.deltaTime&&(k+=a.deltaTime),k>=100&&(c.setViewData("a: "+x+" m/s^2\nFR: "+v+" N\nm: "+y+" Kg"),k=0)}));function E(e,t,n,o,i,r,s){new vt.TransformNode("root");for(var c=[],l=.5,d=30,u=2*Math.PI/d,p=0;p<=d;p++)c.push(new vt.Vector3(l*Math.cos(p*u),l*Math.sin(p*u),0));c.push(c[0]);var h=1.5,m=1.5,f=10-h;t.normalize();var b=e.add(t.scale(f)),g=b.add(t.scale(h)),x=[];x.push(e),x.push(b),x.push(b),x.push(g);var v=function(e,t){switch(e){case 0:case 1:return 1;case 2:return m/l;case 3:return 0}},y=vt.MeshBuilder.ExtrudeShapeCustom("arrow",{shape:c,path:x,updatable:!0,scaleFunction:v,sideOrientation:vt.Mesh.DOUBLESIDE}),w={},M=function(e,t,n,o){var s=n[3].subtract(n[2]).length(),c=n[3].subtract(n[0]).length()*o-s,l=n[0],d=n[1].subtract(n[0]);d.normalize();var u=l.add(d.scale(c)),p=u.add(d.scale(s));n[1]=u,n[2]=u,n[3]=p,vt.MeshBuilder.ExtrudeShapeCustom("arrow",{shape:t,path:n,scaleFunction:v,instance:e});var h=u;h.x=h.x/2,h.y=h.y/2,h.z=h.z/2;var m=vt.MeshBuilder.CreatePlane("planearrow",{width:3,height:3},a);m.nonXREditable=!0,m.rotation.y=Math.PI/180*90,m.parent=e,m.scalingDeterminant=o,m.position=h,m.position.y=2*o;var f=Mt.AdvancedDynamicTexture.CreateForMesh(m);(w=Mt.Button.CreateSimpleButton("but1",i)).width=3,w.height=3,w.color="white",w.fontSize=400,w.background="green",w.onPointerUpObservable.add((function(){A(r)})),f.addControl(w)},O=t,P=s,C=vt.Vector3.Zero(),I=function(e,t){var n=new vt.Matrix;return e.rotationQuaternion.toRotationMatrix(n),vt.Vector3.TransformNormal(t,n)},j=function(e){P=e},A=function(e){e.physicsImpostor.applyImpulse(I(e,O).scale(P),e.getAbsolutePosition().add(C))};function S(){A(r)}return M(y,c,x,o),r&&(y.parent=r,y.scaling=new vt.Vector3(n/r.scaling.x,n/r.scaling.y,n/r.scaling.z),y.position=e),{activate:S,button:w,editForce:j}}function R(e,t,n,o,i){null==i||(o.physicsImpostor.mass=i);var r=vt.MeshBuilder.CreatePlane("planearrow",{width:1,height:1},a);r.nonXREditable=!0,r.rotation.y=Math.PI/180*90,r.parent=o,r.scaling=new vt.Vector3(t/o.scaling.x,t/o.scaling.y,t/o.scaling.z),r.position=e;var s=Mt.AdvancedDynamicTexture.CreateForMesh(r),c=Mt.Button.CreateSimpleButton("but1",n);return c.width=1,c.height=1,c.color="white",c.fontSize=300,c.background="green",c.onPointerUpObservable.add((function(){})),s.addControl(c),c}function N(e,t,n,o,i){var r=vt.MeshBuilder.CreatePlane("planearrow",{width:1,height:1},a);r.nonXREditable=!0,r.rotation.y=Math.PI/180*90,r.parent=o,r.scaling=new vt.Vector3(t/o.scaling.x,t/o.scaling.y,t/o.scaling.z),r.position=e;var s=Mt.AdvancedDynamicTexture.CreateForMesh(r),c=Mt.Button.CreateSimpleButton("but1",n+" m/s^2");return c.width=1,c.height=1,c.color="white",c.fontSize=300,c.background="green",c.onPointerUpObservable.add((function(){})),s.addControl(c),c}r.push(T);function V(e,t){return 0==t?0:e/t}var _=function(e){return Math.floor(e)}}function V(){var e=a.getMeshByName("carBox1"),t=new vt.Vector3(0,0,.5),n=new vt.Vector3(0,0,-.5),o=new vt.Vector3(0,0,1),i=new vt.Vector3(0,0,-1),s=(new vt.Vector3(0,0,1),vt.Vector3.Zero(),50),d=10,u=80,p=s-d,h=C(p,u),m="?",f="?",b=u,g=M(t,o,.02,2,+s+" N",e,s),x=M(n,i,.02,1.3,+d+" N",e,d),v=(O(new vt.Vector3(0,1.1,0),.15,u+" Kg",e,u),P(new vt.Vector3(1,0,0),.1,"?",e,null));function y(){m=h.toFixed(3).toString(),v.textBlock.text=m+" m/s^2",f=p.toFixed(3).toString(),g.activate(),x.activate()}v.onPointerUpObservable.add((function(){m="?",v.textBlock.text=m+" m/s^2"})),g.button.onPointerUpObservable.add((function(){m=C(s,u).toFixed(3).toString(),v.textBlock.text=m+" m/s^2",f=s.toFixed(3).toString()})),x.button.onPointerUpObservable.add((function(){m=C(d,u).toFixed(3).toString(),v.textBlock.text=m+" m/s^2",f=d.toFixed(3).toString()}));var w=l.button.onPointerUpObservable.add((function(){y()}));function M(e,t,n,o,i,r,s){new vt.TransformNode("root");for(var c=[],l=.5,d=30,u=2*Math.PI/d,p=0;p<=d;p++)c.push(new vt.Vector3(l*Math.cos(p*u),l*Math.sin(p*u),0));c.push(c[0]);var h=1.5,m=1.5,f=10-h;t.normalize();var b=e.add(t.scale(f)),g=b.add(t.scale(h)),x=[];x.push(e),x.push(b),x.push(b),x.push(g);var v=function(e,t){switch(e){case 0:case 1:return 1;case 2:return m/l;case 3:return 0}},y=vt.MeshBuilder.ExtrudeShapeCustom("arrow",{shape:c,path:x,updatable:!0,scaleFunction:v,sideOrientation:vt.Mesh.DOUBLESIDE}),w={},M=function(e,t,n,o){var s=n[3].subtract(n[2]).length(),c=n[3].subtract(n[0]).length()*o-s,l=n[0],d=n[1].subtract(n[0]);d.normalize();var u=l.add(d.scale(c)),p=u.add(d.scale(s));n[1]=u,n[2]=u,n[3]=p,vt.MeshBuilder.ExtrudeShapeCustom("arrow",{shape:t,path:n,scaleFunction:v,instance:e});var h=u;h.x=h.x/2,h.y=h.y/2,h.z=h.z/2;var m=vt.MeshBuilder.CreatePlane("planearrow",{width:3,height:3},a);m.nonXREditable=!0,m.rotation.y=Math.PI/180*270,m.parent=e,m.scalingDeterminant=o,m.position=h,m.position.y=2*o;var f=Mt.AdvancedDynamicTexture.CreateForMesh(m);(w=Mt.Button.CreateSimpleButton("but1",i)).width=3,w.height=3,w.color="white",w.fontSize=400,w.background="green",w.onPointerUpObservable.add((function(){j(r)})),f.addControl(w)},O=t,P=s,C=vt.Vector3.Zero(),I=function(e,t){var n=new vt.Matrix;return e.rotationQuaternion.toRotationMatrix(n),vt.Vector3.TransformNormal(t,n)},j=function(e){e.physicsImpostor.applyImpulse(I(e,O).scale(P),e.getAbsolutePosition().add(C))};function A(){j(r)}return M(y,c,x,o),r&&(y.parent=r,y.scaling=new vt.Vector3(n/r.scaling.x,n/r.scaling.y,n/r.scaling.z),y.position=e),{activate:A,button:w}}function O(e,t,n,o,i){null==i||(o.physicsImpostor.mass=i);var r=vt.MeshBuilder.CreatePlane("planearrow",{width:1,height:1},a);r.nonXREditable=!0,r.rotation.y=Math.PI/180*270,r.parent=o,r.scaling=new vt.Vector3(t/o.scaling.x,t/o.scaling.y,t/o.scaling.z),r.position=e;var s=Mt.AdvancedDynamicTexture.CreateForMesh(r),c=Mt.Button.CreateSimpleButton("but1",n);return c.width=1,c.height=1,c.color="white",c.fontSize=300,c.background="green",c.onPointerUpObservable.add((function(){})),s.addControl(c),c}function P(e,t,n,o,i){var r=vt.MeshBuilder.CreatePlane("planearrow",{width:1,height:1},a);r.nonXREditable=!0,r.rotation.y=Math.PI/180*270,r.parent=o,r.scaling=new vt.Vector3(t/o.scaling.x,t/o.scaling.y,t/o.scaling.z),r.position=e;var s=Mt.AdvancedDynamicTexture.CreateForMesh(r),c=Mt.Button.CreateSimpleButton("but1",n+" m/s^2");return c.width=1,c.height=1,c.color="white",c.fontSize=300,c.background="green",c.onPointerUpObservable.add((function(){})),s.addControl(c),c}l.addObserver(w);function C(e,t){return 0==t?0:e/t}var I=0,j=a.onBeforeRenderObservable.add((function(){a.deltaTime&&(I+=a.deltaTime),I>=100&&(c.setViewData("a: "+m+" m/s^2\nFR: "+f+" N\nm: "+b+" Kg"),I=0)}));r.push(j)}b.addModels(I),b.addLogic(T),g.addModels(A),g.addLogic(E),x.addModels(A),x.addLogic(R),v.addModels(B),v.addLogic(N),y.addModels(w),y.addLogic(V),f.addExercise(b),f.addExercise(g),f.addExercise(x),f.addExercise(v),f.addExercise(y),f.Start(P)}()}));var O=Dt(a,2);O.addCard(x),O.addCard(v),O.addCard(y),O.addCard(w),O.addCard(M),O.Start(0);var P=0;var C=new Ot.Timer;var I=new vt.AssetsManager(a);I.onFinish=function(){o.runRenderLoop((function(){a&&(window.document.title=o.getFps().toFixed()+" fps",a.render())}))},a.executeWhenReady((function(){(o.hideLoadingUI(),document.getElementById("xr-button"))&&document.getElementById("xr-button").addEventListener("click",Object(W.a)(G.a.mark((function e(){return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(p.baseExperience.state!==vt.WebXRState.NOT_IN_XR){e.next=7;break}return p.input.xrCamera.position=new vt.Vector3(-3,1,0),p.input.xrCamera.setTarget(vt.Vector3.Zero()),e.next=5,p.baseExperience.enterXRAsync("immersive-ar","local-floor");case 5:e.next=10;break;case 7:if(p.baseExperience.state!==vt.WebXRState.IN_XR){e.next=10;break}return e.next=10,p.baseExperience.exitXRAsync();case 10:case"end":return e.stop()}}),e)}))));document.getElementById("fullscreen-button")&&document.getElementById("fullscreen-button").addEventListener("click",Object(W.a)(G.a.mark((function e(){return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o.switchFullscreen(!1);case 1:case"end":return e.stop()}}),e)}))))})),I.load()}})}),Object(b.jsxs)(D.a,{align:"center",maxWidth:"sm",className:e.babylonbuttons,children:[Object(b.jsx)(C.a,{id:"xr-button",size:"medium",variant:"contained",color:"primary",children:Object(b.jsx)(N.a,{variant:"h6",children:"Entrar a modo XR"})}),Object(b.jsx)(C.a,{id:"fullscreen-button",m:.5,size:"medium",variant:"contained",color:"secondary",children:Object(b.jsx)(N.a,{variant:"h6",children:"pantalla completa"})})]})]})})}var ha=da,ma=n.p+"static/media/card1.389eed7d.PNG",fa=n.p+"static/media/alert2.2455318f.png",ba=function(e){Object($e.a)(n,e);var t=Object(et.a)(n);function n(){return Object(Ye.a)(this,n),t.apply(this,arguments)}return Object(Je.a)(n,[{key:"render",value:function(){return Object(b.jsx)(xt,{data:xa})}}]),n}(a.Component),ga=Object(_.a)((function(e){return{imagebox:{height:"100%",width:"60%",display:"flex",flexDirection:"column"},card:{height:"100%",flexDirection:"column"},media:{height:400},babylonbuttons:{"& > *":{margin:e.spacing(1)}},image:{paddingTop:"10px",paddingBottom:"20px"}}}));function xa(){var e=ga(),t=x().currentUser,n={id:"exercise_2_4",generalTime:"00:00",totalErrors:0,isCompleted:!1,quizes:{quiz_1:{id:"quiz_1",time:"00:00",errors:0,isCompleted:!1},quiz_2:{id:"quiz_2",time:"00:00",errors:0,isCompleted:!1},quiz_3:{id:"quiz_3",time:"00:00",errors:0,isCompleted:!1}}};St(t),Bt(n),Tt(n.id),It.start();return Object(b.jsx)(o.a.Fragment,{children:Object(b.jsxs)(D.a,{maxWidth:"xl",children:[Object(b.jsx)(F.a,{width:"100%",p:1,my:.5,children:Object(b.jsx)(wt,{onSceneMount:function(e){var t=e.canvas,a=e.scene,o=e.engine;o.displayLoadingUI();var i=new Ot.Timer,r=new vt.Vector3(-5,1.5,0),s=new vt.Vector3(0,0,0),c=new vt.UniversalCamera("camera1",r,a);c.setTarget(s),c.attachControl(t,!1),c.speed=.7,c.angularSensibility=1200,c.inertia=.5,new vt.HemisphericLight("light1",new vt.Vector3(0,1,0),a).intensity=.7;var l=vt.MeshBuilder.CreateBox("SkyBox",{size:1e3},a),d=new vt.StandardMaterial("skyBox",a);d.backFaceCulling=!1,d.reflectionTexture=new vt.HDRCubeTexture("textures/lilienstein_4k.hdr",a,512),d.reflectionTexture.coordinatesMode=vt.Texture.SKYBOX_MODE,d.diffuseColor=new vt.Color3(0,0,0),d.specularColor=new vt.Color3(0,0,0),d.disableLighting=!0,l.material=d,a.enablePhysics(new vt.Vector3(0,-9.81,0),new vt.AmmoJSPlugin);a.getPhysicsEngine();a.collisionsEnabled=!0,c.checkCollisions=!0,c.applyGravity=!0,c.ellipsoid=new vt.Vector3(1,.8,1);var u=Pt(a);u.checkCollisions=!0;var p={};function h(){return(h=Object(W.a)(G.a.mark((function e(){return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.createDefaultXRExperienceAsync({disableDefaultUI:!0,uiOptions:{sessionMode:"immersive-ar",referenceSpaceType:"local-floor"},inputOptions:{doNotLoadControllerMeshes:!1}});case 2:(p=e.sent).baseExperience.onStateChangedObservable.add((function(e){e==vt.WebXRState.ENTERING_XR&&(u.visibility=0,l.isVisible=!1),e==vt.WebXRState.NOT_IN_XR&&(u.visibility=1,l.isVisible=!0)}));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){h.apply(this,arguments)}();var m=Ct(vt,a);m.selectMode(0);var f=null,b=null,g=null;a.onPointerObservable.addOnce((function(e){e.type===vt.PointerEventTypes.POINTERMOVE&&i.start()})),a.onPointerObservable.add((function(e){f=e.pickInfo.pickedMesh,e.type===vt.PointerEventTypes.POINTERDOWN&&(e.pickInfo.pickedMesh&&e.pickInfo.pickedMesh.XRPickable&&(a.constantlyUpdateMeshUnderPointer=!0,g=!0,b=f,m.attachToMesh(b)),e.pickInfo.pickedMesh&&e.pickInfo.pickedMesh.nonXREditable,!e.pickInfo.pickedMesh||e.pickInfo.pickedMesh.XRPickable||e.pickInfo.pickedMesh.nonXREditable||(b=null,m.attachToMesh(null))),e.type===vt.PointerEventTypes.POINTERUP&&(a.constantlyUpdateMeshUnderPointer=!1,e.pickInfo.pickedMesh&&e.pickInfo.pickedMesh.XRPickable&&f.physicsImpostor&&(g=!1,f=null))})),a.onBeforePhysicsObservable.add((function(){g&&f&&f.XRPickable&&f.physicsImpostor&&(f.physicsImpostor._physicsBody.setLinearVelocity(0,0,0),f.physicsImpostor._physicsBody.setAngularVelocity(0,0,0))})),a.registerBeforeRender((function(){}));var x=new tn("card1",ma),v=new tn("alert",fa),y=new tn("card2",en);x.addLogic((function(){w.logicManager.ClearAll(),function(){var e=vt.MeshBuilder.CreateBox("groundbox",{width:3,height:.2,depth:3},a);e.physicsImpostor=new vt.PhysicsImpostor(e,vt.PhysicsImpostor.BoxImpostor,{mass:0,restitution:.7},a),w.logicManager.AddDisposableStuff(e);var t=new vt.StandardMaterial("ground_mat",a);t.diffuseTexture=new vt.Texture("../textures/cannon_tex.jpg",a),t.emissiveColor=new vt.Color3(.5,.5,.5),e.material=t;var n=vt.MeshBuilder.CreateSphere("ball",{segments:8,diameter:.4},a);n.position.y=5,n.physicsImpostor=new vt.PhysicsImpostor(n,vt.PhysicsImpostor.SphereImpostor,{mass:5,restitution:1},a),n.XRPickable=!0;var o=new vt.StandardMaterial("bastetball_mat",a);o.diffuseTexture=new vt.Texture("../textures/basketball.png",a),o.emissiveColor=new vt.Color3(.5,.5,.5),n.material=o,w.logicManager.AddDisposableStuff(n);var i=!1,r=new vt.Vector3(0,0,-1.5),s=new vt.Vector3(0,1,0),c=d(r,s,.06,.75,"Reacci\xf3n",e,1);function l(e,t){e.onCollide=function(e){i||(c.arrow.isVisible=!0,c.plane.isVisible=!0,i=!0),c.arrow.position=e.point}}function d(e,t,n,o,i,r,s){for(var c=new vt.TransformNode("root"),l=[],d=.5,u=30,p=2*Math.PI/u,h=0;h<=u;h++)l.push(new vt.Vector3(d*Math.cos(h*p),d*Math.sin(h*p),0));l.push(l[0]);var m=1.5,f=1.5,b=10-m;t.normalize();var g=e.add(t.scale(b)),x=g.add(t.scale(m)),v=[];v.push(e),v.push(g),v.push(g),v.push(x);var y=function(e,t){switch(e){case 0:case 1:return 1;case 2:return f/d;case 3:return 0}},w=vt.MeshBuilder.ExtrudeShapeCustom("arrow",{shape:l,path:v,updatable:!0,scaleFunction:y,sideOrientation:vt.Mesh.DOUBLESIDE}),M=new vt.StandardMaterial("mat");M.diffuseColor=new vt.Color3.Red,w.material=M,w.material.alpha=.6;var O={},P={},C=function(e,t,n,o){var r=n[3].subtract(n[2]).length(),s=n[3].subtract(n[0]).length()*o-r,c=n[0],l=n[1].subtract(n[0]);l.normalize();var d=c.add(l.scale(s)),u=d.add(l.scale(r));n[1]=d,n[2]=d,n[3]=u,vt.MeshBuilder.ExtrudeShapeCustom("arrow",{shape:t,path:n,scaleFunction:y,instance:e});var p=d;p.x=p.x/2,p.y=p.y/2,p.z=p.z/2,(P=vt.MeshBuilder.CreatePlane("planearrow",{width:6,height:4},a)).nonXREditable=!0,P.parent=e,P.scalingDeterminant=o,P.position=u,P.position.y+=2,P.billboardMode=vt.Mesh.BILLBOARDMODE_ALL;var h=new Mt.AdvancedDynamicTexture.CreateForMesh(P,300,200),m=new Mt.Container("container"),f=new Mt.Rectangle("rectangle");f.background="black",f.alpha=.35,m.addControl(f),(O=new Mt.Button.CreateSimpleButton("but1",i)).width=1,O.height=1,O.textBlock.fontStyle="bold",O.textBlock.fontSize=68,O.textBlock.color="white",O.color="transparent",O.onPointerUpObservable.add((function(){})),h.addControl(m),m.addControl(O)},I=e;(c=new vt.TransformNode("root")).parent=r,c.position=I;var j=function(e){e};function A(){}return C(w,l,v,o),r&&(w.parent=r,w.scaling=new vt.Vector3(n/r.scaling.x,n/r.scaling.y,n/r.scaling.z),w.position=e),{activate:A,button:O,editForce:j,arrow:w,plane:P}}c.arrow.isVisible=!1,c.plane.isVisible=!1,n.physicsImpostor.registerOnPhysicsCollide(u.physicsImpostor,l)}()})),v.addLogic((function(){w.logicManager.ClearAll()})),y.addLogic((function(){w.logicManager.ClearAll(),function(){var e=[],t=[],o=[],r=[],s=Ft(a,1,!0);s.displayPlane.position.copyFrom(w.displayPlane.position),s.displayPlane.position.x-=.3,s.displayPlane.position.y+=.5;var c=Lt(a,1,!0);c.displayPlane.position.copyFrom(w.displayPlane.position),c.displayPlane.position.x-=.3,c.displayPlane.position.z-=2.4,c.displayPlane.position.y+=.4,c.addFormulaImage("/images/equ2-1.png");var l=zt(a,1,!0);l.displayPlane.position.copyFrom(w.displayPlane.position),l.displayPlane.position.x-=.3,l.displayPlane.position.z+=2.4,l.displayPlane.position.y+=.4,w.logicManager.AddTemporalGUI(s.displayPlane),w.logicManager.AddTemporalGUI(c.displayPlane),w.logicManager.AddTemporalGUI(l.displayPlane),s.leftarrow.onPointerClickObservable.add((function(){--M<0&&M++,e[M]&&f.Start(M)})),s.rightarrow.onPointerClickObservable.add((function(){++M>e.length-1&&M--,e[M]&&f.Start(M)})),s.finalanswerButton.onPointerUpObservable.add((function(){var e;s.getIsCorrect()?(Nt(e="quiz_"+(M+1),i.getTimeValues().toString()),Rt(e).isCompleted=!0,Et(n.id),i.reset(),kt().isCompleted?(s.setIscompleted(!0),s.allcompletedPanel.show()):s.correctPanel.show()):(_t(e="quiz_"+(M+1)),Vt(e),Et(n.id),kt().isCompleted?(s.setIscompleted(!0),s.allcompletedPanel.show()):s.incorrectPanel.show())})),l.button2.onPointerUpObservable.add((function(){f.Reset(),i.reset()})),O.isRunning()||O.start();function d(){return Rt("quiz_"+(M+1)).isCompleted?" (Completada)":""}function u(){return Rt("quiz_"+(M+1)).errors}function p(){return kt().isCompleted?(O.pause(),h(O.getTimeValues().minutes)+":"+h(O.getTimeValues().seconds)+"\nSecci\xf3n de preguntas finalizada!"):h(O.getTimeValues().minutes)+":"+h(O.getTimeValues().seconds)}function h(e){return e<=9?"0"+e:e}a.onBeforeRenderObservable.add((function(){s.time_number.text="Tiempo: "+p(),s.error_number.text="Errores: "+u(),s.question_number.text="Pregunta: "+(M+1)+"/"+e.length+d()}));function m(){function n(n){t.push(n),e.push(n.quiz)}function d(t){s.loadquiz(e[t])}function u(e){M=e,t[e].Load_Models().then((function(n){h(),o=n,t[e].Load_Logic&&(t[e].Load_Logic(),d(e),i.reset())}))}function p(){u(M)}function h(){l.clearObservers(),l.clearItems(),c.clearViewData(),console.log("reseteando"),void 0!=r&&r.forEach((function(e){a.onBeforeRenderObservable.remove(e)})),void 0!=o&&o.forEach((function(e){Array.isArray(e)?e.forEach((function(e){return e.dispose()})):e.dispose()}))}return l.button2.onPointerUpObservable.add((function(){p()})),{addExercise:n,LoadQuiz:d,Start:u,Reset:p,ClearStuff:h}}var f=m(),b=new Xt("1.- Determina la reacci\xf3n del auto de juguete mostrado a 12N",["A) 6 N","B) 12 m/s^2","C) 15 N","D) 10 N"],1,[""]),g=new Xt("2.- Determina la reacci\xf3n del auto de juguete mostrado a 17N",["A) 17 N","B) 8 N","C) 15 N","D) 10 N"],0,[""]),x=new Xt("3.- Determina la reacci\xf3n del auto de juguete mostrado a 4N",["A) 10 N","B) 8 N","C) 12 N","D) 4 N"],3,[""]);function v(){return y.apply(this,arguments)}function y(){return(y=Object(W.a)(G.a.mark((function e(){var t,n,o,i,r,s,c,l;return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=function(e,t,n,o){var i=e[t].getHierarchyBoundingVectors(),r=i.max.subtract(i.min),s=i.max.add(i.min).scale(.5);n.scaling.copyFrom(r),n.XRPickable=!0,n.visibility=0,n.physicsImpostor=new vt.PhysicsImpostor(n,o,{mass:2.5},a),n.position=s,e[t].setParent(n)},t=function(e,t){e.rotationQuaternion=new vt.Quaternion.RotationAxis(new vt.Vector3(0,1,0),t*(Math.PI/180))},o=[],e.next=5,vt.SceneLoader.ImportMeshAsync("","../3DModels/","bluecar.glb",a);case 5:return i=e.sent,(r=i.meshes)[0].scaling.scaleInPlace(.2),r[0].position.set(-.5,.33,0),s=vt.MeshBuilder.CreateBox("carBox1",{height:r[1].height,width:r[1].width,depth:r[1].depth},a),n(r,0,s,vt.PhysicsImpostor.BoxImpostor),t(s,180),o.push(r),o.push(s),w.logicManager.AddDisposableStuff(r),w.logicManager.AddDisposableStuff(s),(c=vt.MeshBuilder.CreateBox("collide",{width:4,height:3.3,depth:.4},a)).position.set(-.5,0,-3),c.physicsImpostor=new vt.PhysicsImpostor(c,vt.PhysicsImpostor.BoxImpostor,{mass:0,restitution:.7},a),(l=new vt.StandardMaterial("metal",a)).diffuseTexture=new vt.Texture("../textures/walltext.jpg",a),l.emissiveColor=new vt.Color3(.5,.5,.5),c.material=l,o.push(c),w.logicManager.AddDisposableStuff(c),e.abrupt("return",o);case 26:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function P(){return C.apply(this,arguments)}function C(){return(C=Object(W.a)(G.a.mark((function e(){var t,n,o,i,r,s,c,l;return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=function(e,t,n,o){var i=e[t].getHierarchyBoundingVectors(),r=i.max.subtract(i.min),s=i.max.add(i.min).scale(.5);n.scaling.copyFrom(r),n.XRPickable=!0,n.visibility=0,n.physicsImpostor=new vt.PhysicsImpostor(n,o,{mass:2.5},a),n.position=s,e[t].setParent(n)},t=function(e,t){e.rotationQuaternion=new vt.Quaternion.RotationAxis(new vt.Vector3(0,1,0),t*(Math.PI/180))},o=[],e.next=5,vt.SceneLoader.ImportMeshAsync("","../3DModels/","redcar.gltf",a);case 5:return i=e.sent,(r=i.meshes)[0].scaling.scaleInPlace(.2),r[0].position.set(-.5,.33,0),s=vt.MeshBuilder.CreateBox("carBox2",{height:r[1].height,width:r[1].width,depth:r[1].depth},a),n(r,0,s,vt.PhysicsImpostor.BoxImpostor),t(s,180),o.push(r),o.push(s),w.logicManager.AddDisposableStuff(r),w.logicManager.AddDisposableStuff(s),(c=vt.MeshBuilder.CreateBox("collide2",{width:4,height:3.3,depth:.4},a)).position.set(-.5,0,-3),c.physicsImpostor=new vt.PhysicsImpostor(c,vt.PhysicsImpostor.BoxImpostor,{mass:0,restitution:.7},a),(l=new vt.StandardMaterial("metal",a)).diffuseTexture=new vt.Texture("../textures/walltext.jpg",a),l.emissiveColor=new vt.Color3(.5,.5,.5),c.material=l,o.push(c),w.logicManager.AddDisposableStuff(c),e.abrupt("return",o);case 26:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function I(){return j.apply(this,arguments)}function j(){return(j=Object(W.a)(G.a.mark((function e(){var t,n,o,i,r,s;return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=function(e,t){e.rotationQuaternion=new vt.Quaternion.RotationAxis(new vt.Vector3(0,1,0),t*(Math.PI/180))},n=[],(o=new vt.StandardMaterial("metal",a)).diffuseTexture=new vt.Texture("../textures/metal_crate.png",a),o.emissiveColor=new vt.Color3(.5,.5,.5),(i=vt.Mesh.CreateBox("metal_box",1,a)).scaling=new vt.Vector3(.4,.4,.4),i.position=new vt.Vector3(-.5,0,0),i.material=o,i.physicsImpostor=new vt.PhysicsImpostor(i,vt.PhysicsImpostor.BoxImpostor,{mass:2.5},a),i.XRPickable=!0,t(i,180),n.push(i),w.logicManager.AddDisposableStuff(i),(r=vt.MeshBuilder.CreateBox("collide3",{width:4,height:3.3,depth:.4},a)).position.set(-.5,0,-3),r.physicsImpostor=new vt.PhysicsImpostor(r,vt.PhysicsImpostor.BoxImpostor,{mass:0,restitution:.7},a),(s=new vt.StandardMaterial("metal",a)).diffuseTexture=new vt.Texture("../textures/walltext.jpg",a),s.emissiveColor=new vt.Color3(.5,.5,.5),r.material=s,n.push(r),w.logicManager.AddDisposableStuff(r),e.abrupt("return",n);case 24:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function A(){var e,t=a.getMeshByName("carBox1"),n=a.getMeshByName("collide"),i=15,r=g(new vt.Vector3(0,0,0),new vt.Vector3(0,0,1),.04,2,"Acci\xf3n: \n"+ +i+" N",t,i);function s(){t.physicsImpostor.registerOnPhysicsCollide(n.physicsImpostor,u),r.activate()}var c,d=l.button.onPointerUpObservable.add((function(){s()}));function u(a,r){a.onCollide=function(a){c=JSON.parse(JSON.stringify(a)),e=b(c.point,f,.08,1,"Reacci\xf3n: "+i+" N",n,i),w.logicManager.AddDisposableStuff(e.arrow),o.push(e.arrow),t.physicsImpostor.unregisterOnPhysicsCollide(n.physicsImpostor,u)}}l.addObserver(d);var p=function(e){i=Math.floor(e),r.editForce(i),r.button.textBlock.text="Accion: \n"+i+" N"},h=function(e){return Math.floor(e)},m=new Mt.SliderGroup("Control de fuerza","S");m.addSlider("Fuerza",p,"N",0,20,i,h),l.controlPanel.addGroup(m),l.controlPanel.heightInPixels=100;new vt.Vector3(0,0,0);var f=new vt.Vector3(0,0,1);function b(e,t,n,o,i,r,s){for(var c=new vt.Vector3(0,0,0).addInPlace(e),l=(new vt.TransformNode("root"),[]),d=.5,u=30,p=2*Math.PI/u,h=0;h<=u;h++)l.push(new vt.Vector3(d*Math.cos(h*p),d*Math.sin(h*p),0));l.push(l[0]);var m=1.5,f=1.5,b=10-m;t.normalize();var g=c.add(t.scale(b)),x=g.add(t.scale(m)),v=[];v.push(c),v.push(g),v.push(g),v.push(x);var y=function(e,t){switch(e){case 0:case 1:return 1;case 2:return f/d;case 3:return 0}},w=vt.MeshBuilder.ExtrudeShapeCustom("arrow",{shape:l,path:v,updatable:!0,scaleFunction:y,sideOrientation:vt.Mesh.DOUBLESIDE}),M=new vt.StandardMaterial("mat");M.diffuseColor=new vt.Color3.Red,w.material=M,w.material.alpha=.6;var O={},P=function(e,t,n,o){var r=n[3].subtract(n[2]).length(),s=n[3].subtract(n[0]).length()*o-r,c=n[0],l=n[1].subtract(n[0]);l.normalize();var d=c.add(l.scale(s)),u=d.add(l.scale(r));n[1]=d,n[2]=d,n[3]=u,vt.MeshBuilder.ExtrudeShapeCustom("arrow",{shape:t,path:n,scaleFunction:y,instance:e});var p=d;p.x=p.x/2,p.y=p.y/2,p.z=p.z/2;var h=vt.MeshBuilder.CreatePlane("planearrow",{width:3.5,height:2},a);h.nonXREditable=!0,h.parent=e,h.scalingDeterminant=o,h.position=u,h.position.y+=3,h.billboardMode=vt.Mesh.BILLBOARDMODE_ALL;var m=new Mt.AdvancedDynamicTexture.CreateForMesh(h,300,200),f=new Mt.Container("container"),b=new Mt.Rectangle("rectangle");b.background="black",b.alpha=.35,f.addControl(b);var g=new Mt.Button.CreateSimpleButton("but1",i);f.addControl(g),g.width=1,g.height=1,g.textBlock.fontStyle="bold",g.textBlock.fontSize=55,g.textBlock.color="white",g.color="transparent",g.onPointerUpObservable.add((function(){})),m.addControl(f)},C=c;new vt.TransformNode("root").position=C;var I=function(e){e};function j(){}return P(w,l,v,o),r&&(w.scaling=new vt.Vector3(n/r.scaling.x,n/r.scaling.y,n/r.scaling.z),w.position=c),{activate:j,button:O,editForce:I,arrow:w}}function g(e,t,n,o,i,r,s){new vt.TransformNode("root");for(var c=[],l=.5,d=30,u=2*Math.PI/d,p=0;p<=d;p++)c.push(new vt.Vector3(l*Math.cos(p*u),l*Math.sin(p*u),0));c.push(c[0]);var h=1.5,m=1.5,f=10-h;t.normalize();var b=e.add(t.scale(f)),g=b.add(t.scale(h)),x=[];x.push(e),x.push(b),x.push(b),x.push(g);var v=function(e,t){switch(e){case 0:case 1:return 1;case 2:return m/l;case 3:return 0}},y=vt.MeshBuilder.ExtrudeShapeCustom("arrow",{shape:c,path:x,updatable:!0,scaleFunction:v,sideOrientation:vt.Mesh.DOUBLESIDE}),w={},M=function(e,t,n,o){var r=n[3].subtract(n[2]).length(),s=n[3].subtract(n[0]).length()*o-r,c=n[0],l=n[1].subtract(n[0]);l.normalize();var d=c.add(l.scale(s)),u=d.add(l.scale(r));n[1]=d,n[2]=d,n[3]=u,vt.MeshBuilder.ExtrudeShapeCustom("arrow",{shape:t,path:n,scaleFunction:v,instance:e});var p=d;p.x=p.x/2,p.y=p.y/2,p.z=p.z/2;var h=vt.MeshBuilder.CreatePlane("planearrow",{width:4,height:3.5},a);h.nonXREditable=!0,h.rotation.y=Math.PI/180*270,h.parent=e,h.scalingDeterminant=o,h.position=p,h.position.y=2*o;var m=new Mt.AdvancedDynamicTexture.CreateForMesh(h,300,200),f=new Mt.Container("container"),b=new Mt.Rectangle("rectangle");b.background="black",b.alpha=.35,f.addControl(b),(w=new Mt.Button.CreateSimpleButton("but1",i)).width=1,w.height=1,w.textBlock.fontStyle="bold",w.textBlock.fontSize=50,w.textBlock.color="white",w.color="transparent",w.onPointerUpObservable.add((function(){})),m.addControl(f),f.addControl(w)},O=t,P=s,C=vt.Vector3.Zero(),I=function(e,t){var n=new vt.Matrix;return e.rotationQuaternion.toRotationMatrix(n),vt.Vector3.TransformNormal(t,n)},j=function(e){P=e},A=function(e){e.physicsImpostor.applyImpulse(I(e,O).scale(P),e.getAbsolutePosition().add(C))};function S(){A(r)}return M(y,c,x,o),r&&(y.parent=r,y.scaling=new vt.Vector3(n/r.scaling.x,n/r.scaling.y,n/r.scaling.z),y.position=e),{activate:S,button:w,editForce:j}}}function S(){var e,t=a.getMeshByName("carBox2"),n=a.getMeshByName("collide2"),i=15,r=g(new vt.Vector3(0,0,0),new vt.Vector3(0,0,1),.04,2,"Acci\xf3n: \n"+ +i+" N",t,i);function s(){t.physicsImpostor.registerOnPhysicsCollide(n.physicsImpostor,u),r.activate()}var c,d=l.button.onPointerUpObservable.add((function(){s()}));function u(a,r){a.onCollide=function(a){c=JSON.parse(JSON.stringify(a)),e=b(c.point,f,.08,1,"Reacci\xf3n: "+i+" N",n,i),w.logicManager.AddDisposableStuff(e.arrow),o.push(e.arrow),t.physicsImpostor.unregisterOnPhysicsCollide(n.physicsImpostor,u)}}l.addObserver(d);var p=function(e){i=Math.floor(e),r.editForce(i),r.button.textBlock.text="Accion: \n"+i+" N"},h=function(e){return Math.floor(e)},m=new Mt.SliderGroup("Control de fuerza","S");m.addSlider("Fuerza",p,"N",0,20,i,h),l.controlPanel.addGroup(m),l.controlPanel.heightInPixels=100;new vt.Vector3(0,0,0);var f=new vt.Vector3(0,0,1);function b(e,t,n,o,i,r,s){for(var c=new vt.Vector3(0,0,0).addInPlace(e),l=(new vt.TransformNode("root"),[]),d=.5,u=30,p=2*Math.PI/u,h=0;h<=u;h++)l.push(new vt.Vector3(d*Math.cos(h*p),d*Math.sin(h*p),0));l.push(l[0]);var m=1.5,f=1.5,b=10-m;t.normalize();var g=c.add(t.scale(b)),x=g.add(t.scale(m)),v=[];v.push(c),v.push(g),v.push(g),v.push(x);var y=function(e,t){switch(e){case 0:case 1:return 1;case 2:return f/d;case 3:return 0}},w=vt.MeshBuilder.ExtrudeShapeCustom("arrow",{shape:l,path:v,updatable:!0,scaleFunction:y,sideOrientation:vt.Mesh.DOUBLESIDE}),M=new vt.StandardMaterial("mat");M.diffuseColor=new vt.Color3.Red,w.material=M,w.material.alpha=.6;var O={},P=function(e,t,n,o){var r=n[3].subtract(n[2]).length(),s=n[3].subtract(n[0]).length()*o-r,c=n[0],l=n[1].subtract(n[0]);l.normalize();var d=c.add(l.scale(s)),u=d.add(l.scale(r));n[1]=d,n[2]=d,n[3]=u,vt.MeshBuilder.ExtrudeShapeCustom("arrow",{shape:t,path:n,scaleFunction:y,instance:e});var p=d;p.x=p.x/2,p.y=p.y/2,p.z=p.z/2;var h=vt.MeshBuilder.CreatePlane("planearrow",{width:3.5,height:2},a);h.nonXREditable=!0,h.parent=e,h.scalingDeterminant=o,h.position=u,h.position.y+=3,h.billboardMode=vt.Mesh.BILLBOARDMODE_ALL;var m=new Mt.AdvancedDynamicTexture.CreateForMesh(h,300,200),f=new Mt.Container("container"),b=new Mt.Rectangle("rectangle");b.background="black",b.alpha=.35,f.addControl(b);var g=new Mt.Button.CreateSimpleButton("but1",i);f.addControl(g),g.width=1,g.height=1,g.textBlock.fontStyle="bold",g.textBlock.fontSize=55,g.textBlock.color="white",g.color="transparent",g.onPointerUpObservable.add((function(){})),m.addControl(f)},C=c;new vt.TransformNode("root").position=C;var I=function(e){e};function j(){}return P(w,l,v,o),r&&(w.scaling=new vt.Vector3(n/r.scaling.x,n/r.scaling.y,n/r.scaling.z),w.position=c),{activate:j,button:O,editForce:I,arrow:w}}function g(e,t,n,o,i,r,s){new vt.TransformNode("root");for(var c=[],l=.5,d=30,u=2*Math.PI/d,p=0;p<=d;p++)c.push(new vt.Vector3(l*Math.cos(p*u),l*Math.sin(p*u),0));c.push(c[0]);var h=1.5,m=1.5,f=10-h;t.normalize();var b=e.add(t.scale(f)),g=b.add(t.scale(h)),x=[];x.push(e),x.push(b),x.push(b),x.push(g);var v=function(e,t){switch(e){case 0:case 1:return 1;case 2:return m/l;case 3:return 0}},y=vt.MeshBuilder.ExtrudeShapeCustom("arrow",{shape:c,path:x,updatable:!0,scaleFunction:v,sideOrientation:vt.Mesh.DOUBLESIDE}),w={},M=function(e,t,n,o){var r=n[3].subtract(n[2]).length(),s=n[3].subtract(n[0]).length()*o-r,c=n[0],l=n[1].subtract(n[0]);l.normalize();var d=c.add(l.scale(s)),u=d.add(l.scale(r));n[1]=d,n[2]=d,n[3]=u,vt.MeshBuilder.ExtrudeShapeCustom("arrow",{shape:t,path:n,scaleFunction:v,instance:e});var p=d;p.x=p.x/2,p.y=p.y/2,p.z=p.z/2;var h=vt.MeshBuilder.CreatePlane("planearrow",{width:4,height:3.5},a);h.nonXREditable=!0,h.rotation.y=Math.PI/180*270,h.parent=e,h.scalingDeterminant=o,h.position=p,h.position.y=2*o;var m=new Mt.AdvancedDynamicTexture.CreateForMesh(h,300,200),f=new Mt.Container("container"),b=new Mt.Rectangle("rectangle");b.background="black",b.alpha=.35,f.addControl(b),(w=new Mt.Button.CreateSimpleButton("but1",i)).width=1,w.height=1,w.textBlock.fontStyle="bold",w.textBlock.fontSize=50,w.textBlock.color="white",w.color="transparent",w.onPointerUpObservable.add((function(){})),m.addControl(f),f.addControl(w)},O=t,P=s,C=vt.Vector3.Zero(),I=function(e,t){var n=new vt.Matrix;return e.rotationQuaternion.toRotationMatrix(n),vt.Vector3.TransformNormal(t,n)},j=function(e){P=e},A=function(e){e.physicsImpostor.applyImpulse(I(e,O).scale(P),e.getAbsolutePosition().add(C))};function S(){A(r)}return M(y,c,x,o),r&&(y.parent=r,y.scaling=new vt.Vector3(n/r.scaling.x,n/r.scaling.y,n/r.scaling.z),y.position=e),{activate:S,button:w,editForce:j}}}function B(){var e,t=a.getMeshByName("metal_box"),n=a.getMeshByName("collide3"),i=15,r=g(new vt.Vector3(0,0,0),new vt.Vector3(0,0,1),.04,2,"Acci\xf3n: \n"+ +i+" N",t,i);function s(){t.physicsImpostor.registerOnPhysicsCollide(n.physicsImpostor,u),r.activate()}var c,d=l.button.onPointerUpObservable.add((function(){s()}));function u(a,r){a.onCollide=function(a){c=JSON.parse(JSON.stringify(a)),e=b(c.point,f,.08,1,"Reacci\xf3n: "+i+" N",n,i),w.logicManager.AddDisposableStuff(e.arrow),o.push(e.arrow),t.physicsImpostor.unregisterOnPhysicsCollide(n.physicsImpostor,u)}}l.addObserver(d);var p=function(e){i=Math.floor(e),r.editForce(i),r.button.textBlock.text="Accion: \n"+i+" N"},h=function(e){return Math.floor(e)},m=new Mt.SliderGroup("Control de fuerza","S");m.addSlider("Fuerza",p,"N",0,20,i,h),l.controlPanel.addGroup(m),l.controlPanel.heightInPixels=100;new vt.Vector3(0,0,0);var f=new vt.Vector3(0,0,1);function b(e,t,n,o,i,r,s){for(var c=new vt.Vector3(0,0,0).addInPlace(e),l=(new vt.TransformNode("root"),[]),d=.5,u=30,p=2*Math.PI/u,h=0;h<=u;h++)l.push(new vt.Vector3(d*Math.cos(h*p),d*Math.sin(h*p),0));l.push(l[0]);var m=1.5,f=1.5,b=10-m;t.normalize();var g=c.add(t.scale(b)),x=g.add(t.scale(m)),v=[];v.push(c),v.push(g),v.push(g),v.push(x);var y=function(e,t){switch(e){case 0:case 1:return 1;case 2:return f/d;case 3:return 0}},w=vt.MeshBuilder.ExtrudeShapeCustom("arrow",{shape:l,path:v,updatable:!0,scaleFunction:y,sideOrientation:vt.Mesh.DOUBLESIDE}),M=new vt.StandardMaterial("mat");M.diffuseColor=new vt.Color3.Red,w.material=M,w.material.alpha=.6;var O={},P=function(e,t,n,o){var r=n[3].subtract(n[2]).length(),s=n[3].subtract(n[0]).length()*o-r,c=n[0],l=n[1].subtract(n[0]);l.normalize();var d=c.add(l.scale(s)),u=d.add(l.scale(r));n[1]=d,n[2]=d,n[3]=u,vt.MeshBuilder.ExtrudeShapeCustom("arrow",{shape:t,path:n,scaleFunction:y,instance:e});var p=d;p.x=p.x/2,p.y=p.y/2,p.z=p.z/2;var h=vt.MeshBuilder.CreatePlane("planearrow",{width:3.5,height:2},a);h.nonXREditable=!0,h.parent=e,h.scalingDeterminant=o,h.position=u,h.position.y+=3,h.billboardMode=vt.Mesh.BILLBOARDMODE_ALL;var m=new Mt.AdvancedDynamicTexture.CreateForMesh(h,300,200),f=new Mt.Container("container"),b=new Mt.Rectangle("rectangle");b.background="black",b.alpha=.35,f.addControl(b);var g=new Mt.Button.CreateSimpleButton("but1",i);f.addControl(g),g.width=1,g.height=1,g.textBlock.fontStyle="bold",g.textBlock.fontSize=55,g.textBlock.color="white",g.color="transparent",g.onPointerUpObservable.add((function(){})),m.addControl(f)},C=c;new vt.TransformNode("root").position=C;var I=function(e){e};function j(){}return P(w,l,v,o),r&&(w.scaling=new vt.Vector3(n/r.scaling.x,n/r.scaling.y,n/r.scaling.z),w.position=c),{activate:j,button:O,editForce:I,arrow:w}}function g(e,t,n,o,i,r,s){new vt.TransformNode("root");for(var c=[],l=.5,d=30,u=2*Math.PI/d,p=0;p<=d;p++)c.push(new vt.Vector3(l*Math.cos(p*u),l*Math.sin(p*u),0));c.push(c[0]);var h=1.5,m=1.5,f=10-h;t.normalize();var b=e.add(t.scale(f)),g=b.add(t.scale(h)),x=[];x.push(e),x.push(b),x.push(b),x.push(g);var v=function(e,t){switch(e){case 0:case 1:return 1;case 2:return m/l;case 3:return 0}},y=vt.MeshBuilder.ExtrudeShapeCustom("arrow",{shape:c,path:x,updatable:!0,scaleFunction:v,sideOrientation:vt.Mesh.DOUBLESIDE}),w={},M=function(e,t,n,o){var r=n[3].subtract(n[2]).length(),s=n[3].subtract(n[0]).length()*o-r,c=n[0],l=n[1].subtract(n[0]);l.normalize();var d=c.add(l.scale(s)),u=d.add(l.scale(r));n[1]=d,n[2]=d,n[3]=u,vt.MeshBuilder.ExtrudeShapeCustom("arrow",{shape:t,path:n,scaleFunction:v,instance:e});var p=d;p.x=p.x/2,p.y=p.y/2,p.z=p.z/2;var h=vt.MeshBuilder.CreatePlane("planearrow",{width:4,height:3.5},a);h.nonXREditable=!0,h.rotation.y=Math.PI/180*270,h.parent=e,h.scalingDeterminant=o,h.position=p,h.position.y=2*o;var m=new Mt.AdvancedDynamicTexture.CreateForMesh(h,300,200),f=new Mt.Container("container"),b=new Mt.Rectangle("rectangle");b.background="black",b.alpha=.35,f.addControl(b),(w=new Mt.Button.CreateSimpleButton("but1",i)).width=1,w.height=1,w.textBlock.fontStyle="bold",w.textBlock.fontSize=50,w.textBlock.color="white",w.color="transparent",w.onPointerUpObservable.add((function(){})),m.addControl(f),f.addControl(w)},O=t,P=s,C=vt.Vector3.Zero(),I=function(e,t){var n=new vt.Matrix;return e.rotationQuaternion.toRotationMatrix(n),vt.Vector3.TransformNormal(t,n)},j=function(e){P=e},A=function(e){e.physicsImpostor.applyImpulse(I(e,O).scale(P),e.getAbsolutePosition().add(C))};function S(){A(r)}return M(y,c,x,o),r&&(y.parent=r,y.scaling=new vt.Vector3(n/r.scaling.x,n/r.scaling.y,n/r.scaling.z),y.position=e),{activate:S,button:w,editForce:j}}}b.addModels(v),b.addLogic(A),g.addModels(P),g.addLogic(S),x.addModels(I),x.addLogic(B),f.addExercise(b),f.addExercise(g),f.addExercise(x),f.Start(M)}()}));var w=Dt(a,2);w.addCard(x),w.addCard(v),w.addCard(y),w.Start(0);var M=0,O=new Ot.Timer;var P=new vt.AssetsManager(a);P.onFinish=function(){o.runRenderLoop((function(){a&&(window.document.title=o.getFps().toFixed()+" fps",a.render())}))},a.executeWhenReady((function(){(o.hideLoadingUI(),document.getElementById("xr-button"))&&document.getElementById("xr-button").addEventListener("click",Object(W.a)(G.a.mark((function e(){return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(p.baseExperience.state!==vt.WebXRState.NOT_IN_XR){e.next=7;break}return p.input.xrCamera.position=new vt.Vector3(-3,1,0),p.input.xrCamera.setTarget(vt.Vector3.Zero()),e.next=5,p.baseExperience.enterXRAsync("immersive-ar","local-floor");case 5:e.next=10;break;case 7:if(p.baseExperience.state!==vt.WebXRState.IN_XR){e.next=10;break}return e.next=10,p.baseExperience.exitXRAsync();case 10:case"end":return e.stop()}}),e)}))));document.getElementById("fullscreen-button")&&document.getElementById("fullscreen-button").addEventListener("click",Object(W.a)(G.a.mark((function e(){return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o.switchFullscreen(!1);case 1:case"end":return e.stop()}}),e)}))))})),P.load()}})}),Object(b.jsxs)(D.a,{align:"center",maxWidth:"sm",className:e.babylonbuttons,children:[Object(b.jsx)(C.a,{id:"xr-button",size:"medium",variant:"contained",color:"primary",children:Object(b.jsx)(N.a,{variant:"h6",children:"Entrar a modo XR"})}),Object(b.jsx)(C.a,{id:"fullscreen-button",m:.5,size:"medium",variant:"contained",color:"secondary",children:Object(b.jsx)(N.a,{variant:"h6",children:"pantalla completa"})})]})]})})}var va=ba,ya=Object(_.a)((function(e){return{imagebox:{height:"100%",width:"60%",display:"flex",flexDirection:"column"},card:{height:"100%",flexDirection:"column"},media:{height:400},babylonbuttons:{"& > *":{margin:e.spacing(1)}}}}));var wa=function(){var e=ya();return Object(b.jsx)(o.a.Fragment,{children:Object(b.jsxs)(D.a,{maxWidth:"xl",children:[Object(b.jsx)(N.a,{align:"center",variant:"h6",children:"Gira esta pantalla en horizontal (panoramico) para alargar contenido "}),Object(b.jsxs)(D.a,{align:"center",maxWidth:"sm",className:e.babylonbuttons,children:[Object(b.jsx)(C.a,{id:"xr-button",size:"medium",variant:"contained",color:"primary",children:Object(b.jsx)(N.a,{variant:"h6",children:"Entrar a modo XR"})}),Object(b.jsx)(C.a,{id:"fullscreen-button",m:.5,size:"medium",variant:"contained",color:"secondary",children:Object(b.jsx)(N.a,{variant:"h6",children:"pantalla completa"})})]}),Object(b.jsx)(D.a,{align:"center",children:Object(b.jsx)(F.a,{width:"85%",p:1,my:.5,children:Object(b.jsx)(wt,{onSceneMount:function(e){e.canvas;var t=e.scene,n=e.engine;n.displayLoadingUI();var a=new vt.Vector3(-4,.82,0),o=new vt.Vector3(0,1,0),i=new vt.UniversalCamera("camera1",a,t);i.setTarget(o),i.speed=.7,i.angularSensibility=1200,i.inertia=.5,new vt.PointLight("point",new vt.Vector3(20,20,10),t).intensity=.9;var r=vt.MeshBuilder.CreateBox("SkyBox",{size:1e3},t),s=new vt.StandardMaterial("skyBox",t);s.backFaceCulling=!1,s.reflectionTexture=new vt.HDRCubeTexture("textures/lilienstein_4k.hdr",t,512),s.reflectionTexture.coordinatesMode=vt.Texture.SKYBOX_MODE,r.material=s,t.enablePhysics(new vt.Vector3(0,-9.81,0),new vt.AmmoJSPlugin),t.collisionsEnabled=!0,i.checkCollisions=!0,i.ellipsoid=new vt.Vector3(.5,.8,.5);var c=Pt(t);function l(){return(l=Object(W.a)(G.a.mark((function e(){var a,o,i,s,l,d,u,p,h,m,f,b,g,x,v,y,w,M,O,P,C;return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,vt.WebXRSessionManager.IsSessionSupportedAsync("immersive-ar");case 2:return a=e.sent,e.next=5,t.createDefaultXRExperienceAsync({disableDefaultUI:!0,uiOptions:{sessionMode:"immersive-ar",referenceSpaceType:"local-floor"},inputOptions:{doNotLoadControllerMeshes:!0}});case 5:o=e.sent,(i=Ct(vt,t)).selectMode(0),s=null,l=null,d=!1,t.onPointerObservable.add((function(e){s=e.pickInfo.pickedMesh,e.type===vt.PointerEventTypes.POINTERDOWN&&(e.pickInfo.pickedMesh&&e.pickInfo.pickedMesh.XRPickable&&(t.constantlyUpdateMeshUnderPointer=!0,d=!0,l=s,i.attachToMesh(l)),e.pickInfo.pickedMesh&&e.pickInfo.pickedMesh.nonXREditable,!e.pickInfo.pickedMesh||e.pickInfo.pickedMesh.XRPickable||e.pickInfo.pickedMesh.nonXREditable||(l=null,i.attachToMesh(null))),e.type===vt.PointerEventTypes.POINTERUP&&(t.constantlyUpdateMeshUnderPointer=!1,e.pickInfo.pickedMesh&&e.pickInfo.pickedMesh.XRPickable&&s.physicsImpostor&&(d=!1,s=null))})),t.onBeforePhysicsObservable.add((function(){d&&s&&s.XRPickable&&s.physicsImpostor&&(s.physicsImpostor._physicsBody.setLinearVelocity(0,0,0),s.physicsImpostor._physicsBody.setAngularVelocity(0,0,0))})),u=Mt.AdvancedDynamicTexture.CreateFullscreenUI("fullscreenGUI"),(p=new Mt.Rectangle("intro_info")).background="black",p.color="blue",p.width="80%",p.height="50%",(h=new Mt.TextBlock("text_bad")).fontFamily="Helvetica",h.textWrapping=!0,h.text="modo de realidad aumentada (modo XR) no esta disponible para este dispositivo, por favor, asegurate de usar Chrome como navegador web y un dispositivo Android",h.color="white",h.fontSize="5%",h.height="400px",h.paddingLeft="10px",h.paddingRight="10px",(m=new Mt.TextBlock("text_good")).fontFamily="Helvetica",m.textWrapping=!0,m.text='Compatibilidad con realidad aumentada detectada: porfavor, ingresa al modo de realidad aumentada con el boton "ENTRAR A MODO XR" en la parte inferior de esta pagina. Al activar el modo RA, aparecer\xe1 un mensaje de exito',m.color="white",m.fontSize="5%",m.height="400px",m.paddingLeft="10px",m.paddingRight="10px",f=new Mt.StackPanel,p.addControl(f),u.addControl(p),a?f.addControl(m):f.addControl(h),(b=new Mt.Rectangle("intro_info")).background="black",b.color="blue",b.width="100%",b.height="100%",(g=new Mt.TextBlock("text1")).fontFamily="Helvetica",g.textWrapping=!0,g.text="Si puedes ver esto, significa que tu dispositivo es compatible con AR de FisicARtivo!",g.color="white",g.fontSize="36px",g.height="400px",g.paddingLeft="10px",g.paddingRight="10px",x=new Mt.StackPanel,b.addControl(x),x.addControl(g),(v=new vt.MeshBuilder.CreatePlane("displayPlaneinfo",{width:1.6,height:.9},t)).nonXREditable=!0,v.XRPickable=!0,(y=new Mt.AdvancedDynamicTexture.CreateForMesh(v)).scaleTo(800,450),w=new vt.Vector3(1,1.5,0),v.position=w,v.rotation.y=Math.PI/180*90,(M=new Mt.Rectangle("container")).width=1,M.height=1,M.thickness=0,M.background="white",M.alpha=.05,M.zIndex=-1,y.addControl(M),y.addControl(b),(O=new vt.StandardMaterial("wood",t)).diffuseTexture=new vt.Texture("../textures/crate.png",t),O.emissiveColor=new vt.Color3(.5,.5,.5),(P=vt.Mesh.CreateBox("wood_box",1,t)).scaling=new vt.Vector3(.4,.4,.4),P.position=new vt.Vector3(1,0,0),P.material=O,P.physicsImpostor=new vt.PhysicsImpostor(P,vt.PhysicsImpostor.BoxImpostor,{mass:5},t),P.XRPickable=!0,P.isVisible=!1,v.isVisible=!1,o.baseExperience.sessionManager.onXRSessionInit.add((function(){p.isVisible=!1,P.isVisible=!0,v.isVisible=!0,c.visibility=0,r.isVisible=!1})),o.baseExperience.sessionManager.onXRSessionEnded.add((function(){p.isVisible=!0,P.isVisible=!1,v.isVisible=!1,c.visibility=1,r.isVisible=!0})),(C=new vt.AssetsManager(t)).onFinish=function(){n.runRenderLoop((function(){t&&(window.document.title=n.getFps().toFixed()+" fps",t.render())}))},t.executeWhenReady((function(){(n.hideLoadingUI(),document.getElementById("xr-button"))&&document.getElementById("xr-button").addEventListener("click",Object(W.a)(G.a.mark((function e(){return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o.baseExperience.state!==vt.WebXRState.NOT_IN_XR){e.next=7;break}return o.input.xrCamera.position=new vt.Vector3(-3,1,0),o.input.xrCamera.setTarget(vt.Vector3.Zero()),e.next=5,o.baseExperience.enterXRAsync("immersive-ar","local-floor");case 5:e.next=10;break;case 7:if(o.baseExperience.state!==vt.WebXRState.IN_XR){e.next=10;break}return e.next=10,o.baseExperience.exitXRAsync();case 10:case"end":return e.stop()}}),e)}))));document.getElementById("fullscreen-button")&&document.getElementById("fullscreen-button").addEventListener("click",Object(W.a)(G.a.mark((function e(){return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.switchFullscreen(!1);case 1:case"end":return e.stop()}}),e)}))))})),C.load();case 92:case"end":return e.stop()}}),e)})))).apply(this,arguments)}c.checkCollisions=!0,function(){l.apply(this,arguments)}()}})})})]})})},Ma=n.p+"static/media/cap1.c3a0aca3.PNG",Oa=n.p+"static/media/expresion.c229c43e.PNG";var Pa=function(e){Object($e.a)(n,e);var t=Object(et.a)(n);function n(e){var a;return Object(Ye.a)(this,n),(a=t.call(this,e)).componentDidMount=Object(W.a)(G.a.mark((function e(){return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.startCamera();case 1:case"end":return e.stop()}}),e)}))),a.startCamera=Object(W.a)(G.a.mark((function e(){var t,n;return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={video:{width:{exact:640},height:{exact:480},facingMode:"user"},audio:!1},e.prev=1,e.next=4,navigator.mediaDevices.getUserMedia(t);case 4:n=e.sent,a.videoEle.current.srcObject=n,e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[1,8]])}))),a.takeCapture=Object(W.a)(G.a.mark((function e(){var t,n,o,i;return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=a.videoEle.current.videoWidth,n=a.videoEle.current.videoHeight,o=a.canvasEle.current.getContext("2d"),a.canvasEle.current.width=t,a.canvasEle.current.height=n,o.drawImage(a.videoEle.current,0,0,t,n),i=a.canvasEle.current.toDataURL("image/png"),a.props.landmarkPicture(i),a.setState({imageURL:i});case 9:case"end":return e.stop()}}),e)}))),a.stopCamera=function(){a.videoEle.current.srcObject.getTracks().forEach((function(e){e.stop()}))},a.backToCam=function(){a.setState({imageURL:""},(function(){a.startCamera()}))},a.image=null,a.state={imageURL:""},a.videoEle=o.a.createRef(),a.canvasEle=o.a.createRef(),a.imageEle=o.a.createRef(),a}return Object(Je.a)(n,[{key:"render",value:function(){return Object(b.jsxs)("div",{className:"selfie",style:{display:"flex",flexDirection:"column",alignItems:"center"},children:[Object(b.jsx)("div",{className:"cam",children:Object(b.jsx)("video",{style:{display:"none"},width:"100%",height:"100%",className:"video-player",autoPlay:!0,ref:this.videoEle})}),Object(b.jsx)("canvas",{ref:this.canvasEle,style:{display:"none"}})]})}}]),n}(a.Component),Ca=n(55),Ia="/models",ja={},Aa=new Image,Sa=!1;function Ba(){return Aa}function ka(){return Sa}function Ta(){return(Ta=Object(W.a)(G.a.mark((function e(){return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ca.d(Ia);case 2:return e.next=4,Ca.f(Ia);case 4:return e.next=6,Ca.g(Ia);case 6:return e.next=8,Ca.e(Ia);case 8:return e.next=10,Ca.h.tinyFaceDetector.loadFromUri(Ia).then((function(){Sa=!0}));case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ea(e){return Ra.apply(this,arguments)}function Ra(){return(Ra=Object(W.a)(G.a.mark((function e(t){return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ca.b(t,new Ca.a).withFaceLandmarks().withFaceExpressions();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Na(e){Aa.src=e}function Va(e,t){if(ja&&void 0!=e){var n=JSON.parse(JSON.stringify(e)),a=new Date,o=a.getUTCMonth()+1,i=a.getUTCDate(),r=(t+" - "+a.getUTCFullYear()+"-"+o+"-"+i+" "+a.getUTCHours()+":"+a.getUTCMinutes()).toString();f.collection("users").doc(ja.uid).collection("emotion_capture").doc(r).set(n)}}function _a(e,t,n){setTimeout((function(){e().then((function(){var e=Ba();ka&&Ea(e).then((function(e){try{Va(e[0].expressions,n)}catch(t){console.log(t)}}))}))}),t)}function Da(e,t){e().then((function(){var e=Ba();ka&&Ea(e).then((function(e){try{Va(e[0].expressions,t)}catch(n){console.log(n)}}))}))}var Fa=function(e){Object($e.a)(n,e);var t=Object(et.a)(n);function n(){return Object(Ye.a)(this,n),t.apply(this,arguments)}return Object(Je.a)(n,[{key:"render",value:function(){return Object(b.jsx)(xt,{data:za})}}]),n}(a.Component),La=Object(_.a)((function(e){return{imagebox:{height:"100%",width:"60%",display:"flex",flexDirection:"column"},card:{height:"100%",flexDirection:"column"},media:{height:400},babylonbuttons:{"& > *":{margin:e.spacing(1)}},image:{paddingTop:"10px",paddingBottom:"20px"}}}));function za(){var e=La(),t=x().currentUser,n=Object(a.useRef)({}),i={id:"exercise_test",generalTime:"00:00",totalErrors:0,isCompleted:!1,quizes:{quiz_1:{id:"quiz_1",time:"00:00",errors:0,isCompleted:!1},quiz_2:{id:"quiz_2",time:"00:00",errors:0,isCompleted:!1},quiz_3:{id:"quiz_3",time:"00:00",errors:0,isCompleted:!1}}};function r(){return s.apply(this,arguments)}function s(){return(s=Object(W.a)(G.a.mark((function e(){return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.current.takeCapture();case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function c(){return l.apply(this,arguments)}function l(){return(l=Object(W.a)(G.a.mark((function e(){return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.current.stopCamera();case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function d(){return u.apply(this,arguments)}function u(){return(u=Object(W.a)(G.a.mark((function e(){return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.current.startCamera();case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}St(t),Bt(i),Tt(i.id),It.start(),ja=t,function(){Ta.apply(this,arguments)}();return Object(b.jsxs)(o.a.Fragment,{children:[Object(b.jsxs)(D.a,{maxWidth:"xl",children:[Object(b.jsxs)(F.a,{children:[Object(b.jsx)(Pa,{ref:n,landmarkPicture:Na}),Object(b.jsx)(C.a,{onClick:function(){!function(e){e().then((function(){var e=Ba();ka&&Ea(e).then((function(e){try{Va(e[0].expressions,"test")}catch(t){console.log(t)}}))}))}(r)},id:"result-button",size:"medium",variant:"contained",color:"primary",children:Object(b.jsx)(N.a,{variant:"h6",children:"captura"})}),Object(b.jsx)(C.a,{onClick:function(){},id:"result-button",size:"medium",variant:"contained",color:"primary",children:Object(b.jsx)(N.a,{variant:"h6",children:"resultado"})})]}),Object(b.jsxs)(F.a,{component:"span",display:"block",p:1,m:1,bgcolor:"background.paper",children:[Object(b.jsx)(N.a,{paragraph:!0,variant:"h4",children:"Concepto de Velocidad"}),Object(b.jsx)(N.a,{paragraph:!0,variant:"body1",children:"El concepto de velocidad est\xe1 asociado al cambio de posici\xf3n de un cuerpo a lo largo del tiempo. Cuando necesitamos informaci\xf3n sobre la direcci\xf3n y el sentido del movimiento, as\xed como su rapidez recurrimos a la velocidad."}),Object(b.jsx)(N.a,{paragraph:!0,children:"Su unidad de medida en el Sistema Internacional (S.I.) es el metro por segundo (m/s), esto quiere decir que cuando por ejemplo afirmamos que la velocidad (m\xf3dulo) de un cuerpo es de 5 metros por segundo (m/s), estamos indicando que cada segundo ese mismo cuerpo se desplaza 5 metros."}),Object(b.jsxs)("p",{children:["La ",Object(b.jsx)("strong",{children:" velocidad"})," puede definirse como la cantidad de espacio recorrido por unidad de tiempo con la que un\xa0cuerpo se desplaza",Object(b.jsx)("em",{children:" en una determinada direcci\xf3n y sentido"}),". Se trata de un vector cuyo m\xf3dulo, su valor num\xe9rico, se puede calcular mediante la expresi\xf3n:"]}),Object(b.jsx)(D.a,{align:"center",maxWidth:"xs",children:Object(b.jsx)("img",{src:Oa,style:{width:"40%",height:"40%",flex:1,display:"flex"}})}),Object(b.jsx)("p",{children:"Donde:"}),Object(b.jsxs)("ul",{children:[Object(b.jsxs)("li",{children:[Object(b.jsx)("em",{children:"v"}),": ",Object(b.jsx)("strong",{children:"M\xf3dulo de la velocidad\xa0"}),"del cuerpo. Su unidad de medida en el Sistema Internacional (S.I.) es el metro por segundo (m/s)"]}),Object(b.jsxs)("li",{children:[Object(b.jsx)("em",{children:"\u2206r"}),": ",Object(b.jsx)("strong",{children:"M\xf3dulo del\xa0desplazamiento"}),". Su unidad de medida en el Sistema Internacional (S.I.) es el metro (m)"]}),Object(b.jsxs)("li",{children:[Object(b.jsx)("em",{children:"\u2206t: "}),Object(b.jsx)("strong",{children:"Tiempo"})," empleado en realizar el movimiento",Object(b.jsx)("em",{children:".\xa0"}),"Su unidad de medida en el Sistema Internacional (S.I.) es el segundo (s)"]})]}),Object(b.jsx)(D.a,{align:"center",maxWidth:"md",children:Object(b.jsx)("img",{src:Ma,style:{width:"100%",height:"100%",flex:1,display:"flex"}})})]})]}),Object(b.jsxs)(F.a,{width:"100%",children:[Object(b.jsx)("div",{align:"center",children:Object(b.jsx)(F.a,{width:"100%",p:1,my:.5,children:Object(b.jsx)(wt,{onSceneMount:function(e){var t=e.canvas,n=e.scene,a=e.engine,o=new Ot.Timer,s=new vt.Vector3(-5,3,0),l=new vt.Vector3(0,0,0),u=new vt.UniversalCamera("camera1",s,n);u.setTarget(l),u.attachControl(t,!1),u.speed=.4,u.angularSensibility=1200,new vt.HemisphericLight("light1",new vt.Vector3(0,1,0),n).intensity=.7,n.enablePhysics(new vt.Vector3(0,-9.81,0),new vt.AmmoJSPlugin);n.getPhysicsEngine();n.collisionsEnabled=!0,u.checkCollisions=!0,u.ellipsoid=new vt.Vector3(1,.8,1),Pt(n).checkCollisions=!0;var p={};function h(){return(h=Object(W.a)(G.a.mark((function e(){return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.createDefaultXRExperienceAsync({disableDefaultUI:!0,uiOptions:{sessionMode:"immersive-ar",referenceSpaceType:"local-floor"},inputOptions:{doNotLoadControllerMeshes:!1}});case 2:p=e.sent,document.getElementById("xr-button")&&document.getElementById("xr-button").addEventListener("click",Object(W.a)(G.a.mark((function e(){return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(p.baseExperience.state!==vt.WebXRState.NOT_IN_XR){e.next=7;break}return p.input.xrCamera.position=new vt.Vector3(-3,1,0),p.input.xrCamera.setTarget(vt.Vector3.Zero()),e.next=5,p.baseExperience.enterXRAsync("immersive-ar","local-floor");case 5:e.next=10;break;case 7:if(p.baseExperience.state!==vt.WebXRState.IN_XR){e.next=10;break}return e.next=10,p.baseExperience.exitXRAsync();case 10:case"end":return e.stop()}}),e)})))),p.baseExperience.onStateChangedObservable.add((function(e){e==vt.WebXRState.ENTERING_XR&&(c(),Da(r,i.id+" quiz_"+M+" ")),e==vt.WebXRState.NOT_IN_XR&&(d(),_a(r,3e3,i.id+" quiz_"+M+" "))}));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}(function(){h.apply(this,arguments)}(),document.getElementById("fullscreen-button"))&&document.getElementById("fullscreen-button").addEventListener("click",Object(W.a)(G.a.mark((function e(){return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.switchFullscreen(!1);case 1:case"end":return e.stop()}}),e)}))));var m=Ct(vt,n);m.selectMode(0);var f=null,b=null;n.onPointerObservable.addOnce((function(e){e.type===vt.PointerEventTypes.POINTERMOVE&&o.start()})),n.onPointerObservable.add((function(e){f=e.pickInfo.pickedMesh,e.type===vt.PointerEventTypes.POINTERDOWN&&(e.pickInfo.pickedMesh&&e.pickInfo.pickedMesh.XRPickable&&(b=f,m.attachToMesh(b)),e.pickInfo.pickedMesh&&e.pickInfo.pickedMesh.nonXREditable,!e.pickInfo.pickedMesh||e.pickInfo.pickedMesh.XRPickable||e.pickInfo.pickedMesh.nonXREditable||(b=null,m.attachToMesh(null))),e.type===vt.PointerEventTypes.POINTERUP&&e.pickInfo.pickedMesh&&e.pickInfo.pickedMesh.XRPickable&&f.physicsImpostor&&(f.physicsImpostor.dispose(),f.physicsImpostor=new vt.PhysicsImpostor(f,f.physicsImpostor.type,{mass:f.physicsImpostor.mass,restitution:f.physicsImpostor.restitution},n),f=null)})),n.onBeforePhysicsObservable.add((function(){f&&f.XRPickable&&f.physicsImpostor&&(f.physicsImpostor._physicsBody.setLinearVelocity(0,0,0),f.physicsImpostor._physicsBody.setAngularVelocity(0,0,0))})),n.constantlyUpdateMeshUnderPointer=!0;Dt(n,2);var g=Ft(n,1,!0),x=Lt(n,1,!0),v=zt(n,1,!0),y=[],w=[],M=0,O=[],P=[];var C=function(){function e(e){M=e,w[e].Load_Models().then((function(n){t(),O=n,w[e].Load_Logic&&(w[e].Load_Logic(),function(e){g.loadquiz(y[e])}(e))}))}function t(){v.clearObservers(),v.clearItems(),x.clearViewData(),console.log("reseteando"),void 0!=P&&P.forEach((function(e){n.onBeforeRenderObservable.remove(e)})),void 0!=O&&O.forEach((function(e){Array.isArray(e)?e.forEach((function(e){return e.dispose()})):e.dispose()}))}return{addExercise:function(e){w.push(e),y.push(e.quiz)},Start:e,Reset:function(){e(M)},ClearStuff:t}}(),I=new Xt("1. En el transcurso de 3 segundos un auto de juguete viaj\xf3 a una rapidez de 3m/s. \xbfQue distancia recorri\xf3?",["A) 9.0 metros","B) 3.0 metros","C) 4.7 metros","D) 3.5 metros"],0,["Tiempo = 3 Segundos","velocidad = 3m/s","Distancia recorrida: ?"]),j=new Xt("2. Un auto de juguete se movio 7 metros durante 3.5 segundos. \xbfque velocidad obtuvo?",["A) 0.5 m/s","B) 4.0 m/s","C) 2.0 m/2","D) 3.0 m/2"],2,["Tiempo = 3 Segundos","velocidad = 3m/s","Distancia recorrida: ?"]),A=new Xt("3. Un auto de juguete Recorri\xf3 6.5 metros a una velocidad de 1.5 m/s. \xbfcuanto tiempo dur\xf3 su movimiento?",["A) 2.5 segs","B) 4.3 segs","C) 3.3 segs","D) 6.5 segs"],1,["Tiempo = 3 Segundos","velocidad = 3m/s","Distancia recorrida: ?"]);function S(){return S=Object(W.a)(G.a.mark((function e(){var t,a,o,i,r,s;return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=function(e,t,a,o){var i=e[t].getHierarchyBoundingVectors(),r=i.max.subtract(i.min),s=i.max.add(i.min).scale(.5);a.scaling.copyFrom(r),a.XRPickable=!0,a.visibility=0,a.physicsImpostor=new vt.PhysicsImpostor(a,o,{mass:3},n),a.position=s,e[t].setParent(a)},t=function(e,t){e.rotationQuaternion=new vt.Quaternion.RotationAxis(new vt.Vector3(0,1,0),t*(Math.PI/180))},o=[],e.next=5,vt.SceneLoader.ImportMeshAsync("","../3DModels/","bluecar.glb",n);case 5:return i=e.sent,(r=i.meshes)[0].scaling.scaleInPlace(.15),r[0].position.set(-1.5,.33,0),s=vt.MeshBuilder.CreateBox("carBox1",{height:r[1].height,width:r[1].width,depth:r[1].depth},n),a(r,0,s,vt.PhysicsImpostor.BoxImpostor),t(s,180),o.push(r),o.push(s),e.abrupt("return",o);case 15:case"end":return e.stop()}}),e)}))),S.apply(this,arguments)}function B(){return B=Object(W.a)(G.a.mark((function e(){var t,a,o,i,r,s;return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=function(e,t,a,o){var i=e[t].getHierarchyBoundingVectors(),r=i.max.subtract(i.min),s=i.max.add(i.min).scale(.5);a.scaling.copyFrom(r),a.XRPickable=!0,a.visibility=0,a.physicsImpostor=new vt.PhysicsImpostor(a,o,{mass:3},n),a.position=s,e[t].setParent(a)},t=function(e,t){e.rotationQuaternion=new vt.Quaternion.RotationAxis(new vt.Vector3(0,1,0),t*(Math.PI/180))},o=[],e.next=5,vt.SceneLoader.ImportMeshAsync("","../3DModels/","redcar.gltf",n);case 5:return i=e.sent,(r=i.meshes)[0].scaling.scaleInPlace(.15),r[0].position.set(-1.5,.33,0),s=vt.MeshBuilder.CreateBox("carBox1",{height:r[1].height,width:r[1].width,depth:r[1].depth},n),a(r,0,s,vt.PhysicsImpostor.BoxImpostor),t(s,180),o.push(r),o.push(s),e.abrupt("return",o);case 15:case"end":return e.stop()}}),e)}))),B.apply(this,arguments)}function k(){return k=Object(W.a)(G.a.mark((function e(){var t,a,o,i,r,s;return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=function(e,t,a,o){var i=e[t].getHierarchyBoundingVectors(),r=i.max.subtract(i.min),s=i.max.add(i.min).scale(.5);a.scaling.copyFrom(r),a.XRPickable=!0,a.visibility=0,a.physicsImpostor=new vt.PhysicsImpostor(a,o,{mass:3},n),a.position=s,e[t].setParent(a)},t=function(e,t){e.rotationQuaternion=new vt.Quaternion.RotationAxis(new vt.Vector3(0,1,0),t*(Math.PI/180))},o=[],e.next=5,vt.SceneLoader.ImportMeshAsync("","../3DModels/","greencar.glb",n);case 5:return i=e.sent,(r=i.meshes)[0].scaling.scaleInPlace(.15),r[0].position.set(-1.5,.33,0),s=vt.MeshBuilder.CreateBox("carBox1",{height:r[1].height,width:r[1].width,depth:r[1].depth},n),a(r,0,s,vt.PhysicsImpostor.BoxImpostor),t(s,180),o.push(r),o.push(s),e.abrupt("return",o);case 15:case"end":return e.stop()}}),e)}))),k.apply(this,arguments)}I.addLogic((function(){var e=n.getMeshByName("carBox1"),t=function(){function e(t,n){Object(Ye.a)(this,e),this.sphere1=vt.Mesh.CreateSphere("measure_sphere1",8,.05,n),this.sphere1.parent=t,this.sphere1.position=new vt.Vector3(0,0,0),this.buttonpress=!1,this.expandmeasurement=!1}return Object(Je.a)(e,[{key:"createMeasure",value:function(e,t){this.sphere2=vt.Mesh.CreateSphere("measure_sphere2",8,.05,t),this.sphere2.position=e.position,this.distance=vt.Vector3.Distance(this.sphere1.getAbsolutePosition(),this.sphere2.getAbsolutePosition());var n=Math.abs(this.sphere1.getAbsolutePosition().x-this.sphere2.getAbsolutePosition().x),a=Math.abs(this.sphere1.getAbsolutePosition().y-this.sphere2.getAbsolutePosition().y),o=Math.abs(this.sphere1.getAbsolutePosition().z-this.sphere2.getAbsolutePosition().z),i=Math.sqrt(Math.pow(n,2)+Math.pow(o,2));this.distances=[this.distance.toFixed(2),n.toFixed(2),a.toFixed(2),o.toFixed(2),i.toFixed(2)],this.line=new vt.Mesh.CreateLines("line",[this.sphere1.getAbsolutePosition(),this.sphere2.getAbsolutePosition()],t,!0);this.sphere1.getAbsolutePosition().x,this.sphere2.getAbsolutePosition().x,this.sphere1.getAbsolutePosition().y,this.sphere2.getAbsolutePosition().y,this.sphere1.getAbsolutePosition().z,this.sphere2.getAbsolutePosition().z}},{key:"disposeMeasurement",value:function(e){this.buttonpress=!0,this.sphere1.dispose(),this.sphere2.dispose(),this.line.dispose(),e.onBeforeRenderObservable.remove(this.measureObs)}},{key:"calculateMeasurement",value:function(e){var t=this;this.measureObs=e.onBeforeRenderObservable.add((function(){if(e.deltaTime,t.sphere1&&t.sphere2){t.distance=vt.Vector3.Distance(t.sphere1.getAbsolutePosition(),t.sphere2.getAbsolutePosition());var n=Math.abs(t.sphere1.getAbsolutePosition().x-t.sphere2.getAbsolutePosition().x),a=Math.abs(t.sphere1.getAbsolutePosition().y-t.sphere2.getAbsolutePosition().y),o=Math.abs(t.sphere1.getAbsolutePosition().z-t.sphere2.getAbsolutePosition().z),i=Math.sqrt(Math.pow(n,2)+Math.pow(o,2));t.distances=[t.distance.toFixed(2),n.toFixed(2),a.toFixed(2),o.toFixed(2),i.toFixed(2)];t.sphere1.getAbsolutePosition().x,t.sphere2.getAbsolutePosition().x,t.sphere1.getAbsolutePosition().y,t.sphere2.getAbsolutePosition().y,t.sphere1.getAbsolutePosition().z,t.sphere2.getAbsolutePosition().z;t.line=new vt.Mesh.CreateLines(null,[t.sphere1.getAbsolutePosition(),t.sphere2.getAbsolutePosition()],null,null,t.line)}}))}},{key:"getMeasurementData",value:function(){return this.distances}}]),e}(),a=new t(e);a.createMeasure(e,n);var o={dispose:function(){a.disposeMeasurement(n)}};O.push(o),a.calculateMeasurement(n);var i=new vt.Vector3(0,0,1),r=(vt.Vector3.Zero(),1),s=1,c=1,l=0,d=0,u=0,p=function(e,t){var n=new vt.Matrix;return e.rotationQuaternion.toRotationMatrix(n),vt.Vector3.TransformNormal(t,n)};function h(){a&&a.disposeMeasurement(n),(a=new t(e)).createMeasure(e,n),a.calculateMeasurement(n),function(e){function t(t,a){var o=0,h=Math.round(t/a),m=0,f=n.onBeforeRenderObservable.add((function(){(o+=n.deltaTime)>=1e3*a&&(++m<=h?(o=0,l=(r*(m/h)).toFixed(2).toString(),d=(s*(m/h)).toFixed(2).toString(),u=c,x.setViewData("\u2206r: "+l+" metros (m)\n\u2206t: "+d+" segs\nv: "+u+" m/s"),e.physicsImpostor&&e.physicsImpostor.setLinearVelocity(p(e,i.scale(c)))):(m=0,o=0,e.physicsImpostor&&e.physicsImpostor.setLinearVelocity(new vt.Vector3(0,0,0)),n.onBeforeRenderObservable.remove(f)))}));P.push(f)}t(s,.25)}(e)}function m(){r=(c*s).toFixed(2)}var f=function(e){return Math.floor(10*e)/10},b=new Mt.SliderGroup("Control de variables","S");b.addSlider("tiempo",(function(e){s=Math.floor(10*e)/10,m()}),"segundos",1,10,1,f),b.addSlider("Velocidad",(function(e){c=Math.floor(10*e)/10,m()}),"m/s",1,10,1,f),v.controlPanel.addGroup(b),v.controlPanel.heightInPixels=150;var g=v.button.onPointerUpObservable.add((function(){h()}));v.addObserver(g)})),I.addModels((function(){return S.apply(this,arguments)})),j.addLogic((function(){var e=n.getMeshByName("carBox1"),t=function(){function e(t,n){Object(Ye.a)(this,e),this.sphere1=vt.Mesh.CreateSphere("measure_sphere1",8,.05,n),this.sphere1.parent=t,this.sphere1.position=new vt.Vector3(0,0,0),this.buttonpress=!1,this.expandmeasurement=!1}return Object(Je.a)(e,[{key:"createMeasure",value:function(e,t){this.sphere2=vt.Mesh.CreateSphere("measure_sphere2",8,.05,t),this.sphere2.position=e.position,this.distance=vt.Vector3.Distance(this.sphere1.getAbsolutePosition(),this.sphere2.getAbsolutePosition());var n=Math.abs(this.sphere1.getAbsolutePosition().x-this.sphere2.getAbsolutePosition().x),a=Math.abs(this.sphere1.getAbsolutePosition().y-this.sphere2.getAbsolutePosition().y),o=Math.abs(this.sphere1.getAbsolutePosition().z-this.sphere2.getAbsolutePosition().z),i=Math.sqrt(Math.pow(n,2)+Math.pow(o,2));this.distances=[this.distance.toFixed(2),n.toFixed(2),a.toFixed(2),o.toFixed(2),i.toFixed(2)],this.line=new vt.Mesh.CreateLines("line",[this.sphere1.getAbsolutePosition(),this.sphere2.getAbsolutePosition()],t,!0);this.sphere1.getAbsolutePosition().x,this.sphere2.getAbsolutePosition().x,this.sphere1.getAbsolutePosition().y,this.sphere2.getAbsolutePosition().y,this.sphere1.getAbsolutePosition().z,this.sphere2.getAbsolutePosition().z}},{key:"disposeMeasurement",value:function(e){this.buttonpress=!0,this.sphere1.dispose(),this.sphere2.dispose(),this.line.dispose(),e.onBeforeRenderObservable.remove(this.measureObs)}},{key:"calculateMeasurement",value:function(e){var t=this;this.measureObs=e.onBeforeRenderObservable.add((function(){if(e.deltaTime,t.sphere1&&t.sphere2){t.distance=vt.Vector3.Distance(t.sphere1.getAbsolutePosition(),t.sphere2.getAbsolutePosition());var n=Math.abs(t.sphere1.getAbsolutePosition().x-t.sphere2.getAbsolutePosition().x),a=Math.abs(t.sphere1.getAbsolutePosition().y-t.sphere2.getAbsolutePosition().y),o=Math.abs(t.sphere1.getAbsolutePosition().z-t.sphere2.getAbsolutePosition().z),i=Math.sqrt(Math.pow(n,2)+Math.pow(o,2));t.distances=[t.distance.toFixed(2),n.toFixed(2),a.toFixed(2),o.toFixed(2),i.toFixed(2)];t.sphere1.getAbsolutePosition().x,t.sphere2.getAbsolutePosition().x,t.sphere1.getAbsolutePosition().y,t.sphere2.getAbsolutePosition().y,t.sphere1.getAbsolutePosition().z,t.sphere2.getAbsolutePosition().z;t.line=new vt.Mesh.CreateLines(null,[t.sphere1.getAbsolutePosition(),t.sphere2.getAbsolutePosition()],null,null,t.line)}}))}},{key:"getMeasurementData",value:function(){return this.distances}}]),e}(),a=new t(e);a.createMeasure(e,n);var o={dispose:function(){a.disposeMeasurement(n)}};O.push(o),a.calculateMeasurement(n);var i=new vt.Vector3(0,0,1),r=(vt.Vector3.Zero(),1),s=1,c=1,l=0,d=0,u=0,p=function(e,t){var n=new vt.Matrix;return e.rotationQuaternion.toRotationMatrix(n),vt.Vector3.TransformNormal(t,n)};function h(){a&&a.disposeMeasurement(n),(a=new t(e)).createMeasure(e,n),a.calculateMeasurement(n),function(e){function t(t,a){var o=0,h=Math.round(t/a),m=0,f=n.onBeforeRenderObservable.add((function(){(o+=n.deltaTime)>=1e3*a&&(++m<=h?(o=0,l=(r*(m/h)).toFixed(2).toString(),d=(s*(m/h)).toFixed(2).toString(),u=c,x.setViewData("r: "+l+" metros (m)\nt: "+d+" segs\nv: "+u+" m/s"),e.physicsImpostor&&e.physicsImpostor.setLinearVelocity(p(e,i.scale(c)))):(m=0,o=0,e.physicsImpostor&&e.physicsImpostor.setLinearVelocity(new vt.Vector3(0,0,0)),n.onBeforeRenderObservable.remove(f)))}));P.push(f)}t(s,.25)}(e)}function m(){c=(r/s).toFixed(2)}var f=function(e){return Math.floor(10*e)/10},b=new Mt.SliderGroup("Control de variables","S");b.addSlider("Desplazamiento",(function(e){r=Math.floor(10*e)/10,m()}),"metros",1,10,1,f),b.addSlider("tiempo",(function(e){s=Math.floor(10*e)/10,m()}),"segundos",1,10,1,f),v.controlPanel.addGroup(b),v.controlPanel.heightInPixels=150;var g=v.button.onPointerUpObservable.add((function(){h()}));v.addObserver(g)})),j.addModels((function(){return B.apply(this,arguments)})),A.addLogic((function(){var e=n.getMeshByName("carBox1"),t=function(){function e(t,n){Object(Ye.a)(this,e),this.sphere1=vt.Mesh.CreateSphere("measure_sphere1",8,.05,n),this.sphere1.parent=t,this.sphere1.position=new vt.Vector3(0,0,0),this.buttonpress=!1,this.expandmeasurement=!1}return Object(Je.a)(e,[{key:"createMeasure",value:function(e,t){this.sphere2=vt.Mesh.CreateSphere("measure_sphere2",8,.05,t),this.sphere2.position=e.position,this.distance=vt.Vector3.Distance(this.sphere1.getAbsolutePosition(),this.sphere2.getAbsolutePosition());var n=Math.abs(this.sphere1.getAbsolutePosition().x-this.sphere2.getAbsolutePosition().x),a=Math.abs(this.sphere1.getAbsolutePosition().y-this.sphere2.getAbsolutePosition().y),o=Math.abs(this.sphere1.getAbsolutePosition().z-this.sphere2.getAbsolutePosition().z),i=Math.sqrt(Math.pow(n,2)+Math.pow(o,2));this.distances=[this.distance.toFixed(2),n.toFixed(2),a.toFixed(2),o.toFixed(2),i.toFixed(2)],this.line=new vt.Mesh.CreateLines("line",[this.sphere1.getAbsolutePosition(),this.sphere2.getAbsolutePosition()],t,!0);this.sphere1.getAbsolutePosition().x,this.sphere2.getAbsolutePosition().x,this.sphere1.getAbsolutePosition().y,this.sphere2.getAbsolutePosition().y,this.sphere1.getAbsolutePosition().z,this.sphere2.getAbsolutePosition().z}},{key:"disposeMeasurement",value:function(e){this.buttonpress=!0,this.sphere1.dispose(),this.sphere2.dispose(),this.line.dispose(),e.onBeforeRenderObservable.remove(this.measureObs)}},{key:"calculateMeasurement",value:function(e){var t=this;this.measureObs=e.onBeforeRenderObservable.add((function(){if(e.deltaTime,t.sphere1&&t.sphere2){t.distance=vt.Vector3.Distance(t.sphere1.getAbsolutePosition(),t.sphere2.getAbsolutePosition());var n=Math.abs(t.sphere1.getAbsolutePosition().x-t.sphere2.getAbsolutePosition().x),a=Math.abs(t.sphere1.getAbsolutePosition().y-t.sphere2.getAbsolutePosition().y),o=Math.abs(t.sphere1.getAbsolutePosition().z-t.sphere2.getAbsolutePosition().z),i=Math.sqrt(Math.pow(n,2)+Math.pow(o,2));t.distances=[t.distance.toFixed(2),n.toFixed(2),a.toFixed(2),o.toFixed(2),i.toFixed(2)];t.sphere1.getAbsolutePosition().x,t.sphere2.getAbsolutePosition().x,t.sphere1.getAbsolutePosition().y,t.sphere2.getAbsolutePosition().y,t.sphere1.getAbsolutePosition().z,t.sphere2.getAbsolutePosition().z;t.line=new vt.Mesh.CreateLines(null,[t.sphere1.getAbsolutePosition(),t.sphere2.getAbsolutePosition()],null,null,t.line)}}))}},{key:"getMeasurementData",value:function(){return this.distances}}]),e}(),a=new t(e);a.createMeasure(e,n);var o={dispose:function(){a.disposeMeasurement(n)}};O.push(o),a.calculateMeasurement(n);var i=new vt.Vector3(0,0,1),r=(vt.Vector3.Zero(),1),s=1,c=1,l=0,d=0,u=0,p=function(e,t){var n=new vt.Matrix;return e.rotationQuaternion.toRotationMatrix(n),vt.Vector3.TransformNormal(t,n)};function h(){a&&a.disposeMeasurement(n),(a=new t(e)).createMeasure(e,n),a.calculateMeasurement(n),function(e){function t(t,a){var o=0,h=Math.round(t/a),m=0,f=n.onBeforeRenderObservable.add((function(){(o+=n.deltaTime)>=1e3*a&&(++m<=h?(o=0,l=(r*(m/h)).toFixed(2).toString(),d=(s*(m/h)).toFixed(2).toString(),u=c,x.setViewData("r: "+l+" metros (m)\nt: "+d+" segs\nv: "+u+" m/s"),e.physicsImpostor&&e.physicsImpostor.setLinearVelocity(p(e,i.scale(c)))):(m=0,o=0,e.physicsImpostor&&e.physicsImpostor.setLinearVelocity(new vt.Vector3(0,0,0)),n.onBeforeRenderObservable.remove(f)))}));P.push(f)}t(s,.25)}(e)}function m(){s=(r/c).toFixed(2)}var f=function(e){return Math.floor(10*e)/10},b=new Mt.SliderGroup("Control de variables","S");b.addSlider("Desplazamiento",(function(e){r=Math.floor(10*e)/10,m()}),"metros",1,10,1,f),b.addSlider("Velocidad",(function(e){c=Math.floor(10*e)/10,m()}),"m/s",1,10,1,f),v.controlPanel.addGroup(b),v.controlPanel.heightInPixels=150;var g=v.button.onPointerUpObservable.add((function(){h()}));v.addObserver(g)})),A.addModels((function(){return k.apply(this,arguments)})),C.addExercise(I),C.addExercise(j),C.addExercise(A),C.Start(M),g.leftarrow.onPointerClickObservable.add((function(){--M<0&&(M=y.length-1),y[M]&&C.Start(M)})),g.rightarrow.onPointerClickObservable.add((function(){++M>y.length-1&&(M=0),y[M]&&C.Start(M)})),g.finalanswerButton.onPointerUpObservable.add((function(){var e;g.getIsCorrect()?(Nt(e="quiz_"+(M+1),o.getTimeValues().toString()),Rt(e).isCompleted=!0,Et(i.id),o.reset()):(_t(e="quiz_"+(M+1)),Vt(e),Et(i.id))})),v.button2.onPointerUpObservable.add((function(){C.Reset(),u.position=s,u.setTarget(l),o.reset()})),a.runRenderLoop((function(){n&&(window.document.title=a.getFps().toFixed()+" fps",n.render())}))}})})}),Object(b.jsxs)(D.a,{align:"center",maxWidth:"sm",className:e.babylonbuttons,children:[Object(b.jsx)(C.a,{id:"xr-button",size:"medium",variant:"contained",color:"primary",children:Object(b.jsx)(N.a,{variant:"h6",children:"Entrar a modo XR"})}),Object(b.jsx)(C.a,{id:"fullscreen-button",m:.5,size:"medium",variant:"contained",color:"secondary",children:Object(b.jsx)(N.a,{variant:"h6",children:"pantalla completa"})})]})]})]})}var Ua=Fa;var Xa=function(){return Object(b.jsx)(s.a,{children:Object(b.jsx)(v,{children:Object(b.jsxs)(c.d,{children:[Object(b.jsx)(c.b,{exact:!0,path:"/",component:X}),Object(b.jsx)(O,{path:"/login",component:se}),Object(b.jsx)(O,{path:"/signUp",component:pe}),Object(b.jsx)(O,{path:"/forgot-password",component:be}),Object(b.jsx)(w,{path:"/excercises",component:Le}),Object(b.jsx)(w,{exact:!0,path:"/userprofile",component:ve}),Object(b.jsx)(w,{exact:!0,path:"/survey-teacher",component:Ge}),Object(b.jsx)(w,{exact:!0,path:"/survey-student",component:Ze}),Object(b.jsx)(w,{path:"/1_1",component:rn}),Object(b.jsx)(w,{path:"/1_2",component:bn}),Object(b.jsx)(w,{path:"/1_3",component:In}),Object(b.jsx)(w,{path:"/1_4",component:Vn}),Object(b.jsx)(w,{path:"/2_1",component:Zn}),Object(b.jsx)(w,{path:"/2_2",component:oa}),Object(b.jsx)(w,{path:"/2_3",component:ha}),Object(b.jsx)(w,{path:"/2_4",component:va}),Object(b.jsx)(w,{path:"/test",component:Ua}),Object(b.jsx)(c.b,{exact:!0,path:"/compatibility_test",component:wa})]})})})},qa=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,247)).then((function(t){var n=t.getCLS,a=t.getFID,o=t.getFCP,i=t.getLCP,r=t.getTTFB;n(e),a(e),o(e),i(e),r(e)}))};r.a.render(Object(b.jsx)(o.a.StrictMode,{children:Object(b.jsx)(Xa,{})}),document.getElementById("root")),qa()}},[[185,1,2]]]);
//# sourceMappingURL=main.c604cec4.chunk.js.map